(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Cd={exports:{}},bo={};var H_;function BT(){if(H_)return bo;H_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return bo.Fragment=e,bo.jsx=i,bo.jsxs=i,bo}var G_;function qT(){return G_||(G_=1,Cd.exports=BT()),Cd.exports}var y=qT(),Id={exports:{}},we={};var F_;function HT(){if(F_)return we;F_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Y={};function te(M,Q,ae){this.props=M,this.context=Q,this.refs=Y,this.updater=ae||F}te.prototype.isReactComponent={},te.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pe(){}pe.prototype=te.prototype;function ie(M,Q,ae){this.props=M,this.context=Q,this.refs=Y,this.updater=ae||F}var Ne=ie.prototype=new pe;Ne.constructor=ie,ee(Ne,te.prototype),Ne.isPureReactComponent=!0;var Se=Array.isArray;function _e(){}var N={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R(M,Q,ae){var oe=ae.ref;return{$$typeof:a,type:M,key:Q,ref:oe!==void 0?oe:null,props:ae}}function V(M,Q){return R(M.type,Q,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function k(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Q[ae]})}var x=/\/+/g;function re(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Q.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(_e,_e):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,Q,ae,oe,Ee){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case a:case e:Ue=!0;break;case A:return Ue=M._init,U(Ue(M._payload),Q,ae,oe,Ee)}}if(Ue)return Ee=Ee(M),Ue=oe===""?"."+re(M,0):oe,Se(Ee)?(ae="",Ue!=null&&(ae=Ue.replace(x,"$&/")+"/"),U(Ee,Q,ae,"",function(Li){return Li})):Ee!=null&&(D(Ee)&&(Ee=V(Ee,ae+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Ue)),Q.push(Ee)),1;Ue=0;var yt=oe===""?".":oe+":";if(Se(M))for(var lt=0;lt<M.length;lt++)oe=M[lt],Ce=yt+re(oe,lt),Ue+=U(oe,Q,ae,Ce,Ee);else if(lt=q(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(oe=M.next()).done;)oe=oe.value,Ce=yt+re(oe,lt++),Ue+=U(oe,Q,ae,Ce,Ee);else if(Ce==="object"){if(typeof M.then=="function")return U(le(M),Q,ae,oe,Ee);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ne(M,Q,ae){if(M==null)return M;var oe=[],Ee=0;return U(M,oe,"","",function(Ce){return Q.call(ae,Ce,Ee++)}),oe}function fe(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Ae=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ie={map:ne,forEach:function(M,Q,ae){ne(M,function(){Q.apply(this,arguments)},ae)},count:function(M){var Q=0;return ne(M,function(){Q++}),Q},toArray:function(M){return ne(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=w,we.Children=Ie,we.Component=te,we.Fragment=i,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=_,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,Q,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=ee({},M.props),Ee=M.key;if(Q!=null)for(Ce in Q.key!==void 0&&(Ee=""+Q.key),Q)!T.call(Q,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Q.ref===void 0||(oe[Ce]=Q[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=ae;else if(1<Ce){for(var Ue=Array(Ce),yt=0;yt<Ce;yt++)Ue[yt]=arguments[yt+2];oe.children=Ue}return R(M.type,Ee,oe)},we.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},we.createElement=function(M,Q,ae){var oe,Ee={},Ce=null;if(Q!=null)for(oe in Q.key!==void 0&&(Ce=""+Q.key),Q)T.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=Q[oe]);var Ue=arguments.length-2;if(Ue===1)Ee.children=ae;else if(1<Ue){for(var yt=Array(Ue),lt=0;lt<Ue;lt++)yt[lt]=arguments[lt+2];Ee.children=yt}if(M&&M.defaultProps)for(oe in Ue=M.defaultProps,Ue)Ee[oe]===void 0&&(Ee[oe]=Ue[oe]);return R(M,Ce,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:p,render:M}},we.isValidElement=D,we.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:fe}},we.memo=function(M,Q){return{$$typeof:v,type:M,compare:Q===void 0?null:Q}},we.startTransition=function(M){var Q=N.T,ae={};N.T=ae;try{var oe=M(),Ee=N.S;Ee!==null&&Ee(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,Ae)}catch(Ce){Ae(Ce)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),N.T=Q}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(M){return N.H.use(M)},we.useActionState=function(M,Q,ae){return N.H.useActionState(M,Q,ae)},we.useCallback=function(M,Q){return N.H.useCallback(M,Q)},we.useContext=function(M){return N.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,Q){return N.H.useDeferredValue(M,Q)},we.useEffect=function(M,Q){return N.H.useEffect(M,Q)},we.useEffectEvent=function(M){return N.H.useEffectEvent(M)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(M,Q,ae){return N.H.useImperativeHandle(M,Q,ae)},we.useInsertionEffect=function(M,Q){return N.H.useInsertionEffect(M,Q)},we.useLayoutEffect=function(M,Q){return N.H.useLayoutEffect(M,Q)},we.useMemo=function(M,Q){return N.H.useMemo(M,Q)},we.useOptimistic=function(M,Q){return N.H.useOptimistic(M,Q)},we.useReducer=function(M,Q,ae){return N.H.useReducer(M,Q,ae)},we.useRef=function(M){return N.H.useRef(M)},we.useState=function(M){return N.H.useState(M)},we.useSyncExternalStore=function(M,Q,ae){return N.H.useSyncExternalStore(M,Q,ae)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var K_;function wm(){return K_||(K_=1,Id.exports=HT()),Id.exports}var de=wm(),Dd={exports:{}},Eo={},Md={exports:{}},Od={};var Q_;function GT(){return Q_||(Q_=1,(function(a){function e(U,ne){var fe=U.length;U.push(ne);e:for(;0<fe;){var Ae=fe-1>>>1,Ie=U[Ae];if(0<o(Ie,ne))U[Ae]=ne,U[fe]=Ie,fe=Ae;else break e}}function i(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var ne=U[0],fe=U.pop();if(fe!==ne){U[0]=fe;e:for(var Ae=0,Ie=U.length,M=Ie>>>1;Ae<M;){var Q=2*(Ae+1)-1,ae=U[Q],oe=Q+1,Ee=U[oe];if(0>o(ae,fe))oe<Ie&&0>o(Ee,ae)?(U[Ae]=Ee,U[oe]=fe,Ae=oe):(U[Ae]=ae,U[Q]=fe,Ae=Q);else if(oe<Ie&&0>o(Ee,fe))U[Ae]=Ee,U[oe]=fe,Ae=oe;else break e}}return ne}function o(U,ne){var fe=U.sortIndex-ne.sortIndex;return fe!==0?fe:U.id-ne.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,w=null,C=3,q=!1,F=!1,ee=!1,Y=!1,te=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Ne(U){for(var ne=i(v);ne!==null;){if(ne.callback===null)s(v);else if(ne.startTime<=U)s(v),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(v)}}function Se(U){if(ee=!1,Ne(U),!F)if(i(_)!==null)F=!0,_e||(_e=!0,k());else{var ne=i(v);ne!==null&&le(Se,ne.startTime-U)}}var _e=!1,N=-1,T=5,R=-1;function V(){return Y?!0:!(a.unstable_now()-R<T)}function D(){if(Y=!1,_e){var U=a.unstable_now();R=U;var ne=!0;try{e:{F=!1,ee&&(ee=!1,pe(N),N=-1),q=!0;var fe=C;try{t:{for(Ne(U),w=i(_);w!==null&&!(w.expirationTime>U&&V());){var Ae=w.callback;if(typeof Ae=="function"){w.callback=null,C=w.priorityLevel;var Ie=Ae(w.expirationTime<=U);if(U=a.unstable_now(),typeof Ie=="function"){w.callback=Ie,Ne(U),ne=!0;break t}w===i(_)&&s(_),Ne(U)}else s(_);w=i(_)}if(w!==null)ne=!0;else{var M=i(v);M!==null&&le(Se,M.startTime-U),ne=!1}}break e}finally{w=null,C=fe,q=!1}ne=void 0}}finally{ne?k():_e=!1}}}var k;if(typeof ie=="function")k=function(){ie(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,re=x.port2;x.port1.onmessage=D,k=function(){re.postMessage(null)}}else k=function(){te(D,0)};function le(U,ne){N=te(function(){U(a.unstable_now())},ne)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(U){switch(C){case 1:case 2:case 3:var ne=3;break;default:ne=C}var fe=C;C=ne;try{return U()}finally{C=fe}},a.unstable_requestPaint=function(){Y=!0},a.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var fe=C;C=U;try{return ne()}finally{C=fe}},a.unstable_scheduleCallback=function(U,ne,fe){var Ae=a.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,U){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=fe+Ie,U={id:A++,callback:ne,priorityLevel:U,startTime:fe,expirationTime:Ie,sortIndex:-1},fe>Ae?(U.sortIndex=fe,e(v,U),i(_)===null&&U===i(v)&&(ee?(pe(N),N=-1):ee=!0,le(Se,fe-Ae))):(U.sortIndex=Ie,e(_,U),F||q||(F=!0,_e||(_e=!0,k()))),U},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(U){var ne=C;return function(){var fe=C;C=ne;try{return U.apply(this,arguments)}finally{C=fe}}}})(Od)),Od}var Y_;function FT(){return Y_||(Y_=1,Md.exports=GT()),Md.exports}var Vd={exports:{}},Jt={};var X_;function KT(){if(X_)return Jt;X_=1;var a=wm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,A)},Jt.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Jt.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Jt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Jt.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,w=p(A,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:w,integrity:C,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Jt.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Jt.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,w=p(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Jt.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Jt.requestFormReset=function(_){s.d.r(_)},Jt.unstable_batchedUpdates=function(_,v){return _(v)},Jt.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var $_;function QT(){if($_)return Vd.exports;$_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Vd.exports=KT(),Vd.exports}var Z_;function YT(){if(Z_)return Eo;Z_=1;var a=FT(),e=wm(),i=QT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case te:return"Profiler";case Y:return"StrictMode";case Se:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Ne:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case T:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var le=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],Ie=-1;function M(t){return{current:t}}function Q(t){0>Ie||(t.current=Ae[Ie],Ae[Ie]=null,Ie--)}function ae(t,n){Ie++,Ae[Ie]=t.current,t.current=n}var oe=M(null),Ee=M(null),Ce=M(null),Ue=M(null);function yt(t,n){switch(ae(Ce,n),ae(Ee,t),ae(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=f_(n),t=d_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),ae(oe,t)}function lt(){Q(oe),Q(Ee),Q(Ce)}function Li(t){t.memoizedState!==null&&ae(Ue,t);var n=oe.current,r=d_(n,t.type);n!==r&&(ae(Ee,t),ae(oe,r))}function fs(t){Ee.current===t&&(Q(oe),Q(Ee)),Ue.current===t&&(Q(Ue),go._currentValue=fe)}var pn,ds;function Nn(t){if(pn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);pn=n&&n[1]||"",ds=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pn+t+ds}var ga=!1;function ri(t,n){if(!t||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var B=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){B=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){B=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Nn(r):""}function $(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return ri(t.type,!1);case 11:return ri(t.type.render,!1);case 1:return ri(t.type,!0);case 31:return Nn("Activity");default:return""}}function Ye(t){try{var n="",r=null;do n+=$(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ve=Object.prototype.hasOwnProperty,tt=a.unstable_scheduleCallback,gn=a.unstable_cancelCallback,ms=a.unstable_shouldYield,ya=a.unstable_requestPaint,Ut=a.unstable_now,li=a.unstable_getCurrentPriorityLevel,ps=a.unstable_ImmediatePriority,gs=a.unstable_UserBlockingPriority,Hn=a.unstable_NormalPriority,ar=a.unstable_LowPriority,eu=a.unstable_IdlePriority,tu=a.log,nu=a.unstable_setDisableYieldValue,Gn=null,Ht=null;function Cn(t){if(typeof tu=="function"&&nu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Gn,t)}catch{}}var _t=Math.clz32?Math.clz32:su,iu=Math.log,rr=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/rr|0)|0}var oi=256,_a=262144,St=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ui(l):(g&=E,g!==0?h=ui(g):r||(r=E&~t,r!==0&&(h=ui(r))))):(E=l&~f,E!==0?h=ui(E):g!==0?h=ui(g):r||(r=l&~t,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function hi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function va(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=g&~r;0<r;){var K=31-_t(r),Z=1<<K;E[K]=0,I[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var G=B[K];G!==null&&(G.lane&=-536870913)}r&=~Z}l!==0&&ba(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ba(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_t(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function bl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-_t(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function El(t,n){var r=n&-n;return r=(r&42)!==0?1:Ea(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ea(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:j_(t.type))}function Kn(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var Qn=Math.random().toString(36).slice(2),At="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,fi="__reactContainer$"+Qn,lr="__reactEvents$"+Qn,Vh="__reactListeners$"+Qn,lu="__reactHandles$"+Qn,ou="__reactResources$"+Qn,di="__reactMarker$"+Qn;function or(t){delete t[At],delete t[Lt],delete t[lr],delete t[Vh],delete t[lu]}function mi(t){var n=t[At];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fi]||r[At]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=b_(t);t!==null;){if(r=t[At])return r;t=b_(t)}return n}t=r,r=t.parentNode}return null}function In(t){if(t=t[At]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function yn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function pi(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[di]=!0}var Tl=new Set,Sl={};function gi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Sl[t]=n,t=0;t<n.length;t++)Tl.add(n[t])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},wl={};function uu(t){return Ve.call(wl,t)?!0:Ve.call(xl,t)?!1:Al.test(t)?wl[t]=!0:(xl[t]=!0,!1)}function ur(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function _n(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function wt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ys(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=ys(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function Ta(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ys(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sa=/[\n"\\]/g;function rn(t){return t.replace(Sa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cr(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Nl(t,g,Pt(n)):r!=null?Nl(t,g,Pt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pt(E):t.removeAttribute("name")}function cu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}r=r!=null?""+Pt(r):"",n=n!=null?""+Pt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Je(t)}function Nl(t,n,r){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function _s(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Pt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Pt(r):""}function vs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Pt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Je(t)}function ln(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Il(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(t,f,n[f])}function hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(t){return bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Dl=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,vi=null;function Aa(t){var n=In(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(cr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));cr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ta(l)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&_s(t,!!r.multiple,n,!1)}}}var dr=!1;function Ts(t,n,r){if(dr)return t(n,r);dr=!0;try{var l=t(n);return l}finally{if(dr=!1,(Es!==null||vi!==null)&&(rc(),Es&&(n=Es,t=vi,vi=Es=null,Aa(n),t)))for(n=0;n<t.length;n++)Aa(t[n])}}function Xn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(Mn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){xa=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{xa=!1}var bi=null,Ml=null,wa=null;function Ol(){if(wa)return wa;var t,n=Ml,r=n.length,l,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return wa=h.slice(t,1<l?1-l:void 0)}function Ra(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function $n(){return!1}function Gt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:$n,this.isPropagationStopped=$n,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Gt(Bi),Ss=w({},Bi,{view:0,detail:0}),Vl=Gt(Ss),As,mr,Ti,pr=w({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(As=t.screenX-Ti.screenX,mr=t.screenY-Ti.screenY):mr=As=0,Ti=t),As)},movementY:function(t){return"movementY"in t?t.movementY:mr}}),kl=Gt(pr),Na=w({},pr,{dataTransfer:0}),mu=Gt(Na),pu=w({},Ss,{relatedTarget:0}),Ca=Gt(pu),jl=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Gt(jl),gr=w({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=Gt(gr),_u=w({},Bi,{data:0}),Si=Gt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function xs(){return Tu}var sn=w({},Ss,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?Ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=Gt(sn),Au=w({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Gt(Au),u=w({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Gt(u),b=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(b),L=w({},pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Gt(L),se=w({},Bi,{newState:0,oldState:0}),De=Gt(se),vt=[9,13,27,32],Xe=Mn&&"CompositionEvent"in window,ft=null;Mn&&"documentMode"in document&&(ft=document.documentMode);var On=Mn&&"TextEvent"in window&&!ft,Ai=Mn&&(!Xe||ft&&8<ft&&11>=ft),Zn=" ",Jn=!1;function Ia(t,n){switch(t){case"keyup":return vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function hE(t,n){switch(t){case"compositionend":return yr(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Jn?null:t;default:return null}}function fE(t,n){if(_r)return t==="compositionend"||!Xe&&Ia(t,n)?(t=Ol(),wa=Ml=bi=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function Ap(t,n,r,l){Es?vi?vi.push(l):vi=[l]:Es=l,n=dc(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ul=null,Ll=null;function mE(t){r_(t,0)}function xu(t){var n=yn(t);if(Ta(n))return t}function xp(t,n){if(t==="change")return n}var wp=!1;if(Mn){var kh;if(Mn){var jh="oninput"in document;if(!jh){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),jh=typeof Rp.oninput=="function"}kh=jh}else kh=!1;wp=kh&&(!document.documentMode||9<document.documentMode)}function Np(){Ul&&(Ul.detachEvent("onpropertychange",Cp),Ll=Ul=null)}function Cp(t){if(t.propertyName==="value"&&xu(Ll)){var n=[];Ap(n,Ll,t,Dn(t)),Ts(mE,n)}}function pE(t,n,r){t==="focusin"?(Np(),Ul=n,Ll=r,Ul.attachEvent("onpropertychange",Cp)):t==="focusout"&&Np()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Ll)}function yE(t,n){if(t==="click")return xu(n)}function _E(t,n){if(t==="input"||t==="change")return xu(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:vE;function Pl(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ve.call(n,h)||!vn(t[h],n[h]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dp(t,n){var r=Ip(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ip(r)}}function Mp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=_i(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bE=Mn&&"documentMode"in document&&11>=document.documentMode,vr=null,Lh=null,zl=null,Ph=!1;function Vp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||vr==null||vr!==_i(l)||(l=vr,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zl&&Pl(zl,l)||(zl=l,l=dc(Lh,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=vr)))}function Da(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var br={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},zh={},kp={};Mn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Ma(t){if(zh[t])return zh[t];if(!br[t])return t;var n=br[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in kp)return zh[t]=n[r];return t}var jp=Ma("animationend"),Up=Ma("animationiteration"),Lp=Ma("animationstart"),EE=Ma("transitionrun"),TE=Ma("transitionstart"),SE=Ma("transitioncancel"),Pp=Ma("transitionend"),zp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Wn(t,n){zp.set(t,n),gi(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Er=0,qh=0;function Ru(){for(var t=Er,n=qh=Er=0;n<t;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Bp(r,h,f)}}function Nu(t,n,r,l){Vn[Er++]=t,Vn[Er++]=n,Vn[Er++]=r,Vn[Er++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hh(t,n,r,l){return Nu(t,n,r,l),Cu(t)}function Oa(t,n){return Nu(t,null,null,n),Cu(t)}function Bp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<oo)throw oo=0,Wf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Tr={};function AE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,n,r,l){return new AE(t,n,r,l)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,n){var r=t.alternate;return r===null?(r=bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Gh(t)&&(g=1);else if(typeof t=="string")g=CT(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,r,n,h),t.elementType=R,t.lanes=f,t;case ee:return Va(r.children,h,f,n);case Y:g=8,h|=24;break;case te:return t=bn(12,r,n,h|2),t.elementType=te,t.lanes=f,t;case Se:return t=bn(13,r,n,h),t.elementType=Se,t.lanes=f,t;case _e:return t=bn(19,r,n,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:g=10;break e;case pe:g=9;break e;case Ne:g=11;break e;case N:g=14;break e;case T:g=16,l=null;break e}g=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=bn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Va(t,n,r,l){return t=bn(7,t,l,n),t.lanes=r,t}function Fh(t,n,r){return t=bn(6,t,null,n),t.lanes=r,t}function Hp(t){var n=bn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,r){return n=bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gp=new WeakMap;function kn(t,n){if(typeof t=="object"&&t!==null){var r=Gp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ye(n)},Gp.set(t,n),n)}return{value:t,source:n,stack:Ye(n)}}var Sr=[],Ar=0,Du=null,Bl=0,jn=[],Un=0,ws=null,xi=1,wi="";function Gi(t,n){Sr[Ar++]=Bl,Sr[Ar++]=Du,Du=t,Bl=n}function Fp(t,n,r){jn[Un++]=xi,jn[Un++]=wi,jn[Un++]=ws,ws=t;var l=xi;t=wi;var h=32-_t(l)-1;l&=~(1<<h),r+=1;var f=32-_t(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,xi=1<<32-_t(n)+h|r<<h|l,wi=f+t}else xi=1<<f|r<<h|l,wi=t}function Qh(t){t.return!==null&&(Gi(t,1),Fp(t,1,0))}function Yh(t){for(;t===Du;)Du=Sr[--Ar],Sr[Ar]=null,Bl=Sr[--Ar],Sr[Ar]=null;for(;t===ws;)ws=jn[--Un],jn[Un]=null,wi=jn[--Un],jn[Un]=null,xi=jn[--Un],jn[Un]=null}function Kp(t,n){jn[Un++]=xi,jn[Un++]=wi,jn[Un++]=ws,xi=n.id,wi=n.overflow,ws=t}var Ft=null,ut=null,He=!1,Rs=null,Ln=!1,Xh=Error(s(519));function Ns(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(kn(n,t)),Xh}function Qp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[At]=t,n[Lt]=l,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(r=0;r<co.length;r++)je(co[r],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),vs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||c_(n.textContent,r)?(l.popover!=null&&(je("beforetoggle",n),je("toggle",n)),l.onScroll!=null&&je("scroll",n),l.onScrollEnd!=null&&je("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Ns(t,!0)}function Yp(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ft=Ft.return}}function xr(t){if(t!==Ft)return!1;if(!He)return Yp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||md(t.type,t.memoizedProps)),r=!r),r&&ut&&Ns(t),Yp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=v_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=v_(t)}else n===27?(n=ut,qs(t.type)?(t=vd,vd=null,ut=t):ut=n):ut=Ft?zn(t.stateNode.nextSibling):null;return!0}function ka(){ut=Ft=null,He=!1}function $h(){var t=Rs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Rs=null),t}function ql(t){Rs===null?Rs=[t]:Rs.push(t)}var Zh=M(null),ja=null,Fi=null;function Cs(t,n,r){ae(Zh,n._currentValue),n._currentValue=r}function Ki(t){t._currentValue=Zh.current,Q(Zh)}function Jh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Wh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Jh(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Jh(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function wr(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;vn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}h=h.return}t!==null&&Wh(n,t,r,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ua(t){ja=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Xp(ja,t)}function Ou(t,n){return ja===null&&Ua(t),Xp(t,n)}function Xp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Fi=Fi.next=n;return r}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wE=a.unstable_scheduleCallback,RE=a.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new xE,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&wE(RE,function(){t.controller.abort()})}var Gl=null,tf=0,Rr=0,Nr=null;function NE(t,n){if(Gl===null){var r=Gl=[];tf=0,Rr=ad(),Nr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return tf++,n.then($p,$p),n}function $p(){if(--tf===0&&Gl!==null){Nr!==null&&(Nr.status="fulfilled");var t=Gl;Gl=null,Rr=0,Nr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Zp=U.S;U.S=function(t,n){Vy=Ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NE(t,n),Zp!==null&&Zp(t,n)};var La=M(null);function nf(){var t=La.current;return t!==null?t:rt.pooledCache}function Vu(t,n){n===null?ae(La,La.current):ae(La,n.pool)}function Jp(){var t=nf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Cr=Error(s(460)),sf=Error(s(474)),ku=Error(s(542)),ju={then:function(){}};function Wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Yn,Yn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t}throw za=n,Cr}}function Pa(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(za=r,Cr):r}}var za=null;function tg(){if(za===null)throw Error(s(459));var t=za;return za=null,t}function ng(t){if(t===Cr||t===ku)throw Error(s(483))}var Ir=null,Fl=0;function Uu(t){var n=Fl;return Fl+=1,Ir===null&&(Ir=[]),eg(Ir,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ig(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Hi(j,O),j.index=0,j.sibling=null,j}function f(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,P,X){return O===null||O.tag!==6?(O=Fh(P,j.mode,X),O.return=j,O):(O=h(O,P),O.return=j,O)}function I(j,O,P,X){var ge=P.type;return ge===ee?K(j,O,P.props.children,X,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&Pa(ge)===O.type)?(O=h(O,P.props),Kl(O,P),O.return=j,O):(O=Iu(P.type,P.key,P.props,null,j.mode,X),Kl(O,P),O.return=j,O)}function z(j,O,P,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Kh(P,j.mode,X),O.return=j,O):(O=h(O,P.children||[]),O.return=j,O)}function K(j,O,P,X,ge){return O===null||O.tag!==7?(O=Va(P,j.mode,X,ge),O.return=j,O):(O=h(O,P),O.return=j,O)}function Z(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return P=Iu(O.type,O.key,O.props,null,j.mode,P),Kl(P,O),P.return=j,P;case F:return O=Kh(O,j.mode,P),O.return=j,O;case T:return O=Pa(O),Z(j,O,P)}if(le(O)||k(O))return O=Va(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return Z(j,Uu(O),P);if(O.$$typeof===ie)return Z(j,Ou(j,O),P);Lu(j,O)}return null}function B(j,O,P,X){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:E(j,O,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ge?I(j,O,P,X):null;case F:return P.key===ge?z(j,O,P,X):null;case T:return P=Pa(P),B(j,O,P,X)}if(le(P)||k(P))return ge!==null?null:K(j,O,P,X,null);if(typeof P.then=="function")return B(j,O,Uu(P),X);if(P.$$typeof===ie)return B(j,O,Ou(j,P),X);Lu(j,P)}return null}function G(j,O,P,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(P)||null,E(O,j,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return j=j.get(X.key===null?P:X.key)||null,I(O,j,X,ge);case F:return j=j.get(X.key===null?P:X.key)||null,z(O,j,X,ge);case T:return X=Pa(X),G(j,O,P,X,ge)}if(le(X)||k(X))return j=j.get(P)||null,K(O,j,X,ge,null);if(typeof X.then=="function")return G(j,O,P,Uu(X),ge);if(X.$$typeof===ie)return G(j,O,P,Ou(O,X),ge);Lu(O,X)}return null}function he(j,O,P,X){for(var ge=null,Ke=null,me=O,Oe=O=0,Pe=null;me!==null&&Oe<P.length;Oe++){me.index>Oe?(Pe=me,me=null):Pe=me.sibling;var Qe=B(j,me,P[Oe],X);if(Qe===null){me===null&&(me=Pe);break}t&&me&&Qe.alternate===null&&n(j,me),O=f(Qe,O,Oe),Ke===null?ge=Qe:Ke.sibling=Qe,Ke=Qe,me=Pe}if(Oe===P.length)return r(j,me),He&&Gi(j,Oe),ge;if(me===null){for(;Oe<P.length;Oe++)me=Z(j,P[Oe],X),me!==null&&(O=f(me,O,Oe),Ke===null?ge=me:Ke.sibling=me,Ke=me);return He&&Gi(j,Oe),ge}for(me=l(me);Oe<P.length;Oe++)Pe=G(me,j,Oe,P[Oe],X),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?Oe:Pe.key),O=f(Pe,O,Oe),Ke===null?ge=Pe:Ke.sibling=Pe,Ke=Pe);return t&&me.forEach(function(Qs){return n(j,Qs)}),He&&Gi(j,Oe),ge}function ve(j,O,P,X){if(P==null)throw Error(s(151));for(var ge=null,Ke=null,me=O,Oe=O=0,Pe=null,Qe=P.next();me!==null&&!Qe.done;Oe++,Qe=P.next()){me.index>Oe?(Pe=me,me=null):Pe=me.sibling;var Qs=B(j,me,Qe.value,X);if(Qs===null){me===null&&(me=Pe);break}t&&me&&Qs.alternate===null&&n(j,me),O=f(Qs,O,Oe),Ke===null?ge=Qs:Ke.sibling=Qs,Ke=Qs,me=Pe}if(Qe.done)return r(j,me),He&&Gi(j,Oe),ge;if(me===null){for(;!Qe.done;Oe++,Qe=P.next())Qe=Z(j,Qe.value,X),Qe!==null&&(O=f(Qe,O,Oe),Ke===null?ge=Qe:Ke.sibling=Qe,Ke=Qe);return He&&Gi(j,Oe),ge}for(me=l(me);!Qe.done;Oe++,Qe=P.next())Qe=G(me,j,Oe,Qe.value,X),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Oe:Qe.key),O=f(Qe,O,Oe),Ke===null?ge=Qe:Ke.sibling=Qe,Ke=Qe);return t&&me.forEach(function(zT){return n(j,zT)}),He&&Gi(j,Oe),ge}function at(j,O,P,X){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===ee){if(O.tag===7){r(j,O.sibling),X=h(O,P.props.children),X.return=j,j=X;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&Pa(ge)===O.type){r(j,O.sibling),X=h(O,P.props),Kl(X,P),X.return=j,j=X;break e}r(j,O);break}else n(j,O);O=O.sibling}P.type===ee?(X=Va(P.props.children,j.mode,X,P.key),X.return=j,j=X):(X=Iu(P.type,P.key,P.props,null,j.mode,X),Kl(X,P),X.return=j,j=X)}return g(j);case F:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(j,O.sibling),X=h(O,P.children||[]),X.return=j,j=X;break e}else{r(j,O);break}else n(j,O);O=O.sibling}X=Kh(P,j.mode,X),X.return=j,j=X}return g(j);case T:return P=Pa(P),at(j,O,P,X)}if(le(P))return he(j,O,P,X);if(k(P)){if(ge=k(P),typeof ge!="function")throw Error(s(150));return P=ge.call(P),ve(j,O,P,X)}if(typeof P.then=="function")return at(j,O,Uu(P),X);if(P.$$typeof===ie)return at(j,O,Ou(j,P),X);Lu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(j,O.sibling),X=h(O,P),X.return=j,j=X):(r(j,O),X=Fh(P,j.mode,X),X.return=j,j=X),g(j)):r(j,O)}return function(j,O,P,X){try{Fl=0;var ge=at(j,O,P,X);return Ir=null,ge}catch(me){if(me===Cr||me===ku)throw me;var Ke=bn(29,me,null,j.mode);return Ke.lanes=X,Ke.return=j,Ke}finally{}}}var Ba=ig(!0),sg=ig(!1),Is=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(t),Bp(t,null,r),n}return Nu(t,l,n,r),Cu(t)}function Ql(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,bl(t,r)}}function lf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var of=!1;function Yl(){if(of){var t=Nr;if(t!==null)throw t}}function Xl(t,n,r,l){of=!1;var h=t.updateQueue;Is=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;g=0,K=z=I=null,E=f;do{var B=E.lane&-536870913,G=B!==E.lane;if(G?(Le&B)===B:(l&B)===B){B!==0&&B===Rr&&(of=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,ve=E;B=n;var at=r;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){Z=he.call(at,Z,B);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,B=typeof he=="function"?he.call(at,Z,B):he,B==null)break e;Z=w({},Z,B);break e;case 2:Is=!0}}B=E.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=G,I=Z):K=K.next=G,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);K===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Us|=g,t.lanes=g,t.memoizedState=Z}}function ag(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function rg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ag(r[t],n)}var Dr=M(null),Pu=M(0);function lg(t,n){t=ts,ae(Pu,t),ae(Dr,n),ts=t|n.baseLanes}function uf(){ae(Pu,ts),ae(Dr,Dr.current)}function cf(){ts=Pu.current,Q(Dr),Q(Pu)}var En=M(null),Pn=null;function Os(t){var n=t.alternate;ae(bt,bt.current&1),ae(En,t),Pn===null&&(n===null||Dr.current!==null||n.memoizedState!==null)&&(Pn=t)}function hf(t){ae(bt,bt.current),ae(En,t),Pn===null&&(Pn=t)}function og(t){t.tag===22?(ae(bt,bt.current),ae(En,t),Pn===null&&(Pn=t)):Vs()}function Vs(){ae(bt,bt.current),ae(En,En.current)}function Tn(t){Q(En),Pn===t&&(Pn=null),Q(bt)}var bt=M(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yd(r)||_d(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Me=null,it=null,Nt=null,Bu=!1,Mr=!1,qa=!1,qu=0,$l=0,Or=null,IE=0;function pt(){throw Error(s(321))}function ff(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!vn(t[r],n[r]))return!1;return!0}function df(t,n,r,l,h,f){return Qi=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Fg:Nf,qa=!1,f=r(l,h),qa=!1,Mr&&(f=cg(n,r,l,h)),ug(t),f}function ug(t){U.H=Wl;var n=it!==null&&it.next!==null;if(Qi=0,Nt=it=Me=null,Bu=!1,$l=0,Or=null,n)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Mu(t)&&(Ct=!0))}function cg(t,n,r,l){Me=t;var h=0;do{if(Mr&&(Or=null),$l=0,Mr=!1,25<=h)throw Error(s(301));if(h+=1,Nt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Kg,f=n(r,l)}while(Mr);return f}function DE(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Zl(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Me.flags|=1024),n}function mf(){var t=qu!==0;return qu=0,t}function pf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}Qi=0,Nt=it=Me=null,Mr=!1,$l=qu=0,Or=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Et(){if(it===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Nt===null?Me.memoizedState:Nt.next;if(n!==null)Nt=n,it=t;else{if(t===null)throw Me.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Nt===null?Me.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(t){var n=$l;return $l+=1,Or===null&&(Or=[]),t=eg(Or,t,n),n=Me,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Fg:Nf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zl(t);if(t.$$typeof===ie)return Kt(t)}throw Error(s(438,String(t)))}function yf(t){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Yi(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=Et();return _f(n,it,t)}function _f(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,K=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Le&Z)===Z:(Qi&Z)===Z){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Rr&&(K=!0);else if((Qi&B)===B){z=z.next,B===Rr&&(K=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Z,g=f):I=I.next=Z,Me.lanes|=B,Us|=B;Z=z.action,qa&&r(f,Z),f=z.hasEagerState?z.eagerState:r(f,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,Me.lanes|=Z,Us|=Z;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!vn(f,t.memoizedState)&&(Ct=!0,K&&(r=Nr,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var n=Et(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);vn(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function hg(t,n,r){var l=Me,h=Et(),f=He;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!vn((it||h).memoizedState,r);if(g&&(h.memoizedState=r,Ct=!0),h=h.queue,Tf(mg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Vr(9,{destroy:void 0},dg.bind(null,l,h,r,n),null),rt===null)throw Error(s(349));f||(Qi&127)!==0||fg(l,n,r)}return r}function fg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Hu(),Me.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dg(t,n,r,l){n.value=r,n.getSnapshot=l,pg(n)&&gg(t)}function mg(t,n,r){return r(function(){pg(n)&&gg(t)})}function pg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!vn(t,r)}catch{return!0}}function gg(t){var n=Oa(t,2);n!==null&&fn(n,t,2)}function bf(t){var n=an();if(typeof t=="function"){var r=t;if(t=r(),qa){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function yg(t,n,r,l){return t.baseState=r,_f(t,it,typeof l=="function"?l:Yi)}function ME(t,n,r,l,h){if(Yu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,_g(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _g(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=U.T,g={};U.T=g;try{var E=r(h,l),I=U.S;I!==null&&I(g,E),vg(t,n,E)}catch(z){Ef(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=r(h,l),vg(t,n,f)}catch(z){Ef(t,n,z)}}function vg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bg(t,n,l)},function(l){return Ef(t,n,l)}):bg(t,n,r)}function bg(t,n,r){n.status="fulfilled",n.value=r,Eg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_g(t,r)))}function Ef(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Eg(n),n=n.next;while(n!==l)}t.action=null}function Eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tg(t,n){return n}function Sg(t,n){if(He){var r=rt.formState;if(r!==null){e:{var l=Me;if(He){if(ut){t:{for(var h=ut,f=Ln;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=zn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:n},r.queue=l,r=qg.bind(null,Me,l),l.dispatch=r,l=bf(!1),f=Rf.bind(null,Me,!1,l.queue),l=an(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=ME.bind(null,Me,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ag(t){var n=Et();return xg(n,it,t)}function xg(t,n,r){if(n=_f(t,n,Tg)[0],t=Fu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Zl(n)}catch(g){throw g===Cr?ku:g}else l=n;n=Et();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,Vr(9,{destroy:void 0},OE.bind(null,h,r),null)),[l,f,t]}function OE(t,n){t.action=n}function wg(t){var n=Et(),r=it;if(r!==null)return xg(n,r,t);Et(),n=n.memoizedState,r=Et();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Vr(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Hu(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Rg(){return Et().memoizedState}function Ku(t,n,r,l){var h=an();Me.flags|=t,h.memoizedState=Vr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Qu(t,n,r,l){var h=Et();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&ff(l,it.memoizedState.deps)?h.memoizedState=Vr(n,f,r,l):(Me.flags|=t,h.memoizedState=Vr(1|n,f,r,l))}function Ng(t,n){Ku(8390656,8,t,n)}function Tf(t,n){Qu(2048,8,t,n)}function VE(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Hu(),Me.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Cg(t){var n=Et().memoizedState;return VE({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Ig(t,n){return Qu(4,2,t,n)}function Dg(t,n){return Qu(4,4,t,n)}function Mg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,r){r=r!=null?r.concat([t]):null,Qu(4,4,Mg.bind(null,n,t),r)}function Sf(){}function Vg(t,n){var r=Et();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function kg(t,n){var r=Et();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=t(),qa){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function Af(t,n,r){return r===void 0||(Qi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=jy(),Me.lanes|=t,Us|=t,r)}function jg(t,n,r,l){return vn(r,n)?r:Dr.current!==null?(t=Af(t,r,l),vn(t,n)||(Ct=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Le&261930)===0?(Ct=!0,t.memoizedState=r):(t=jy(),Me.lanes|=t,Us|=t,n)}function Ug(t,n,r,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=U.T,E={};U.T=E,Rf(t,!1,n,r);try{var I=h(),z=U.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=CE(I,l);Jl(t,n,K,xn(t))}else Jl(t,n,l,xn(t))}catch(Z){Jl(t,n,{then:function(){},status:"rejected",reason:Z},xn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),U.T=g}}function kE(){}function xf(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Lg(t).queue;Ug(t,h,n,fe,r===null?kE:function(){return Pg(t),r(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),Jl(t,n.next.queue,{},xn())}function wf(){return Kt(go)}function zg(){return Et().memoizedState}function Bg(){return Et().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=xn();t=Ds(r);var l=Ms(n,t,r);l!==null&&(fn(l,n,r),Ql(l,n,r)),n={cache:ef()},t.payload=n;return}n=n.return}}function UE(t,n,r){var l=xn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Hg(n,r):(r=Hh(t,n,r,l),r!==null&&(fn(r,t,l),Gg(r,n,l)))}function qg(t,n,r){var l=xn();Jl(t,n,r,l)}function Jl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Hg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,vn(E,g))return Nu(t,n,h,0),rt===null&&Ru(),!1}catch{}finally{}if(r=Hh(t,n,h,l),r!==null)return fn(r,t,l),Gg(r,n,l),!0}return!1}function Rf(t,n,r,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(s(479))}else n=Hh(t,r,l,2),n!==null&&fn(n,t,2)}function Yu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Hg(t,n){Mr=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,bl(t,r)}}var Wl={readContext:Kt,use:Gu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Wl.useEffectEvent=pt;var Fg={readContext:Kt,use:Gu,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Kt,useEffect:Ng,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ku(4194308,4,Mg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var r=an();n=n===void 0?null:n;var l=t();if(qa){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=an();if(r!==void 0){var h=r(n);if(qa){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UE.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=bf(t);var n=t.queue,r=qg.bind(null,Me,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(t,n){var r=an();return Af(r,t,n)},useTransition:function(){var t=bf(!1);return t=Ug.bind(null,Me,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Me,h=an();if(He){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),rt===null)throw Error(s(349));(Le&127)!==0||fg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ng(mg.bind(null,l,f,t),[t]),l.flags|=2048,Vr(9,{destroy:void 0},dg.bind(null,l,f,r,n),null),r},useId:function(){var t=an(),n=rt.identifierPrefix;if(He){var r=wi,l=xi;r=(l&~(1<<32-_t(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=IE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rf.bind(null,Me,!0,r),r.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return an().memoizedState=jE.bind(null,Me)},useEffectEvent:function(t){var n=an(),r={impl:t};return n.memoizedState=r,function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:Kt,use:Gu,useCallback:Vg,useContext:Kt,useEffect:Tf,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:kg,useReducer:Fu,useRef:Rg,useState:function(){return Fu(Yi)},useDebugValue:Sf,useDeferredValue:function(t,n){var r=Et();return jg(r,it.memoizedState,t,n)},useTransition:function(){var t=Fu(Yi)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:Zl(t),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:wf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=Et();return yg(r,it,t,n)},useMemoCache:yf,useCacheRefresh:Bg};Nf.useEffectEvent=Cg;var Kg={readContext:Kt,use:Gu,useCallback:Vg,useContext:Kt,useEffect:Tf,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:kg,useReducer:vf,useRef:Rg,useState:function(){return vf(Yi)},useDebugValue:Sf,useDeferredValue:function(t,n){var r=Et();return it===null?Af(r,t,n):jg(r,it.memoizedState,t,n)},useTransition:function(){var t=vf(Yi)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:Zl(t),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:wf,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var r=Et();return it!==null?yg(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Bg};Kg.useEffectEvent=Cg;function Cf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var If={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=xn(),h=Ds(l);h.payload=n,r!=null&&(h.callback=r),n=Ms(t,h,l),n!==null&&(fn(n,t,l),Ql(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=xn(),h=Ds(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ms(t,h,l),n!==null&&(fn(n,t,l),Ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=xn(),l=Ds(r);l.tag=2,n!=null&&(l.callback=n),n=Ms(t,l,r),n!==null&&(fn(n,t,r),Ql(n,t,r))}};function Qg(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Pl(r,l)||!Pl(h,f):!0}function Yg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function Ha(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Xg(t){wu(t)}function $g(t){console.error(t)}function Zg(t){wu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function Wg(t){return t=Ds(t),t.tag=3,t}function ey(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Jg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jg(n,r,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function LE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&wr(n,r,h,!0),r=En.current,r!==null){switch(r.tag){case 31:case 13:return Pn===null?lc():r.alternate===null&&gt===0&&(gt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),nd(t,l,h)),!1;case 22:return r.flags|=65536,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),nd(t,l,h)),!1}throw Error(s(435,r.tag))}return nd(t,l,h),lc(),!1}if(He)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Xh&&(t=Error(s(422),{cause:l}),ql(kn(t,r)))):(l!==Xh&&(n=Error(s(423),{cause:l}),ql(kn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,r),h=Df(t.stateNode,l,h),lf(t,h),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=kn(f,r),lo===null?lo=[f]:lo.push(f),gt!==4&&(gt=2),n===null)return!0;l=kn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Df(r.stateNode,l,t),lf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wg(h),ey(h,t,r,l),lf(r,h),!1}r=r.return}while(r!==null);return!1}var Mf=Error(s(461)),Ct=!1;function Qt(t,n,r,l){n.child=t===null?sg(n,null,r,l):Ba(n,t.child,r,l)}function ty(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ua(n),l=df(t,n,r,g,f,h),E=mf(),t!==null&&!Ct?(pf(t,n,h),Xi(t,n,h)):(He&&E&&Qh(n),n.flags|=1,Qt(t,n,l,h),n.child)}function ny(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,iy(t,n,f,l,h)):(t=Iu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(g,l)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=Hi(f,l),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Pl(f,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=f,zf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return Of(t,n,r,l,h)}function sy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ay(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):uf(),og(n);else return l=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),lg(n,f),Vs(),n.memoizedState=null):(t!==null&&Vu(n,null),uf(),Vs());return Qt(t,n,h,r),n.child}function eo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,r,l,h){var f=nf();return f=f===null?null:{parent:Rt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),uf(),og(n),t!==null&&wr(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return Ba(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,Tn(n),n.memoizedState=null,t}function PE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,eo(null,t);if(hf(n),(t=ut)?(t=__(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=Hp(t),r.return=n,n.child=r,Ft=n,ut=null)):t=null,t===null)throw Ns(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ct||wr(t,n,r,!1),h=(r&t.childLanes)!==0,Ct||h){if(l=rt,l!==null&&(g=El(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Oa(t,g),fn(l,t,g),Mf;lc(),n=ry(t,n,r)}else t=f.treeContext,ut=zn(g.nextSibling),Ft=n,He=!0,Rs=null,Ln=!1,t!==null&&Kp(n,t),n=$u(n,l),n.flags|=4096;return n}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Of(t,n,r,l,h){return Ua(n),r=df(t,n,r,l,void 0,h),l=mf(),t!==null&&!Ct?(pf(t,n,h),Xi(t,n,h)):(He&&l&&Qh(n),n.flags|=1,Qt(t,n,r,h),n.child)}function ly(t,n,r,l,h,f){return Ua(n),n.updateQueue=null,r=cg(n,l,r,h),ug(t),l=mf(),t!==null&&!Ct?(pf(t,n,f),Xi(t,n,f)):(He&&l&&Qh(n),n.flags|=1,Qt(t,n,r,f),n.child)}function oy(t,n,r,l,h){if(Ua(n),n.stateNode===null){var f=Tr,g=r.contextType;typeof g=="object"&&g!==null&&(f=Kt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Kt(g):Tr,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Xl(n,l,f,h),Yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Ha(r,E);f.props=I;var z=f.context,K=r.contextType;g=Tr,typeof K=="object"&&K!==null&&(g=Kt(K));var Z=r.getDerivedStateFromProps;K=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Yg(n,f,l,g),Is=!1;var B=n.memoizedState;f.state=B,Xl(n,l,f,h),Yl(),z=n.memoizedState,E||B!==z||Is?(typeof Z=="function"&&(Cf(n,r,Z,l),z=n.memoizedState),(I=Is||Qg(n,r,I,l,B,z,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rf(t,n),g=n.memoizedProps,K=Ha(r,g),f.props=K,Z=n.pendingProps,B=f.context,z=r.contextType,I=Tr,typeof z=="object"&&z!==null&&(I=Kt(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==I)&&Yg(n,f,l,I),Is=!1,B=n.memoizedState,f.state=B,Xl(n,l,f,h),Yl();var G=n.memoizedState;g!==Z||B!==G||Is||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Cf(n,r,E,l),G=n.memoizedState),(K=Is||Qg(n,r,K,l,B,G,I)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=I,l=K):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ba(n,t.child,null,h),n.child=Ba(n,null,r,h)):Qt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Xi(t,n,h),t}function uy(t,n,r,l){return ka(),n.flags|=256,Qt(t,n,r,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Jp()}}function jf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function cy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Os(n):Vs(),(t=ut)?(t=__(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=Hp(t),r.return=n,n.child=r,Ft=n,ut=null)):t=null,t===null)throw Ns(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Vs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),l=Va(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=kf(r),l.childLanes=jf(t,g,r),n.memoizedState=Vf,eo(null,l)):(Os(n),Uf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Os(n),n.flags&=-257,n=Lf(t,n,r)):n.memoizedState!==null?(Vs(),n.child=t.child,n.flags|=128,n=null):(Vs(),E=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),E=Va(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ba(n,t.child,null,r),l=n.child,l.memoizedState=kf(r),l.childLanes=jf(t,g,r),n.memoizedState=Vf,n=eo(null,l));else if(Os(n),_d(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(s(419)),l.stack="",l.digest=g,ql({value:l,source:null,stack:null}),n=Lf(t,n,r)}else if(Ct||wr(t,n,r,!1),g=(r&t.childLanes)!==0,Ct||g){if(g=rt,g!==null&&(l=El(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Oa(t,l),fn(g,t,l),Mf;yd(E)||lc(),n=Lf(t,n,r)}else yd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ut=zn(E.nextSibling),Ft=n,He=!0,Rs=null,Ln=!1,t!==null&&Kp(n,t),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Vs(),E=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=Hi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Hi(z,E):(E=Va(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,eo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=kf(r):(h=E.cachePool,h!==null?(I=Rt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Jp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=jf(t,g,r),n.memoizedState=Vf,eo(t.child,l)):(Os(n),r=t.child,t=r.sibling,r=Hi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Uf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=bn(22,t,null,n),t.lanes=0,t}function Lf(t,n,r){return Ba(n,t.child,null,r),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jh(t.return,n,r)}function Pf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function fy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=bt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(bt,g),Qt(t,n,l,r),l=He?Bl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,r,n);else if(t.tag===19)hy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Pf(n,!0,r,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Us|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(wr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Hi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Hi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function zE(t,n,r){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),Cs(n,Rt,t.memoizedState.cache),ka();break;case 27:case 5:Li(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cy(t,n,r):(Os(n),t=Xi(t,n,r),t!==null?t.sibling:null);Os(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(wr(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return fy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(bt,bt.current),l)break;return null;case 22:return n.lanes=0,sy(t,n,r,n.pendingProps);case 24:Cs(n,Rt,t.memoizedState.cache)}return Xi(t,n,r)}function dy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!zf(t,r)&&(n.flags&128)===0)return Ct=!1,zE(t,n,r);Ct=(t.flags&131072)!==0}else Ct=!1,He&&(n.flags&1048576)!==0&&Fp(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Pa(n.elementType),n.type=t,typeof t=="function")Gh(t)?(l=Ha(t,l),n.tag=1,n=oy(null,n,t,l,r)):(n.tag=0,n=Of(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ne){n.tag=11,n=ty(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=ny(null,n,t,l,r);break e}}throw n=re(t)||t,Error(s(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ha(l,n.pendingProps),oy(t,n,l,h,r);case 3:e:{if(yt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,rf(t,n),Xl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Cs(n,Rt,l),l!==f.cache&&Wh(n,[Rt],r,!0),Yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,l,r);break e}else if(l!==h){h=kn(Error(s(424)),n),ql(h),n=uy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=zn(t.firstChild),Ft=n,He=!0,Rs=null,Ln=!0,r=sg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ka(),l===h){n=Xi(t,n,r);break e}Qt(t,n,l,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=A_(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=mc(Ce.current).createElement(r),l[At]=n,l[Lt]=t,Yt(l,r,t),xt(l),n.stateNode=l):n.memoizedState=A_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&He&&(l=n.stateNode=E_(n.type,n.pendingProps,Ce.current),Ft=n,Ln=!0,h=ut,qs(n.type)?(vd=h,ut=zn(l.firstChild)):ut=h),Qt(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ut)&&(l=gT(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ft=n,ut=zn(l.firstChild),Ln=!1,h=!0):h=!1),h||Ns(n)),Li(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,md(h,f)?l=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,DE,null,null,r),go._currentValue=h),Zu(t,n),Qt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=ut)&&(r=yT(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Ft=n,ut=null,t=!0):t=!1),t||Ns(n)),null;case 13:return cy(t,n,r);case 4:return yt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ba(n,null,l,r):Qt(t,n,l,r),n.child;case 11:return ty(t,n,n.type,n.pendingProps,r);case 7:return Qt(t,n,n.pendingProps,r),n.child;case 8:return Qt(t,n,n.pendingProps.children,r),n.child;case 12:return Qt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Cs(n,n.type,l.value),Qt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ua(n),h=Kt(h),l=l(h),n.flags|=1,Qt(t,n,l,r),n.child;case 14:return ny(t,n,n.type,n.pendingProps,r);case 15:return iy(t,n,n.type,n.pendingProps,r);case 19:return fy(t,n,r);case 31:return PE(t,n,r);case 22:return sy(t,n,r,n.pendingProps);case 24:return Ua(n),l=Kt(Rt),t===null?(h=nf(),h===null&&(h=rt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},af(n),Cs(n,Rt,h)):((t.lanes&r)!==0&&(rf(t,n),Xl(n,null,null,r),Yl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cs(n,Rt,l)):(l=f.cache,Cs(n,Rt,l),l!==h.cache&&Wh(n,[Rt],r,!0))),Qt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(t){t.flags|=4}function Bf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zy())t.flags|=8192;else throw za=ju,sf}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C_(n))if(zy())t.flags|=8192;else throw za=ju,sf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Lr|=n)}function to(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BE(t,n,r){var l=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(Rt),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xr(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?($i(n),f!==null?(ct(n),my(n,f)):(ct(n),Bf(n,h,null,l,r))):f?f!==t.memoizedState?($i(n),ct(n),my(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(n),ct(n),Bf(n,h,t,l,r)),null;case 27:if(fs(n),r=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ct(n),null}t=oe.current,xr(n)?Qp(n):(t=E_(h,l,r),n.stateNode=t,$i(n))}return ct(n),null;case 5:if(fs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ct(n),null}if(f=oe.current,xr(n))Qp(n);else{var g=mc(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[At]=n,f[Lt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Yt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(n)}}return ct(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ce.current,xr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||c_(t.nodeValue,r)),t||Ns(n,!0)}else t=mc(t).createTextNode(l),t[At]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=xr(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=n}else ka(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=n}else ka(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ct(n),null);case 4:return lt(),t===null&&ud(n.stateNode.containerInfo),ct(n),null;case 10:return Ki(n.type),ct(n),null;case 19:if(Q(bt),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)to(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,to(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qp(r,t),r=r.sibling;return ae(bt,bt.current&1|2),He&&Gi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ut()>sc&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),to(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ct(n),null}else 2*Ut()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ut(),t.sibling=null,r=bt.current,ae(bt,h?r&1|2:r&1),He&&Gi(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return Tn(n),cf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(La),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ki(Rt),ct(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function qE(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Rt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fs(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(s(340));ka()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ka()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(bt),null;case 4:return lt(),null;case 10:return Ki(n.type),null;case 22:case 23:return Tn(n),cf(),t!==null&&Q(La),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Rt),null;case 25:return null;default:return null}}function py(t,n){switch(Yh(n),n.tag){case 3:Ki(Rt),lt();break;case 26:case 27:case 5:fs(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Q(bt);break;case 10:Ki(n.type);break;case 22:case 23:Tn(n),cf(),t!==null&&Q(La);break;case 24:Ki(Rt)}}function no(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){et(n,n.return,E)}}function ks(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(K){et(h,I,K)}}}l=l.next}while(l!==f)}}catch(K){et(n,n.return,K)}}function gy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rg(n,r)}catch(l){et(t,t.return,l)}}}function yy(t,n,r){r.props=Ha(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){et(t,n,l)}}function io(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){et(t,n,h)}}function Ri(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){et(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){et(t,n,h)}else r.current=null}function _y(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){et(t,t.return,h)}}function qf(t,n,r){try{var l=t.stateNode;cT(l,t.type,r,n),l[Lt]=n}catch(h){et(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&qs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,r),t=t.sibling;t!==null;)Gf(t,n,r),t=t.sibling}function ec(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&qs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function by(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Yt(n,l,r),n[At]=t,n[Lt]=r}catch(f){et(t,t.return,f)}}var Zi=!1,It=!1,Ff=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,zt=null;function HE(t,n){if(t=t.containerInfo,fd=Ec,t=Op(t),Uh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,I=-1,z=0,K=0,Z=t,B=null;t:for(;;){for(var G;Z!==r||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||l!==0&&Z.nodeType!==3||(I=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(G=Z.firstChild)!==null;)B=Z,Z=G;for(;;){if(Z===t)break t;if(B===r&&++z===h&&(E=g),B===f&&++K===l&&(I=g),(G=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=G}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(dd={focusedElem:t,selectionRange:r},Ec=!1,zt=n;zt!==null;)if(n=zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zt=t;else for(;zt!==null;){switch(n=zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var he=Ha(r.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){et(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)gd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,zt=t;break}zt=n.return}}function Ty(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(t,r),l&4&&no(5,r);break;case 1:if(Wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){et(r,r.return,g)}else{var h=Ha(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){et(r,r.return,g)}}l&64&&gy(r),l&512&&io(r,r.return);break;case 3:if(Wi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rg(t,n)}catch(g){et(r,r.return,g)}}break;case 27:n===null&&l&4&&by(r);case 26:case 5:Wi(t,r),n===null&&l&4&&_y(r),l&512&&io(r,r.return);break;case 12:Wi(t,r);break;case 31:Wi(t,r),l&4&&xy(t,r);break;case 13:Wi(t,r),l&4&&wy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=JE.bind(null,r),_T(t,r))));break;case 22:if(l=r.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||It,h=Zi;var f=It;Zi=l,(It=n)&&!f?es(t,r,(r.subtreeFlags&8772)!==0):Wi(t,r),Zi=h,It=f}break;case 30:break;default:Wi(t,r)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&or(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,on=!1;function Ji(t,n,r){for(r=r.child;r!==null;)Ay(t,n,r),r=r.sibling}function Ay(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Gn,r)}catch{}switch(r.tag){case 26:It||Ri(r,n),Ji(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:It||Ri(r,n);var l=dt,h=on;qs(r.type)&&(dt=r.stateNode,on=!1),Ji(t,n,r),fo(r.stateNode),dt=l,on=h;break;case 5:It||Ri(r,n);case 6:if(l=dt,h=on,dt=null,Ji(t,n,r),dt=l,on=h,dt!==null)if(on)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(f){et(r,n,f)}else try{dt.removeChild(r.stateNode)}catch(f){et(r,n,f)}break;case 18:dt!==null&&(on?(t=dt,g_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Kr(t)):g_(dt,r.stateNode));break;case 4:l=dt,h=on,dt=r.stateNode.containerInfo,on=!0,Ji(t,n,r),dt=l,on=h;break;case 0:case 11:case 14:case 15:ks(2,r,n),It||ks(4,r,n),Ji(t,n,r);break;case 1:It||(Ri(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&yy(r,n,l)),Ji(t,n,r);break;case 21:Ji(t,n,r);break;case 22:It=(l=It)||r.memoizedState!==null,Ji(t,n,r),It=l;break;default:Ji(t,n,r)}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Kr(t)}catch(r){et(n,n.return,r)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kr(t)}catch(r){et(n,n.return,r)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(s(435,t.tag))}}function tc(t,n){var r=GE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=WE.bind(null,t,l);l.then(h,h)}})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){dt=E.stateNode,on=!1;break e}break;case 5:dt=E.stateNode,on=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(dt===null)throw Error(s(160));Ay(f,g,h),dt=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var ei=null;function Ry(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ks(3,t,t.return),no(3,t),ks(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(It||r===null||Ri(r,r.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ei;if(un(n,t),cn(t),l&512&&(It||r===null||Ri(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,l,r),f[At]=t,xt(f),l=f;break e;case"link":var g=R_("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Yt(f,l,r),h.head.appendChild(f);break;case"meta":if(g=R_("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Yt(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[At]=t,xt(f),l=f}t.stateNode=l}else N_(h,t.type,t.stateNode);else t.stateNode=w_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?N_(h,t.type,t.stateNode):w_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(It||r===null||Ri(r,r.return)),r!==null&&l&4&&qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(It||r===null||Ri(r,r.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(he){et(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){et(t,t.return,he)}}break;case 3:if(yc=null,h=ei,ei=pc(n.containerInfo),un(n,t),ei=h,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Kr(n.containerInfo)}catch(he){et(t,t.return,he)}Ff&&(Ff=!1,Ny(t));break;case 4:l=ei,ei=pc(t.stateNode.containerInfo),un(n,t),cn(t),ei=l;break;case 12:un(n,t),cn(t);break;case 31:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=Ut()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Zi,K=It;if(Zi=z||h,It=K||I,un(n,t),It=K,Zi=z,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Zi||It||Ga(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){et(I,I.return,he)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){et(I,I.return,he)}}}else if(n.tag===18){if(r===null){I=n;try{var G=I.stateNode;h?y_(G,!0):y_(I.stateNode,!1)}catch(he){et(I,I.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(vy(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Hf(t);ec(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(ln(g,""),r.flags&=-33);var E=Hf(t);ec(t,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Hf(t);Gf(t,z,I);break;default:throw Error(s(161))}}catch(K){et(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(t,n.alternate,n),n=n.sibling}function Ga(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),Ga(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yy(n,n.return,r),Ga(n);break;case 27:fo(n.stateNode);case 26:case 5:Ri(n,n.return),Ga(n);break;case 22:n.memoizedState===null&&Ga(n);break;case 30:Ga(n);break;default:Ga(n)}t=t.sibling}}function es(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:es(h,f,r),no(4,f);break;case 1:if(es(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){et(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ag(I[h],E)}catch(z){et(l,l.return,z)}}r&&g&64&&gy(f),io(f,f.return);break;case 27:by(f);case 26:case 5:es(h,f,r),r&&l===null&&g&4&&_y(f),io(f,f.return);break;case 12:es(h,f,r);break;case 31:es(h,f,r),r&&g&4&&xy(h,f);break;case 13:es(h,f,r),r&&g&4&&wy(h,f);break;case 22:f.memoizedState===null&&es(h,f,r),io(f,f.return);break;case 30:break;default:es(h,f,r)}n=n.sibling}}function Kf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Hl(r))}function Qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t))}function ti(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,r,l),n=n.sibling}function Cy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,r,l),h&2048&&no(9,n);break;case 1:ti(t,n,r,l);break;case 3:ti(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t)));break;case 12:if(h&2048){ti(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){et(n,n.return,I)}}else ti(t,n,r,l);break;case 31:ti(t,n,r,l);break;case 13:ti(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,r,l):so(t,n):f._visibility&2?ti(t,n,r,l):(f._visibility|=2,kr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:ti(t,n,r,l),h&2048&&Qf(n.alternate,n);break;default:ti(t,n,r,l)}}function kr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:kr(f,g,E,I,h),no(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?kr(f,g,E,I,h):so(f,g):(K._visibility|=2,kr(f,g,E,I,h)),h&&z&2048&&Kf(g.alternate,g);break;case 24:kr(f,g,E,I,h),h&&z&2048&&Qf(g.alternate,g);break;default:kr(f,g,E,I,h)}n=n.sibling}}function so(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:so(r,l),h&2048&&Kf(l.alternate,l);break;case 24:so(r,l),h&2048&&Qf(l.alternate,l);break;default:so(r,l)}n=n.sibling}}var ao=8192;function jr(t,n,r){if(t.subtreeFlags&ao)for(t=t.child;t!==null;)Iy(t,n,r),t=t.sibling}function Iy(t,n,r){switch(t.tag){case 26:jr(t,n,r),t.flags&ao&&t.memoizedState!==null&&IT(r,ei,t.memoizedState,t.memoizedProps);break;case 5:jr(t,n,r);break;case 3:case 4:var l=ei;ei=pc(t.stateNode.containerInfo),jr(t,n,r),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ao,ao=16777216,jr(t,n,r),ao=l):jr(t,n,r));break;default:jr(t,n,r)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];zt=l,Oy(l,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:ro(t),t.flags&2048&&ks(9,t,t.return);break;case 3:ro(t);break;case 12:ro(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ro(t);break;default:ro(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];zt=l,Oy(l,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ks(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Oy(t,n){for(;zt!==null;){var r=zt;switch(r.tag){case 0:case 11:case 15:ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,zt=l;else e:for(r=t;zt!==null;){l=zt;var h=l.sibling,f=l.return;if(Sy(l),l===r){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var FE={getCacheForType:function(t){var n=Kt(Rt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Kt(Rt).controller.signal}},KE=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,ke=null,Le=0,We=0,Sn=null,js=!1,Ur=!1,Yf=!1,ts=0,gt=0,Us=0,Fa=0,Xf=0,An=0,Lr=0,lo=null,hn=null,$f=!1,ic=0,Vy=0,sc=1/0,ac=null,Ls=null,kt=0,Ps=null,Pr=null,ns=0,Zf=0,Jf=null,ky=null,oo=0,Wf=null;function xn(){return($e&2)!==0&&Le!==0?Le&-Le:U.T!==null?ad():ru()}function jy(){if(An===0)if((Le&536870912)===0||He){var t=_a;_a<<=1,(_a&3932160)===0&&(_a=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function fn(t,n,r){(t===rt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(zr(t,0),zs(t,Le,An,!1)),va(t,r),(($e&2)===0||t!==rt)&&(t===rt&&(($e&2)===0&&(Fa|=r),gt===4&&zs(t,Le,An,!1)),Ni(t))}function Uy(t,n,r){if(($e&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),h=l?XE(t,n):td(t,n,!0),f=l;do{if(h===0){Ur&&!l&&zs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!QE(r)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=lo;var I=E.current.memoizedState.isDehydrated;if(I&&(zr(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Yf&&!I){E.errorRecoveryDisabledLanes|=f,Fa|=f,h=4;break e}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){zr(t,0),zs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:zs(l,n,An,!js);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ic+300-Ut(),10<h)){if(zs(l,n,An,!js),ci(l,0,!0)!==0)break e;ns=n,l.timeoutHandle=m_(Ly.bind(null,l,r,hn,ac,$f,n,An,Fa,Lr,js,f,"Throttled",-0,0),h);break e}Ly(l,r,hn,ac,$f,n,An,Fa,Lr,js,f,null,-0,0)}}break}while(!0);Ni(t)}function Ly(t,n,r,l,h,f,g,E,I,z,K,Z,B,G){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Iy(n,f,Z);var he=(f&62914560)===f?ic-Ut():(f&4194048)===f?Vy-Ut():0;if(he=DT(Z,he),he!==null){ns=f,t.cancelPendingCommit=he(Ky.bind(null,t,n,f,r,l,h,g,E,I,K,Z,null,B,G)),zs(t,f,g,!z);return}}Ky(t,n,f,r,l,h,g,E,I)}function QE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(t,n,r,l){n&=~Xf,n&=~Fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&ba(t,r,n)}function rc(){return($e&6)===0?(uo(0),!1):!0}function ed(){if(ke!==null){if(We===0)var t=ke.return;else t=ke,Fi=ja=null,gf(t),Ir=null,Fl=0,t=ke;for(;t!==null;)py(t.alternate,t),t=t.return;ke=null}}function zr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ns=0,ed(),rt=t,ke=r=Hi(t.current,null),Le=n,We=0,Sn=null,js=!1,Ur=Fn(t,n),Yf=!1,Lr=An=Xf=Fa=Us=gt=0,hn=lo=null,$f=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-_t(l),f=1<<h;n|=t[h],l&=~f}return ts=n,Ru(),r}function Py(t,n){Me=null,U.H=Wl,n===Cr||n===ku?(n=tg(),We=3):n===sf?(n=tg(),We=4):We=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,ke===null&&(gt=1,Xu(t,kn(n,t.current)))}function zy(){var t=En.current;return t===null?!0:(Le&4194048)===Le?Pn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Pn:!1}function By(){var t=U.H;return U.H=Wl,t===null?Wl:t}function qy(){var t=U.A;return U.A=FE,t}function lc(){gt=4,js||(Le&4194048)!==Le&&En.current!==null||(Ur=!0),(Us&134217727)===0&&(Fa&134217727)===0||rt===null||zs(rt,Le,An,!1)}function td(t,n,r){var l=$e;$e|=2;var h=By(),f=qy();(rt!==t||Le!==n)&&(ac=null,zr(t,n)),n=!1;var g=gt;e:do try{if(We!==0&&ke!==null){var E=ke,I=Sn;switch(We){case 8:ed(),g=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=We;if(We=0,Sn=null,Br(t,E,I,z),r&&Ur){g=0;break e}break;default:z=We,We=0,Sn=null,Br(t,E,I,z)}}YE(),g=gt;break}catch(K){Py(t,K)}while(!0);return n&&t.shellSuspendCounter++,Fi=ja=null,$e=l,U.H=h,U.A=f,ke===null&&(rt=null,Le=0,Ru()),g}function YE(){for(;ke!==null;)Hy(ke)}function XE(t,n){var r=$e;$e|=2;var l=By(),h=qy();rt!==t||Le!==n?(ac=null,sc=Ut()+500,zr(t,n)):Ur=Fn(t,n);e:do try{if(We!==0&&ke!==null){n=ke;var f=Sn;t:switch(We){case 1:We=0,Sn=null,Br(t,n,f,1);break;case 2:case 9:if(Wp(f)){We=0,Sn=null,Gy(n);break}n=function(){We!==2&&We!==9||rt!==t||(We=7),Ni(t)},f.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Wp(f)?(We=0,Sn=null,Gy(n)):(We=0,Sn=null,Br(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?C_(g):E.stateNode.complete){We=0,Sn=null;var I=E.sibling;if(I!==null)ke=I;else{var z=E.return;z!==null?(ke=z,oc(z)):ke=null}break t}}We=0,Sn=null,Br(t,n,f,5);break;case 6:We=0,Sn=null,Br(t,n,f,6);break;case 8:ed(),gt=6;break e;default:throw Error(s(462))}}$E();break}catch(K){Py(t,K)}while(!0);return Fi=ja=null,U.H=l,U.A=h,$e=r,ke!==null?0:(rt=null,Le=0,Ru(),gt)}function $E(){for(;ke!==null&&!ms();)Hy(ke)}function Hy(t){var n=dy(t.alternate,t,ts);t.memoizedProps=t.pendingProps,n===null?oc(t):ke=n}function Gy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ly(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ly(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:gf(n);default:py(r,n),n=ke=qp(n,ts),n=dy(r,n,ts)}t.memoizedProps=t.pendingProps,n===null?oc(t):ke=n}function Br(t,n,r,l){Fi=ja=null,gf(n),Ir=null,Fl=0;var h=n.return;try{if(LE(t,h,n,r,Le)){gt=1,Xu(t,kn(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;gt=1,Xu(t,kn(r,t.current)),ke=null;return}n.flags&32768?(He||l===1?t=!0:Ur||(Le&536870912)!==0?t=!1:(js=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,js);return}t=n.return;var r=BE(n.alternate,n,ts);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);gt===0&&(gt=5)}function Fy(t,n){do{var r=qE(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);gt=6,ke=null}function Ky(t,n,r,l,h,f,g,E,I){t.cancelPendingCommit=null;do uc();while(kt!==0);if(($e&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=qh,Oh(t,r,f,g,E,I),t===rt&&(ke=rt=null,Le=0),Pr=n,Ps=t,ns=r,Zf=f,Jf=h,ky=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eT(Hn,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=ne.p,ne.p=2,g=$e,$e|=4;try{HE(t,n,r)}finally{$e=g,ne.p=h,U.T=l}}kt=1,Qy(),Yy(),Xy()}}function Qy(){if(kt===1){kt=0;var t=Ps,n=Pr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{Ry(n,t);var f=dd,g=Op(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Mp(E.ownerDocument.documentElement,E)){if(I!==null&&Uh(E)){var z=I.start,K=I.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var G=B.getSelection(),he=E.textContent.length,ve=Math.min(I.start,he),at=I.end===void 0?ve:Math.min(I.end,he);!G.extend&&ve>at&&(g=at,at=ve,ve=g);var j=Dp(E,ve),O=Dp(E,at);if(j&&O&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var P=Z.createRange();P.setStart(j.node,j.offset),G.removeAllRanges(),ve>at?(G.addRange(P),G.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),G.addRange(P))}}}}for(Z=[],G=E;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ec=!!fd,dd=fd=null}finally{$e=h,ne.p=l,U.T=r}}t.current=n,kt=2}}function Yy(){if(kt===2){kt=0;var t=Ps,n=Pr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{Ty(t,n.alternate,n)}finally{$e=h,ne.p=l,U.T=r}}kt=3}}function Xy(){if(kt===4||kt===3){kt=0,ya();var t=Ps,n=Pr,r=ns,l=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,Pr=Ps=null,$y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),Pi(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,h=ne.p,ne.p=2,U.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{U.T=n,ne.p=h}}(ns&3)!==0&&uc(),Ni(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Wf?oo++:(oo=0,Wf=t):oo=0,uo(0)}}function $y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Hl(n)))}function uc(){return Qy(),Yy(),Xy(),Zy()}function Zy(){if(kt!==5)return!1;var t=Ps,n=Zf;Zf=0;var r=Pi(ns),l=U.T,h=ne.p;try{ne.p=32>r?32:r,U.T=null,r=Jf,Jf=null;var f=Ps,g=ns;if(kt=0,Pr=Ps=null,ns=0,($e&6)!==0)throw Error(s(331));var E=$e;if($e|=4,My(f.current),Cy(f,f.current,g,r),$e=E,uo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{ne.p=h,U.T=l,$y(t,n)}}function Jy(t,n,r){n=kn(r,n),n=Df(t.stateNode,n,2),t=Ms(t,n,2),t!==null&&(va(t,2),Ni(t))}function et(t,n,r){if(t.tag===3)Jy(t,t,r);else for(;n!==null;){if(n.tag===3){Jy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=kn(r,t),r=Wg(2),l=Ms(n,r,2),l!==null&&(ey(r,l,n,t),va(l,2),Ni(l));break}}n=n.return}}function nd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new KE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Yf=!0,h.add(r),t=ZE.bind(null,t,n,r),n.then(t,t))}function ZE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,rt===t&&(Le&r)===r&&(gt===4||gt===3&&(Le&62914560)===Le&&300>Ut()-ic?($e&2)===0&&zr(t,0):Xf|=r,Lr===Le&&(Lr=0)),Ni(t)}function Wy(t,n){n===0&&(n=au()),t=Oa(t,n),t!==null&&(va(t,n),Ni(t))}function JE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function WE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wy(t,r)}function eT(t,n){return tt(t,n)}var cc=null,qr=null,id=!1,hc=!1,sd=!1,Bs=0;function Ni(t){t!==qr&&t.next===null&&(qr===null?cc=qr=t:qr=qr.next=t),hc=!0,id||(id=!0,nT())}function uo(t,n){if(!sd&&hc){sd=!0;do for(var r=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,i_(l,f))}else f=Le,f=ci(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fn(l,f)||(r=!0,i_(l,f));l=l.next}while(r);sd=!1}}function tT(){e_()}function e_(){hc=id=!1;var t=0;Bs!==0&&fT()&&(t=Bs);for(var n=Ut(),r=null,l=cc;l!==null;){var h=l.next,f=t_(l,n);f===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(qr=r)):(r=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}kt!==0&&kt!==5||uo(t),Bs!==0&&(Bs=0)}function t_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_t(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Mh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=rt,r=Le,r=ci(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gn(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&gn(l),Pi(r)){case 2:case 8:r=gs;break;case 32:r=Hn;break;case 268435456:r=eu;break;default:r=Hn}return l=n_.bind(null,t),r=tt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&gn(l),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var l=Le;return l=ci(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,n),t_(t,Ut()),t.callbackNode!=null&&t.callbackNode===r?n_.bind(null,t):null)}function i_(t,n){if(uc())return null;Uy(t,n,!0)}function nT(){mT(function(){($e&6)!==0?tt(ps,tT):e_()})}function ad(){if(Bs===0){var t=Rr;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Bs=t}return Bs}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fr(""+t)}function a_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=s_((h[Lt]||null).action),g=l.submitter;g&&(n=(n=g[Lt]||null)?s_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var I=g?a_(h,g):new FormData(h);xf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?a_(h,g):new FormData(h),xf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var rd=0;rd<Bh.length;rd++){var ld=Bh[rd],sT=ld.toLowerCase(),aT=ld[0].toUpperCase()+ld.slice(1);Wn(sT,"on"+aT)}Wn(jp,"onAnimationEnd"),Wn(Up,"onAnimationIteration"),Wn(Lp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(EE,"onTransitionRun"),Wn(TE,"onTransitionStart"),Wn(SE,"onTransitionCancel"),Wn(Pp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function r_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(K){wu(K)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(K){wu(K)}h.currentTarget=null,f=I}}}}function je(t,n){var r=n[lr];r===void 0&&(r=n[lr]=new Set);var l=t+"__bubble";r.has(l)||(l_(n,t,2,!1),r.add(l))}function od(t,n,r){var l=0;n&&(l|=4),l_(r,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[fc]){t[fc]=!0,Tl.forEach(function(r){r!=="selectionchange"&&(rT.has(r)||od(r,!1,t),od(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,od("selectionchange",!1,n))}}function l_(t,n,r,l){switch(j_(n)){case 2:var h=VT;break;case 8:h=kT;break;default:h=Ad}r=h.bind(null,n,r,t),h=void 0,!xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function cd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ts(function(){var z=f,K=Dn(r),Z=[];e:{var B=zp.get(t);if(B!==void 0){var G=Ei,he=t;switch(t){case"keypress":if(Ra(r)===0)break e;case"keydown":case"keyup":G=Su;break;case"focusin":he="focus",G=Ca;break;case"focusout":he="blur",G=Ca;break;case"beforeblur":case"afterblur":G=Ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case jp:case Up:case Lp:G=gu;break;case Pp:G=S;break;case"scroll":case"scrollend":G=Vl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=qi;break;case"toggle":case"beforetoggle":G=De}var ve=(n&4)!==0,at=!ve&&(t==="scroll"||t==="scrollend"),j=ve?B!==null?B+"Capture":null:B;ve=[];for(var O=z,P;O!==null;){var X=O;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||j===null||(X=Xn(O,j),X!=null&&ve.push(ho(O,X,P))),at)break;O=O.return}0<ve.length&&(B=new G(B,he,null,r,K),Z.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&r!==Dl&&(he=r.relatedTarget||r.fromElement)&&(mi(he)||he[fi]))break e;if((G||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,G?(he=r.relatedTarget||r.toElement,G=z,he=he?mi(he):null,he!==null&&(at=c(he),ve=he.tag,he!==at||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(G=null,he=z),G!==he)){if(ve=kl,X="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=qi,X="onPointerLeave",j="onPointerEnter",O="pointer"),at=G==null?B:yn(G),P=he==null?B:yn(he),B=new ve(X,O+"leave",G,r,K),B.target=at,B.relatedTarget=P,X=null,mi(K)===z&&(ve=new ve(j,O+"enter",he,r,K),ve.target=P,ve.relatedTarget=at,X=ve),at=X,G&&he)t:{for(ve=lT,j=G,O=he,P=0,X=j;X;X=ve(X))P++;X=0;for(var ge=O;ge;ge=ve(ge))X++;for(;0<P-X;)j=ve(j),P--;for(;0<X-P;)O=ve(O),X--;for(;P--;){if(j===O||O!==null&&j===O.alternate){ve=j;break t}j=ve(j),O=ve(O)}ve=null}else ve=null;G!==null&&o_(Z,B,G,ve,!1),he!==null&&at!==null&&o_(Z,at,he,ve,!0)}}e:{if(B=z?yn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Ke=xp;else if(Sp(B))if(wp)Ke=_E;else{Ke=gE;var me=pE}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&hr(z.elementType)&&(Ke=xp):Ke=yE;if(Ke&&(Ke=Ke(t,z))){Ap(Z,Ke,r,K);break e}me&&me(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Nl(B,"number",B.value)}switch(me=z?yn(z):window,t){case"focusin":(Sp(me)||me.contentEditable==="true")&&(vr=me,Lh=z,zl=null);break;case"focusout":zl=Lh=vr=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Vp(Z,r,K);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Vp(Z,r,K)}var Oe;if(Xe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else _r?Ia(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ai&&r.locale!=="ko"&&(_r||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&_r&&(Oe=Ol()):(bi=K,Ml="value"in bi?bi.value:bi.textContent,_r=!0)),me=dc(z,Pe),0<me.length&&(Pe=new Si(Pe,t,null,r,K),Z.push({event:Pe,listeners:me}),Oe?Pe.data=Oe:(Oe=yr(r),Oe!==null&&(Pe.data=Oe)))),(Oe=On?hE(t,r):fE(t,r))&&(Pe=dc(z,"onBeforeInput"),0<Pe.length&&(me=new Si("onBeforeInput","beforeinput",null,r,K),Z.push({event:me,listeners:Pe}),me.data=Oe)),iT(Z,t,z,r,K)}r_(Z,n)})}function ho(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(t,r),h!=null&&l.unshift(ho(t,h,f)),h=Xn(t,n),h!=null&&l.push(ho(t,h,f))),t.tag===3)return l;t=t.return}return[]}function lT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Xn(r,f),z!=null&&g.unshift(ho(r,z,I))):h||(z=Xn(r,f),z!=null&&g.push(ho(r,z,I)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var oT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(uT,"")}function c_(t,n){return n=u_(n),u_(t)===n}function st(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,r,l);break;case"style":Il(t,l,f);break;case"data":if(n!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=fr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=fr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=fr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":je("beforetoggle",t),je("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,ur(t,r,l))}}function hd(t,n,r,l,h,f){switch(r){case"style":Il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Lt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ur(t,r,l)}}}function Yt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:st(t,n,f,g,r,null)}}h&&st(t,n,"srcSet",r.srcSet,r,null),l&&st(t,n,"src",r.src,r,null);return;case"input":je("invalid",t);var E=f=g=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":g=K;break;case"checked":I=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:st(t,n,l,K,r,null)}}cu(t,f,E,I,z,g,h,!1);return;case"select":je("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:st(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?_s(t,!!l,n,!1):r!=null&&_s(t,!!l,r,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:st(t,n,g,E,r,null)}vs(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,n,I,l,r,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<co.length;l++)je(co[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:st(t,n,z,l,r,null)}return;default:if(hr(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&hd(t,n,K,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&st(t,n,E,l,r,null))}function cT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,K=null;for(G in r){var Z=r[G];if(r.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(G)||st(t,n,G,null,l,Z)}}for(var B in l){var G=l[B];if(Z=r[B],l.hasOwnProperty(B)&&(G!=null||Z!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":K=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==Z&&st(t,n,B,G,l,Z)}}cr(t,g,E,I,z,K,f,h);return;case"select":G=g=E=B=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(f)||st(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&st(t,n,h,f,l,I)}n=E,r=g,l=G,B!=null?_s(t,!!r,B,!1):!!l!=!!r&&(n!=null?_s(t,!!r,n,!0):_s(t,!!r,r?[]:"",!1));return;case"textarea":G=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&st(t,n,g,h,l,f)}hu(t,B,G);return;case"option":for(var he in r)if(B=r[he],r.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:st(t,n,he,null,l,B)}for(I in l)if(B=l[I],G=r[I],l.hasOwnProperty(I)&&B!==G&&(B!=null||G!=null))switch(I){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:st(t,n,I,B,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)B=r[ve],r.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&st(t,n,ve,null,l,B);for(z in l)if(B=l[z],G=r[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:st(t,n,z,B,l,G)}return;default:if(hr(n)){for(var at in r)B=r[at],r.hasOwnProperty(at)&&B!==void 0&&!l.hasOwnProperty(at)&&hd(t,n,at,void 0,l,B);for(K in l)B=l[K],G=r[K],!l.hasOwnProperty(K)||B===G||B===void 0&&G===void 0||hd(t,n,K,B,l,G);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&st(t,n,j,null,l,B);for(Z in l)B=l[Z],G=r[Z],!l.hasOwnProperty(Z)||B===G||B==null&&G==null||st(t,n,Z,B,l,G)}function h_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&h_(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>E)break;var K=I.transferSize,Z=I.initiatorType;K&&h_(Z)&&(I=I.responseEnd,g+=K*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function fT(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(pT)}:m_;function pT(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function g_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Kr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")fo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,fo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&fo(t.ownerDocument.body);r=h}while(r);Kr(n)}function y_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gd(r),or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function yT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function __(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _T(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function v_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return zn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function b_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function E_(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function fo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);or(t)}var Bn=new Map,T_=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=ne.d;ne.d={f:vT,r:bT,D:ET,C:TT,L:ST,m:AT,X:wT,S:xT,M:RT};function vT(){var t=is.f(),n=rc();return t||n}function bT(t){var n=In(t);n!==null&&n.tag===5&&n.type==="form"?Pg(n):is.r(t)}var Hr=typeof document>"u"?null:document;function S_(t,n,r){var l=Hr;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),T_.has(h)||(T_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function ET(t){is.D(t),S_("dns-prefetch",t,null)}function TT(t,n){is.C(t,n),S_("preconnect",t,n)}function ST(t,n,r){is.L(t,n,r);var l=Hr;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=Gr(t);break;case"script":f=Fr(t)}Bn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Bn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(mo(f))||n==="script"&&l.querySelector(po(f))||(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function AT(t,n){is.m(t,n);var r=Hr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fr(t)}if(!Bn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Bn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(po(f)))return}l=r.createElement("link"),Yt(l,"link",t),xt(l),r.head.appendChild(l)}}}function xT(t,n,r){is.S(t,n,r);var l=Hr;if(l&&t){var h=pi(l).hoistableStyles,f=Gr(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(mo(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Bn.get(f))&&bd(t,r);var I=g=l.createElement("link");xt(I),Yt(I,"link",t),I._p=new Promise(function(z,K){I.onload=z,I.onerror=K}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function wT(t,n){is.X(t,n);var r=Hr;if(r&&t){var l=pi(r).hoistableScripts,h=Fr(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=w({src:t,async:!0},n),(n=Bn.get(h))&&Ed(t,n),f=r.createElement("script"),xt(f),Yt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function RT(t,n){is.M(t,n);var r=Hr;if(r&&t){var l=pi(r).hoistableScripts,h=Fr(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Bn.get(h))&&Ed(t,n),f=r.createElement("script"),xt(f),Yt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function A_(t,n,r,l){var h=(h=Ce.current)?pc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Gr(r.href),r=pi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Gr(r.href);var f=pi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(mo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bn.set(t,r),f||NT(h,t,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fr(r),r=pi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Gr(t){return'href="'+rn(t)+'"'}function mo(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function NT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",r),xt(n),t.head.appendChild(n))}function Fr(t){return'[src="'+rn(t)+'"]'}function po(t){return"script[async]"+t}function w_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return n.instance=l,xt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Yt(l,"style",h),gc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Gr(r.href);var f=t.querySelector(mo(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;l=x_(r),(h=Bn.get(h))&&bd(l,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Yt(f,"link",l),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=Fr(r.src),(h=t.querySelector(po(f)))?(n.instance=h,xt(h),h):(l=r,(h=Bn.get(f))&&(l=w({},r),Ed(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Yt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function R_(t,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function N_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function CT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Gr(l.href),f=n.querySelector(mo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,xt(f);return}f=n.ownerDocument||n,l=x_(l),(h=Bn.get(h))&&bd(l,h),f=f.createElement("link"),xt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Yt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function DT(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*hT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(MT,t),vc=null,_c.call(t))}function MT(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var l=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var go={$$typeof:ie,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function OT(t,n,r,l,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I_(t,n,r,l,h,f,g,E,I,z,K,Z){return t=new OT(t,n,r,g,I,z,K,Z,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},af(f),t}function D_(t){return t?(t=Tr,t):Tr}function M_(t,n,r,l,h,f){h=D_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ds(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ms(t,l,n),r!==null&&(fn(r,t,n),Ql(r,t,n))}function O_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Sd(t,n){O_(t,n),(t=t.alternate)&&O_(t,n)}function V_(t){if(t.tag===13||t.tag===31){var n=Oa(t,67108864);n!==null&&fn(n,t,67108864),Sd(t,67108864)}}function k_(t){if(t.tag===13||t.tag===31){var n=xn();n=Ea(n);var r=Oa(t,n);r!==null&&fn(r,t,n),Sd(t,n)}}var Ec=!0;function VT(t,n,r,l){var h=U.T;U.T=null;var f=ne.p;try{ne.p=2,Ad(t,n,r,l)}finally{ne.p=f,U.T=h}}function kT(t,n,r,l){var h=U.T;U.T=null;var f=ne.p;try{ne.p=8,Ad(t,n,r,l)}finally{ne.p=f,U.T=h}}function Ad(t,n,r,l){if(Ec){var h=xd(l);if(h===null)cd(t,n,l,Tc,r),U_(t,l);else if(UT(h,t,n,r,l))l.stopPropagation();else if(U_(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-_t(g);E.entanglements[1]|=I,g&=~I}Ni(f),($e&6)===0&&(sc=Ut()+500,uo(0))}}break;case 31:case 13:E=Oa(f,2),E!==null&&fn(E,f,2),rc(),Sd(f,2)}if(f=xd(l),f===null&&cd(t,n,l,Tc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else cd(t,n,l,null,r)}}function xd(t){return t=Dn(t),wd(t)}var Tc=null;function wd(t){if(Tc=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function j_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case ps:return 2;case gs:return 8;case Hn:case ar:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Rd=!1,Hs=null,Gs=null,Fs=null,yo=new Map,_o=new Map,Ks=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,n){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(n.pointerId)}}function vo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&V_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function UT(t,n,r,l,h){switch(n){case"focusin":return Hs=vo(Hs,t,n,r,l,h),!0;case"dragenter":return Gs=vo(Gs,t,n,r,l,h),!0;case"mouseover":return Fs=vo(Fs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return yo.set(f,vo(yo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,_o.set(f,vo(_o.get(f)||null,t,n,r,l,h)),!0}return!1}function L_(t){var n=mi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){k_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){k_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Dl=l,r.target.dispatchEvent(l),Dl=null}else return n=In(r),n!==null&&V_(n),t.blockedOn=r,!1;n.shift()}return!0}function P_(t,n,r){Sc(t)&&r.delete(n)}function LT(){Rd=!1,Hs!==null&&Sc(Hs)&&(Hs=null),Gs!==null&&Sc(Gs)&&(Gs=null),Fs!==null&&Sc(Fs)&&(Fs=null),yo.forEach(P_),_o.forEach(P_)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Rd||(Rd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,LT)))}var xc=null;function z_(t){xc!==t&&(xc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(wd(l||r)===null)continue;break}var f=In(r);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Kr(t){function n(I){return Ac(I,t)}Hs!==null&&Ac(Hs,t),Gs!==null&&Ac(Gs,t),Fs!==null&&Ac(Fs,t),yo.forEach(n),_o.forEach(n);for(var r=0;r<Ks.length;r++){var l=Ks[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)L_(r),r.blockedOn===null&&Ks.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Lt]||null;if(typeof f=="function")g||z_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Lt]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),z_(r)}}}function B_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(t){this._internalRoot=t}wc.prototype.render=Nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=xn();M_(r,l,t,n,null,null)},wc.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;M_(t.current,2,null,t,null,null),rc(),n[fi]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ks.length&&n!==0&&n<Ks[r].priority;r++);Ks.splice(r,0,t),r===0&&L_(t)}};var q_=e.version;if(q_!=="19.2.0")throw Error(s(527,q_,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var PT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Gn=Rc.inject(PT),Ht=Rc}catch{}}return Eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Xg,f=$g,g=Zg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=I_(t,1,!1,null,null,r,l,null,h,f,g,B_),t[fi]=n.current,ud(t),new Nd(n)},Eo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=Xg,g=$g,E=Zg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=I_(t,1,!0,n,r??null,l,h,I,f,g,E,B_),n.context=D_(null),r=n.current,l=xn(),l=Ea(l),h=Ds(l),h.callback=null,Ms(r,h,l),r=l,n.current.lanes=r,va(n,r),Ni(n),t[fi]=n.current,ud(t),new wc(n)},Eo.version="19.2.0",Eo}var J_;function XT(){if(J_)return Dd.exports;J_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dd.exports=YT(),Dd.exports}var $T=XT();const ZT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),W_=a=>{const e=JT(a);return e.charAt(0).toUpperCase()+e.slice(1)},Vv=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),WT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tS=de.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...p},_)=>de.createElement("svg",{ref:_,...eS,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:Vv("lucide",o),...!c&&!WT(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,A])=>de.createElement(v,A)),...Array.isArray(c)?c:[c]]));const Fe=(a,e)=>{const i=de.forwardRef(({className:s,...o},c)=>de.createElement(tS,{ref:c,iconNode:e,className:Vv(`lucide-${ZT(W_(a))}`,`lucide-${a}`,s),...o}));return i.displayName=W_(a),i};const nS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iS=Fe("arrow-right",nS);const sS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aS=Fe("calendar",sS);const rS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rm=Fe("camera",rS);const lS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oS=Fe("chevron-right",lS);const uS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kv=Fe("circle-check-big",uS);const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jv=Fe("circle-x",cS);const hS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fS=Fe("clock",hS);const dS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mS=Fe("download",dS);const pS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],gS=Fe("file-spreadsheet",pS);const yS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_S=Fe("image",yS);const vS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Nm=Fe("layout-list",vS);const bS=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 19H3",key:"wbqt3n"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]],ES=Fe("list-restart",bS);const TS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Uv=Fe("loader",TS);const SS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wo=Fe("log-out",SS);const AS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xS=Fe("map-pin",AS);const wS=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],RS=Fe("maximize",wS);const NS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CS=Fe("menu",NS);const IS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Lv=Fe("mic",IS);const DS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Cm=Fe("monitor-play",DS);const MS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Pv=Fe("printer",MS);const OS=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],$d=Fe("qr-code",OS);const VS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Im=Fe("rotate-ccw",VS);const kS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jS=Fe("save",kS);const US=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LS=Fe("search",US);const PS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dm=Fe("settings",PS);const zS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ch=Fe("sparkles",zS);const BS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],e0=Fe("square-pen",BS);const qS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kd=Fe("trash-2",qS);const HS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GS=Fe("triangle-alert",HS);const FS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jd=Fe("upload",FS);const KS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Zd=Fe("user-x",KS);const QS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YS=Fe("user",QS);const XS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zv=Fe("users",XS);const $S=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ZS=Fe("wifi-off",$S),JS=()=>{};var t0={};const Bv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},WS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],p=a[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let C=(p&15)<<2|v>>6,q=v&63;_||(q=64,d||(C=64)),s.push(i[A],i[w],i[C],i[q])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Bv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):WS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||v==null||w==null)throw new eA;const C=c<<2|p>>4;if(s.push(C),v!==64){const q=p<<4&240|v>>2;if(s.push(q),w!==64){const F=v<<6&192|w;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(a){const e=Bv(a);return qv.encodeByteArray(e,!0)},Gc=function(a){return tA(a).replace(/\./g,"")},Hv=function(a){try{return qv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iA=()=>nA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof t0>"u")return;const a=t0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},aA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Hv(a[1]);return e&&JSON.parse(e)},hh=()=>{try{return JS()||iA()||sA()||aA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Gv=a=>hh()?.emulatorHosts?.[a],rA=a=>{const e=Gv(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Fv=()=>hh()?.config,Kv=a=>hh()?.[`_${a}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function fl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qv(a){return(await fetch(a,{credentials:"include"})).ok}function oA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Ro={};function uA(){const a={prod:[],emulator:[]};for(const e of Object.keys(Ro))Ro[e]?a.emulator.push(e):a.prod.push(e);return a}function cA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let n0=!1;function Yv(a,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Ro[a]===e||Ro[a]||n0)return;Ro[a]=e;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=uA().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,q){C.setAttribute("width","24"),C.setAttribute("id",q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{n0=!0,d()},C}function A(C,q){C.setAttribute("id",q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=cA(s),q=i("text"),F=document.getElementById(q)||document.createElement("span"),ee=i("learnmore"),Y=document.getElementById(ee)||document.createElement("a"),te=i("preprendIcon"),pe=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ie=C.element;p(ie),A(Y,ee);const Ne=v();_(pe,te),ie.append(pe,F,Y,Ne),document.body.appendChild(ie)}c?(F.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function fA(){const a=hh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function pA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const a=nn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const bA="FirebaseError";class hs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=bA,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?EA(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new hs(o,p,s)}}function EA(a,e){return a.replace(TA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const TA=/\{\$([^}]+)}/g;function SA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Ja(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(i0(c)&&i0(d)){if(!Ja(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function i0(a){return a!==null&&typeof a=="object"}function Ho(a){const e=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function AA(a,e){const i=new xA(a,e);return i.subscribe.bind(i)}class xA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let o;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");wA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:s},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ud(){}function qt(a){return a&&a._delegate?a._delegate:a}class Wa{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qa="[DEFAULT]";class RA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new lA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CA(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(a){return a===Qa?void 0:a}function CA(a){return a.instantiationMode==="EAGER"}class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ze||(ze={}));const DA={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},MA=ze.INFO,OA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},VA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=OA[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const kA=(a,e)=>e.some(i=>a instanceof i);let s0,a0;function jA(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,Jd=new WeakMap,$v=new WeakMap,Ld=new WeakMap,Om=new WeakMap;function LA(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(ea(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Xv.set(i,a)}).catch(()=>{}),Om.set(e,a),e}function PA(a){if(Jd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Jd.set(a,e)}let Wd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Jd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||$v.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ea(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function zA(a){Wd=a(Wd)}function BA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Pd(this),e,...i);return $v.set(s,e.sort?e.sort():[e]),ea(s)}:UA().includes(a)?function(...e){return a.apply(Pd(this),e),ea(Xv.get(this))}:function(...e){return ea(a.apply(Pd(this),e))}}function qA(a){return typeof a=="function"?BA(a):(a instanceof IDBTransaction&&PA(a),kA(a,jA())?new Proxy(a,Wd):a)}function ea(a){if(a instanceof IDBRequest)return LA(a);if(Ld.has(a))return Ld.get(a);const e=qA(a);return e!==a&&(Ld.set(a,e),Om.set(e,a)),e}const Pd=a=>Om.get(a);function HA(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),p=ea(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ea(d.result),_.oldVersion,_.newVersion,ea(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const GA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],zd=new Map;function r0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=FA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return zd.set(e,c),c}zA(a=>({...a,get:(e,i,s)=>r0(e,i)||a.get(e,i,s),has:(e,i)=>!!r0(e,i)||a.has(e,i)}));class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function QA(a){return a.getComponent()?.type==="VERSION"}const em="@firebase/app",l0="0.14.6";const rs=new Mm("@firebase/app"),YA="@firebase/app-compat",XA="@firebase/analytics-compat",$A="@firebase/analytics",ZA="@firebase/app-check-compat",JA="@firebase/app-check",WA="@firebase/auth",ex="@firebase/auth-compat",tx="@firebase/database",nx="@firebase/data-connect",ix="@firebase/database-compat",sx="@firebase/functions",ax="@firebase/functions-compat",rx="@firebase/installations",lx="@firebase/installations-compat",ox="@firebase/messaging",ux="@firebase/messaging-compat",cx="@firebase/performance",hx="@firebase/performance-compat",fx="@firebase/remote-config",dx="@firebase/remote-config-compat",mx="@firebase/storage",px="@firebase/storage-compat",gx="@firebase/firestore",yx="@firebase/ai",_x="@firebase/firestore-compat",vx="firebase",bx="12.6.0";const tm="[DEFAULT]",Ex={[em]:"fire-core",[YA]:"fire-core-compat",[$A]:"fire-analytics",[XA]:"fire-analytics-compat",[JA]:"fire-app-check",[ZA]:"fire-app-check-compat",[WA]:"fire-auth",[ex]:"fire-auth-compat",[tx]:"fire-rtdb",[nx]:"fire-data-connect",[ix]:"fire-rtdb-compat",[sx]:"fire-fn",[ax]:"fire-fn-compat",[rx]:"fire-iid",[lx]:"fire-iid-compat",[ox]:"fire-fcm",[ux]:"fire-fcm-compat",[cx]:"fire-perf",[hx]:"fire-perf-compat",[fx]:"fire-rc",[dx]:"fire-rc-compat",[mx]:"fire-gcs",[px]:"fire-gcs-compat",[gx]:"fire-fst",[_x]:"fire-fst-compat",[yx]:"fire-vertex","fire-js":"fire-js",[vx]:"fire-js-all"};const Fc=new Map,Tx=new Map,nm=new Map;function o0(a,e){try{a.container.addComponent(e)}catch(i){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function sl(a){const e=a.name;if(nm.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,a);for(const i of Fc.values())o0(i,a);for(const i of Tx.values())o0(i,a);return!0}function Vm(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function ii(a){return a==null?!1:a.settings!==void 0}const Sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new qo("app","Firebase",Sx);class Ax{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}const dl=bx;function Zv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:tm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ta.create("bad-app-name",{appName:String(o)});if(i||(i=Fv()),!i)throw ta.create("no-options");const c=Fc.get(o);if(c){if(Ja(i,c.options)&&Ja(s,c.config))return c;throw ta.create("duplicate-app",{appName:o})}const d=new IA(o);for(const _ of nm.values())d.addComponent(_);const p=new Ax(i,s,d);return Fc.set(o,p),p}function Jv(a=tm){const e=Fc.get(a);if(!e&&a===tm&&Fv())return Zv();if(!e)throw ta.create("no-app",{appName:a});return e}function na(a,e,i){let s=Ex[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}sl(new Wa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xx="firebase-heartbeat-database",wx=1,Oo="firebase-heartbeat-store";let Bd=null;function Wv(){return Bd||(Bd=HA(xx,wx,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Oo)}catch(i){console.warn(i)}}}}).catch(a=>{throw ta.create("idb-open",{originalErrorMessage:a.message})})),Bd}async function Rx(a){try{const i=(await Wv()).transaction(Oo),s=await i.objectStore(Oo).get(e1(a));return await i.done,s}catch(e){if(e instanceof hs)rs.warn(e.message);else{const i=ta.create("idb-get",{originalErrorMessage:e?.message});rs.warn(i.message)}}}async function u0(a,e){try{const s=(await Wv()).transaction(Oo,"readwrite");await s.objectStore(Oo).put(e,e1(a)),await s.done}catch(i){if(i instanceof hs)rs.warn(i.message);else{const s=ta.create("idb-set",{originalErrorMessage:i?.message});rs.warn(s.message)}}}function e1(a){return`${a.name}!${a.options.appId}`}const Nx=1024,Cx=30;class Ix{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Mx(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Cx){const o=Ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c0(),{heartbeatsToSend:i,unsentEntries:s}=Dx(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return rs.warn(e),""}}}function c0(){return new Date().toISOString().substring(0,10)}function Dx(a,e=Nx){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),h0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),h0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Mx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?vA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Rx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function h0(a){return Gc(JSON.stringify({version:2,heartbeats:a})).length}function Ox(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function Vx(a){sl(new Wa("platform-logger",e=>new KA(e),"PRIVATE")),sl(new Wa("heartbeat",e=>new Ix(e),"PRIVATE")),na(em,l0,a),na(em,l0,"esm2020"),na("fire-js","")}Vx("");var kx="firebase",jx="12.6.0";na(kx,jx,"app");function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ux=t1,n1=new qo("auth","Firebase",t1());const Kc=new Mm("@firebase/auth");function Lx(a,...e){Kc.logLevel<=ze.WARN&&Kc.warn(`Auth (${dl}): ${a}`,...e)}function Vc(a,...e){Kc.logLevel<=ze.ERROR&&Kc.error(`Auth (${dl}): ${a}`,...e)}function ls(a,...e){throw km(a,...e)}function Di(a,...e){return km(a,...e)}function i1(a,e,i){const s={...Ux(),[e]:i};return new qo("auth","Firebase",s).create(e,{appName:a.name})}function ia(a){return i1(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(a,...e){if(typeof a!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return n1.create(a,...e)}function Te(a,e,...i){if(!a)throw km(e,...i)}function ss(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Vc(e),new Error(e)}function os(a,e){a||ss(e)}function im(){return typeof self<"u"&&self.location?.href||""}function Px(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Px()||mA()||"connection"in navigator)?navigator.onLine:!0}function Bx(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Go{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=hA()||pA()}get(){return zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(a,e){os(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class s1{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Hx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Gx=new Go(3e4,6e4);function fh(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function ml(a,e,i,s,o={}){return a1(a,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=Ho({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:e,headers:_,...c};return dA()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&fl(a.emulatorConfig.host)&&(v.credentials="include"),s1.fetch()(await l1(a,a.config.apiHost,i,p),v)})}async function a1(a,e,i){a._canInitEmulator=!1;const s={...qx,...e};try{const o=new Fx(a),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(a,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw i1(a,A,v);ls(a,A)}}catch(o){if(o instanceof hs)throw o;ls(a,"network-request-failed",{message:String(o)})}}async function r1(a,e,i,s,o={}){const c=await ml(a,e,i,s,o);return"mfaPendingCredential"in c&&ls(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function l1(a,e,i,s){const o=`${e}${i}?${s}`,c=a,d=c.config.emulator?jm(a.config,o):`${a.config.apiScheme}://${o}`;return Hx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),Gx.get())})}}function Nc(a,e,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=Di(a,e,s);return o.customData._tokenResponse=i,o}async function Kx(a,e){return ml(a,"POST","/v1/accounts:delete",e)}async function Qc(a,e){return ml(a,"POST","/v1/accounts:lookup",e)}function No(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qx(a,e=!1){const i=qt(a),s=await i.getIdToken(e),o=Um(s);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:No(qd(o.auth_time)),issuedAtTime:No(qd(o.iat)),expirationTime:No(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(a){return Number(a)*1e3}function Um(a){const[e,i,s]=a.split(".");if(e===void 0||i===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Hv(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(a){const e=Um(a);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vo(a,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof hs&&Yx(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function Yx({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(a){const e=a.auth,i=await a.getIdToken(),s=await Vo(a,Qc(e,{idToken:i}));Te(s?.users.length,e,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?o1(o.providerUserInfo):[],d=Zx(a.providerData,c),p=a.isAnonymous,_=!(a.email&&o.passwordHash)&&!d?.length,v=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function $x(a){const e=qt(a);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zx(a,e){return[...a.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function o1(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Jx(a,e){const i=await a1(a,{},async()=>{const s=Ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,d=await l1(a,o,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return a.emulatorConfig&&fl(a.emulatorConfig.host)&&(_.credentials="include"),s1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Wx(a,e){return ml(a,"POST","/v2/accounts:revokeToken",fh(a,e))}class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=d0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:o,expiresIn:c}=await Jx(e,i);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:o,expirationTime:c}=i,d=new Jr;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Ys(a,e){Te(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Qx(this,e)}reload(){return $x(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Vo(this,Kx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:C,isAnonymous:q,providerData:F,stsTokenManager:ee}=i;Te(w&&ee,e,"internal-error");const Y=Jr.fromJSON(this.name,ee);Te(typeof w=="string",e,"internal-error"),Ys(s,e.name),Ys(o,e.name),Te(typeof C=="boolean",e,"internal-error"),Te(typeof q=="boolean",e,"internal-error"),Ys(c,e.name),Ys(d,e.name),Ys(p,e.name),Ys(_,e.name),Ys(v,e.name),Ys(A,e.name);const te=new si({uid:w,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Y,createdAt:v,lastLoginAt:A});return F&&Array.isArray(F)&&(te.providerData=F.map(pe=>({...pe}))),_&&(te._redirectEventId=_),te}static async _fromIdTokenResponse(e,i,s=!1){const o=new Jr;o.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yc(c),c}static async _fromGetAccountInfoResponse(e,i,s){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?o1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Jr;p.updateFromIdToken(s);const _=new si({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const m0=new Map;function as(a){os(a instanceof Function,"Expected a class definition");let e=m0.get(a);return e?(os(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,m0.set(a,e),e)}class u1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}u1.type="NONE";const p0=u1;function kc(a,e,i){return`firebase:${a}:${e}:${i}`}class Wr{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Qc(this.auth,{idToken:e}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Wr(as(p0),e,s);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||as(p0);const d=kc(s,e.config.apiKey,e.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let w;if(typeof A=="string"){const C=await Qc(e,{idToken:A}).catch(()=>{});if(!C)break;w=await si._fromGetAccountInfoResponse(e,C,A)}else w=si._fromJSON(e,A);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Wr(c,e,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Wr(c,e,s))}}function g0(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(g1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function c1(a=nn()){return/firefox\//i.test(a)}function h1(a=nn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(a=nn()){return/crios\//i.test(a)}function d1(a=nn()){return/iemobile/i.test(a)}function m1(a=nn()){return/android/i.test(a)}function p1(a=nn()){return/blackberry/i.test(a)}function g1(a=nn()){return/webos/i.test(a)}function Lm(a=nn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function e2(a=nn()){return Lm(a)&&!!window.navigator?.standalone}function t2(){return gA()&&document.documentMode===10}function y1(a=nn()){return Lm(a)||m1(a)||g1(a)||p1(a)||/windows phone/i.test(a)||d1(a)}function _1(a,e=[]){let i;switch(a){case"Browser":i=g0(nn());break;case"Worker":i=`${g0(nn())}-${a}`;break;default:i=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${dl}/${s}`}class n2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function i2(a,e={}){return ml(a,"GET","/v2/passwordPolicy",fh(a,e))}const s2=6;class a2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??s2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class r2{constructor(e,i,s,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new n2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Qc(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(ia(this));const i=e?qt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i2(this),i=new a2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Wx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&as(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await Wr.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,s,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Lx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dh(a){return qt(a)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l2(a){Pm=a}function o2(a){return Pm.loadJS(a)}function u2(){return Pm.gapiScript}function c2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function h2(a,e){const i=Vm(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ja(c,e??{}))return o;ls(o,"already-initialized")}return i.initialize({options:e})}function f2(a,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(as);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e?.popupRedirectResolver)}function d2(a,e,i){const s=dh(a);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=v1(e),{host:d,port:p}=m2(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ja(v,s.config.emulator)&&Ja(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,fl(d)?(Qv(`${c}//${d}${_}`),Yv("Auth",!0)):p2()}function v1(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function m2(a){const e=v1(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:_0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:_0(d)}}}function _0(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function p2(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class b1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,i){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function el(a,e){return r1(a,"POST","/v1/accounts:signInWithIdp",fh(a,e))}const g2="http://localhost";class er extends b1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=i;if(!s||!o)return null;const d=new er(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return el(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,el(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,el(e,i)}buildRequest(){const e={requestUri:g2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ho(i)}return e}}class E1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fo extends E1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xs extends Fo{constructor(){super("facebook.com")}static credential(e){return er._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class $s extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return er._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return $s.credential(i,s)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Zs extends Fo{constructor(){super("github.com")}static credential(e){return er._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Js extends Fo{constructor(){super("twitter.com")}static credential(e,i){return er._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Js.credential(i,s)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function y2(a,e){return r1(a,"POST","/v1/accounts:signUp",fh(a,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,o=!1){const c=await si._fromIdTokenResponse(e,s,o),d=v0(s);return new la({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const o=v0(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:i})}}function v0(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function _2(a){if(ii(a.app))return Promise.reject(ia(a));const e=dh(a);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new la({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await y2(e,{returnSecureToken:!0}),s=await la._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Xc extends hs{constructor(e,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,o){return new Xc(e,i,s,o)}}function T1(a,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(a,c,e,s):c})}async function v2(a,e,i=!1){const s=await Vo(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return la._forOperation(a,"link",s)}async function b2(a,e,i=!1){const{auth:s}=a;if(ii(s.app))return Promise.reject(ia(s));const o="reauthenticate";try{const c=await Vo(a,T1(s,o,e,a),i);Te(c.idToken,s,"internal-error");const d=Um(c.idToken);Te(d,s,"internal-error");const{sub:p}=d;return Te(a.uid===p,s,"user-mismatch"),la._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ls(s,"user-mismatch"),c}}async function E2(a,e,i=!1){if(ii(a.app))return Promise.reject(ia(a));const s="signIn",o=await T1(a,s,e),c=await la._fromIdTokenResponse(a,s,o);return i||await a._updateCurrentUser(c.user),c}function T2(a,e,i,s){return qt(a).onIdTokenChanged(e,i,s)}function S2(a,e,i){return qt(a).beforeAuthStateChanged(e,i)}function A2(a,e,i,s){return qt(a).onAuthStateChanged(e,i,s)}const $c="__sak";class S1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const x2=1e3,w2=10;class A1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);t2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,w2):o()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}A1.type="LOCAL";const R2=A1;class x1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}x1.type="SESSION";const w1=x1;function N2(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await N2(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function zm(a="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return a+i}class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=zm("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(C.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function I2(a){Mi().location.href=a}function R1(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function D2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M2(){return navigator?.serviceWorker?.controller||null}function O2(){return R1()?self:null}const N1="firebaseLocalStorageDb",V2=1,Zc="firebaseLocalStorage",C1="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(a,e){return a.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function k2(){const a=indexedDB.deleteDatabase(N1);return new Ko(a).toPromise()}function am(){const a=indexedDB.open(N1,V2);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Zc,{keyPath:C1})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Zc)?e(s):(s.close(),await k2(),e(await am()))})})}async function b0(a,e,i){const s=ph(a,!0).put({[C1]:e,value:i});return new Ko(s).toPromise()}async function j2(a,e){const i=ph(a,!1).get(e),s=await new Ko(i).toPromise();return s===void 0?null:s.value}function E0(a,e){const i=ph(a,!0).delete(e);return new Ko(i).toPromise()}const U2=800,L2=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>L2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await b0(e,$c,"1"),await E0(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>b0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>j2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>E0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new Ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const P2=I1;new Go(3e4,6e4);function z2(a,e){return e?as(e):(Te(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Bm extends b1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,i){return el(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function B2(a){return E2(a.auth,new Bm(a),a.bypassAuthState)}function q2(a){const{auth:e,user:i}=a;return Te(i,e,"internal-error"),b2(i,new Bm(a),a.bypassAuthState)}async function H2(a){const{auth:e,user:i}=a;return Te(i,e,"internal-error"),v2(i,new Bm(a),a.bypassAuthState)}class D1{constructor(e,i,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return q2;default:ls(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const G2=new Go(2e3,1e4);class Zr extends D1{constructor(e,i,s,o,c){super(e,i,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G2.get())};e()}}Zr.currentPopupAction=null;const F2="pendingRedirect",jc=new Map;class K2 extends D1{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const s=await Q2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q2(a,e){const i=$2(e),s=X2(a);if(!await s._isAvailable())return!1;const o=await s._get(i)==="true";return await s._remove(i),o}function Y2(a,e){jc.set(a._key(),e)}function X2(a){return as(a._redirectPersistence)}function $2(a){return kc(F2,a.config.apiKey,a.name)}async function Z2(a,e,i=!1){if(ii(a.app))return Promise.reject(ia(a));const s=dh(a),o=z2(s,e),d=await new K2(s,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const J2=600*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ew(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!M1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function M1({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function ew(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M1(a);default:return!1}}async function tw(a,e={}){return ml(a,"GET","/v1/projects",e)}const nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iw=/^https?/;async function sw(a){if(a.config.emulator)return;const{authorizedDomains:e}=await tw(a);for(const i of e)try{if(aw(i))return}catch{}ls(a,"unauthorized-domain")}function aw(a){const e=im(),{protocol:i,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!iw.test(i))return!1;if(nw.test(a))return s===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const rw=new Go(3e4,6e4);function S0(){const a=Mi().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function lw(a){return new Promise((e,i)=>{function s(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),i(Di(a,"network-request-failed"))},timeout:rw.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=c2("iframefcb");return Mi()[o]=()=>{gapi.load?s():i(Di(a,"network-request-failed"))},o2(`${u2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function ow(a){return Uc=Uc||lw(a),Uc}const uw=new Go(5e3,15e3),cw="__/auth/iframe",hw="emulator/auth/iframe",fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mw(a){const e=a.config;Te(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?jm(e,hw):`https://${a.config.authDomain}/${cw}`,s={apiKey:e.apiKey,appName:a.name,v:dl},o=dw.get(a.config.apiHost);o&&(s.eid=o);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Ho(s).slice(1)}`}async function pw(a){const e=await ow(a),i=Mi().gapi;return Te(i,a,"internal-error"),e.open({where:document.body,url:mw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fw,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Di(a,"network-request-failed"),p=Mi().setTimeout(()=>{c(d)},uw.get());function _(){Mi().clearTimeout(p),o(s)}s.ping(_).then(_,()=>{c(d)})}))}const gw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yw=500,_w=600,vw="_blank",bw="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ew(a,e,i,s=yw,o=_w){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...gw,width:s.toString(),height:o.toString(),top:c,left:d},v=nn().toLowerCase();i&&(p=f1(v)?vw:i),c1(v)&&(e=e||bw,_.scrollbars="yes");const A=Object.entries(_).reduce((C,[q,F])=>`${C}${q}=${F},`,"");if(e2(v)&&p!=="_self")return Tw(e||"",p),new A0(null);const w=window.open(e||"",p,A);Te(w,a,"popup-blocked");try{w.focus()}catch{}return new A0(w)}function Tw(a,e){const i=document.createElement("a");i.href=a,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Sw="__/auth/handler",Aw="emulator/auth/handler",xw=encodeURIComponent("fac");async function x0(a,e,i,s,o,c){Te(a.config.authDomain,a,"auth-domain-config-required"),Te(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:dl,eventId:o};if(e instanceof E1){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",SA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof Fo){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),v=_?`#${xw}=${encodeURIComponent(_)}`:"";return`${ww(a)}?${Ho(p).slice(1)}${v}`}function ww({config:a}){return a.emulator?jm(a,Aw):`https://${a.authDomain}/${Sw}`}const Hd="webStorageSupport";class Rw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=Z2,this._overrideRedirectResult=Y2}async _openPopup(e,i,s,o){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await x0(e,i,s,im(),o);return Ew(e,c,zm())}async _openRedirect(e,i,s,o){await this._originValidation(e);const c=await x0(e,i,s,im(),o);return I2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await pw(e),s=new W2(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return y1()||h1()||Lm()}}const Nw=Rw;var w0="@firebase/auth",R0="1.11.1";class Cw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Iw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dw(a){sl(new Wa("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(a)},v=new r2(s,o,c,_);return f2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),sl(new Wa("auth-internal",e=>{const i=dh(e.getProvider("auth").getImmediate());return(s=>new Cw(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(w0,R0,Iw(a)),na(w0,R0,"esm2020")}const Mw=300,Ow=Kv("authIdTokenMaxAge")||Mw;let N0=null;const Vw=a=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Ow)return;const o=i?.token;N0!==o&&(N0=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kw(a=Jv()){const e=Vm(a,"auth");if(e.isInitialized())return e.getImmediate();const i=h2(a,{popupRedirectResolver:Nw,persistence:[P2,R2,w1]}),s=Kv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Vw(c.toString());S2(i,d,()=>d(i.currentUser)),T2(i,p=>d(p))}}const o=Gv("auth");return o&&d2(i,`http://${o}`),i}function jw(){return document.getElementsByTagName("head")?.[0]??document}l2({loadJS(a){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=o=>{const c=Di("internal-error");c.customData=o,i(c)},s.type="text/javascript",s.charset="UTF-8",jw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dw("Browser");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sa,O1;(function(){var a;function e(N,T){function R(){}R.prototype=T.prototype,N.F=T.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,D,k){for(var x=Array(arguments.length-2),re=2;re<arguments.length;re++)x[re-2]=arguments[re];return T.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,R){R||(R=0);const V=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)V[D]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=N.g[0],R=N.g[1],D=N.g[2];let k=N.g[3],x;x=T+(k^R&(D^k))+V[0]+3614090360&4294967295,T=R+(x<<7&4294967295|x>>>25),x=k+(D^T&(R^D))+V[1]+3905402710&4294967295,k=T+(x<<12&4294967295|x>>>20),x=D+(R^k&(T^R))+V[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(T^D&(k^T))+V[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=T+(k^R&(D^k))+V[4]+4118548399&4294967295,T=R+(x<<7&4294967295|x>>>25),x=k+(D^T&(R^D))+V[5]+1200080426&4294967295,k=T+(x<<12&4294967295|x>>>20),x=D+(R^k&(T^R))+V[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(T^D&(k^T))+V[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=T+(k^R&(D^k))+V[8]+1770035416&4294967295,T=R+(x<<7&4294967295|x>>>25),x=k+(D^T&(R^D))+V[9]+2336552879&4294967295,k=T+(x<<12&4294967295|x>>>20),x=D+(R^k&(T^R))+V[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(T^D&(k^T))+V[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=T+(k^R&(D^k))+V[12]+1804603682&4294967295,T=R+(x<<7&4294967295|x>>>25),x=k+(D^T&(R^D))+V[13]+4254626195&4294967295,k=T+(x<<12&4294967295|x>>>20),x=D+(R^k&(T^R))+V[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(T^D&(k^T))+V[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=T+(D^k&(R^D))+V[1]+4129170786&4294967295,T=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(T^R))+V[6]+3225465664&4294967295,k=T+(x<<9&4294967295|x>>>23),x=D+(T^R&(k^T))+V[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^T&(D^k))+V[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=T+(D^k&(R^D))+V[5]+3593408605&4294967295,T=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(T^R))+V[10]+38016083&4294967295,k=T+(x<<9&4294967295|x>>>23),x=D+(T^R&(k^T))+V[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^T&(D^k))+V[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=T+(D^k&(R^D))+V[9]+568446438&4294967295,T=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(T^R))+V[14]+3275163606&4294967295,k=T+(x<<9&4294967295|x>>>23),x=D+(T^R&(k^T))+V[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^T&(D^k))+V[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=T+(D^k&(R^D))+V[13]+2850285829&4294967295,T=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(T^R))+V[2]+4243563512&4294967295,k=T+(x<<9&4294967295|x>>>23),x=D+(T^R&(k^T))+V[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^T&(D^k))+V[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=T+(R^D^k)+V[5]+4294588738&4294967295,T=R+(x<<4&4294967295|x>>>28),x=k+(T^R^D)+V[8]+2272392833&4294967295,k=T+(x<<11&4294967295|x>>>21),x=D+(k^T^R)+V[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^T)+V[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=T+(R^D^k)+V[1]+2763975236&4294967295,T=R+(x<<4&4294967295|x>>>28),x=k+(T^R^D)+V[4]+1272893353&4294967295,k=T+(x<<11&4294967295|x>>>21),x=D+(k^T^R)+V[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^T)+V[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=T+(R^D^k)+V[13]+681279174&4294967295,T=R+(x<<4&4294967295|x>>>28),x=k+(T^R^D)+V[0]+3936430074&4294967295,k=T+(x<<11&4294967295|x>>>21),x=D+(k^T^R)+V[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^T)+V[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=T+(R^D^k)+V[9]+3654602809&4294967295,T=R+(x<<4&4294967295|x>>>28),x=k+(T^R^D)+V[12]+3873151461&4294967295,k=T+(x<<11&4294967295|x>>>21),x=D+(k^T^R)+V[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^T)+V[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=T+(D^(R|~k))+V[0]+4096336452&4294967295,T=R+(x<<6&4294967295|x>>>26),x=k+(R^(T|~D))+V[7]+1126891415&4294967295,k=T+(x<<10&4294967295|x>>>22),x=D+(T^(k|~R))+V[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~T))+V[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=T+(D^(R|~k))+V[12]+1700485571&4294967295,T=R+(x<<6&4294967295|x>>>26),x=k+(R^(T|~D))+V[3]+2399980690&4294967295,k=T+(x<<10&4294967295|x>>>22),x=D+(T^(k|~R))+V[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~T))+V[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=T+(D^(R|~k))+V[8]+1873313359&4294967295,T=R+(x<<6&4294967295|x>>>26),x=k+(R^(T|~D))+V[15]+4264355552&4294967295,k=T+(x<<10&4294967295|x>>>22),x=D+(T^(k|~R))+V[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~T))+V[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=T+(D^(R|~k))+V[4]+4149444226&4294967295,T=R+(x<<6&4294967295|x>>>26),x=k+(R^(T|~D))+V[11]+3174756917&4294967295,k=T+(x<<10&4294967295|x>>>22),x=D+(T^(k|~R))+V[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~T))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,T){T===void 0&&(T=N.length);const R=T-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<T;){if(D==0)for(;k<=R;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<T;)if(V[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<T;)if(V[D++]=N[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=T},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;T=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=T&255,T/=256;for(this.v(N),N=Array(16),T=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[T++]=this.g[R]>>>V&255;return N};function c(N,T){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=T(N)}function d(N,T){this.h=T;const R=[];let V=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;V&&k==T||(R[D]=k,V=!1)}this.g=R}var p={};function _(N){return-128<=N&&N<128?c(N,function(T){return new d([T|0],T<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return Y(v(-N));const T=[];let R=1;for(let V=0;N>=R;V++)T[V]=N/R|0,R*=4294967296;return new d(T,0)}function A(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return Y(A(N.substring(1),T));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(T,8));let V=w;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const x=parseInt(N.substring(k,k+D),T);D<8?(D=v(Math.pow(T,D)),V=V.j(D).add(v(x))):(V=V.j(R),V=V.add(v(x)))}return V}var w=_(0),C=_(1),q=_(16777216);a=d.prototype,a.m=function(){if(ee(this))return-Y(this).m();let N=0,T=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*T,T*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(ee(this))return"-"+Y(this).toString(N);const T=v(Math.pow(N,6));var R=this;let V="";for(;;){const D=Ne(R,T).g;R=te(R,D.j(T));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,F(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(let T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function ee(N){return N.h==-1}a.l=function(N){return N=te(this,N),ee(N)?-1:F(N)?0:1};function Y(N){const T=N.g.length,R=[];for(let V=0;V<T;V++)R[V]=~N.g[V];return new d(R,~N.h).add(C)}a.abs=function(){return ee(this)?Y(this):this},a.add=function(N){const T=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let D=0;D<=T;D++){let k=V+(this.i(D)&65535)+(N.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,k&=65535,x&=65535,R[D]=x<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function te(N,T){return N.add(Y(T))}a.j=function(N){if(F(this)||F(N))return w;if(ee(this))return ee(N)?Y(this).j(Y(N)):Y(Y(this).j(N));if(ee(N))return Y(this.j(Y(N)));if(this.l(q)<0&&N.l(q)<0)return v(this.m()*N.m());const T=this.g.length+N.g.length,R=[];for(var V=0;V<2*T;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const k=this.i(V)>>>16,x=this.i(V)&65535,re=N.i(D)>>>16,le=N.i(D)&65535;R[2*V+2*D]+=x*le,pe(R,2*V+2*D),R[2*V+2*D+1]+=k*le,pe(R,2*V+2*D+1),R[2*V+2*D+1]+=x*re,pe(R,2*V+2*D+1),R[2*V+2*D+2]+=k*re,pe(R,2*V+2*D+2)}for(N=0;N<T;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=T;N<2*T;N++)R[N]=0;return new d(R,0)};function pe(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function ie(N,T){this.g=N,this.h=T}function Ne(N,T){if(F(T))throw Error("division by zero");if(F(N))return new ie(w,w);if(ee(N))return T=Ne(Y(N),T),new ie(Y(T.g),Y(T.h));if(ee(T))return T=Ne(N,Y(T)),new ie(Y(T.g),T.h);if(N.g.length>30){if(ee(N)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var R=C,V=T;V.l(N)<=0;)R=Se(R),V=Se(V);var D=_e(R,1),k=_e(V,1);for(V=_e(V,2),R=_e(R,2);!F(V);){var x=k.add(V);x.l(N)<=0&&(D=D.add(R),k=x),V=_e(V,1),R=_e(R,1)}return T=te(N,D.j(T)),new ie(D,T)}for(D=w;N.l(T)>=0;){for(R=Math.max(1,Math.floor(N.m()/T.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=v(R),x=k.j(T);ee(x)||x.l(N)>0;)R-=V,k=v(R),x=k.j(T);F(k)&&(k=C),D=D.add(k),N=te(N,x)}return new ie(D,N)}a.B=function(N){return Ne(this,N).h},a.and=function(N){const T=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<T;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},a.or=function(N){const T=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<T;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},a.xor=function(N){const T=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<T;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function Se(N){const T=N.g.length+1,R=[];for(let V=0;V<T;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function _e(N,T){const R=T>>5;T%=32;const V=N.g.length-R,D=[];for(let k=0;k<V;k++)D[k]=T>0?N.i(k+R)>>>T|N.i(k+R+1)<<32-T:N.i(k+R);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,O1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,sa=d}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var V1,To,k1,Lc,rm,j1,U1,L1;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)e:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in b))break e;b=b[L]}u=u[u.length-1],S=b[u],m=m(S),m!=S&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&b.push([S,m[S]]);return b}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=_,v.apply(null,arguments)}function A(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,L,H){for(var se=Array(arguments.length-2),De=2;De<arguments.length;De++)se[De-2]=arguments[De];return m.prototype[L].apply(S,se)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const b=Array(m);for(let S=0;S<m;S++)b[S]=u[S];return b}return[]}function F(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const H=L.length||0;u.length=b+H;for(let se=0;se<H;se++)u[b+se]=L[se]}else u.push(L)}}class ee{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){d.setTimeout(()=>{throw u},0)}function te(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,b){const S=ie.get();S.set(m,b),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new ee(()=>new Ne,u=>u.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,_e=!1,N=new pe,T=()=>{const u=Promise.resolve(void 0);Se=()=>{u.then(R)}};function R(){for(var u;u=te();){try{u.h.call(u.g)}catch(b){Y(b)}var m=ie;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(re,D),re.prototype.init=function(u,m){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),U=0;function ne(u,m,b,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!S,this.ha=L,this.key=++U,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u,m,b){for(const S in u)m.call(b,u[S],S,u)}function Ie(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let b,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(b in S)u[b]=S[b];for(let H=0;H<Q.length;H++)b=Q[H],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,b,S,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const se=Ce(u,m,S,L);return se>-1?(m=u[se],b||(m.fa=!1)):(m=new ne(m,this.src,H,!!S,L),m.fa=b,u.push(m)),m};function Ee(u,m){const b=m.type;if(b in u.g){var S=u.g[b],L=Array.prototype.indexOf.call(S,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(S,L,1),H&&(fe(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ce(u,m,b,S){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==S)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),yt={};function lt(u,m,b,S,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)lt(u,m[H],b,S,L);return null}return b=Ye(b),u&&u[le]?u.J(m,b,p(S)?!!S.capture:!1,L):Li(u,m,b,!1,S,L)}function Li(u,m,b,S,L,H){if(!m)throw Error("Invalid event type");const se=p(L)?!!L.capture:!!L;let De=ri(u);if(De||(u[Ue]=De=new oe(u)),b=De.add(m,b,S,se,H),b.proxy)return b;if(S=fs(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)k||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(Nn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fs(){function u(b){return m.call(u.src,u.listener,b)}const m=ga;return u}function pn(u,m,b,S,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)pn(u,m[H],b,S,L);else S=p(S)?!!S.capture:!!S,b=Ye(b),u&&u[le]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],b=Ce(m,b,S,L),b>-1&&(fe(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ri(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,b,S,L)),(b=u>-1?m[u]:null)&&ds(b))}function ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[le])Ee(m.i,u);else{var b=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(b,S,u.capture):m.detachEvent?m.detachEvent(Nn(b),S):m.addListener&&m.removeListener&&m.removeListener(S),(b=ri(m))?(Ee(b,u),b.h==0&&(b.src=null,m[Ue]=null)):fe(u)}}}function Nn(u){return u in yt?yt[u]:yt[u]="on"+u}function ga(u,m){if(u.da)u=!0;else{m=new re(m,this);const b=u.listener,S=u.ha||u.src;u.fa&&ds(u),u=b.call(S,m)}return u}function ri(u){return u=u[Ue],u instanceof oe?u:null}var $="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ye(u){return typeof u=="function"?u:(u[$]||(u[$]=function(m){return u.handleEvent(m)}),u[$])}function Ve(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}w(Ve,V),Ve.prototype[le]=!0,Ve.prototype.removeEventListener=function(u,m,b,S){pn(this,u,m,b,S)};function tt(u,m){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(S,u),ae(m,L)}L=!0;let H,se;if(b)for(se=b.length-1;se>=0;se--)H=m.g=b[se],L=gn(H,S,!0,m)&&L;if(H=m.g=u,L=gn(H,S,!0,m)&&L,L=gn(H,S,!1,m)&&L,b)for(se=0;se<b.length;se++)H=m.g=b[se],L=gn(H,S,!1,m)&&L}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let S=0;S<b.length;S++)fe(b[S]);delete u.g[m],u.h--}}this.G=null},Ve.prototype.J=function(u,m,b,S){return this.i.add(String(u),m,!1,b,S)},Ve.prototype.K=function(u,m,b,S){return this.i.add(String(u),m,!0,b,S)};function gn(u,m,b,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==b){const De=se.listener,vt=se.ha||se.src;se.fa&&Ee(u.i,se),L=De.call(vt,S)!==!1&&L}}return L&&!S.defaultPrevented}function ms(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ya(u){u.g=ms(()=>{u.g=null,u.i&&(u.i=!1,ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ut extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(u){V.call(this),this.h=u,this.g={}}w(li,V);var ps=[];function gs(u){Ae(u.g,function(m,b){this.g.hasOwnProperty(b)&&ds(m)},u),u.g={}}li.prototype.N=function(){li.Z.N.call(this),gs(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,ar=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}w(Ht,D);function Cn(){D.call(this,"c")}w(Cn,D);var _t={},iu=null;function rr(){return iu=iu||new Ve}_t.Ia="serverreachability";function su(u){D.call(this,_t.Ia,u)}w(su,D);function oi(u){const m=rr();tt(m,new su(m))}_t.STAT_EVENT="statevent";function _a(u,m){D.call(this,_t.STAT_EVENT,u),this.stat=m}w(_a,D);function St(u){const m=rr();tt(m,new _a(m,u))}_t.Ja="timingevent";function ui(u,m){D.call(this,_t.Ja,u),this.size=m}w(ui,D);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Mh(u,m,b,S,L,H){u.info(function(){if(u.g)if(H){var se="",De=H.split("&");for(let Xe=0;Xe<De.length;Xe++){var vt=De[Xe].split("=");if(vt.length>1){const ft=vt[0];vt=vt[1];const On=ft.split("_");se=On.length>=2&&On[1]=="type"?se+(ft+"="+vt+"&"):se+(ft+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+b+`
`+se})}function au(u,m,b,S,L,H,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+b+`
`+H+" "+se})}function hi(u,m,b,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,b)+(S?" "+S:"")})}function va(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Hn(H)}catch{return m}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Ea(){}w(Ea,tu),Ea.prototype.g=function(){return new XMLHttpRequest},El=new Ea;function Pi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function Kn(u,m,b,S){this.j=u,this.i=m,this.l=b,this.S=S||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var At={},Lt={};function fi(u,m,b){u.M=1,u.A=Ta(wt(m)),u.u=b,u.R=!0,lr(u,null)}function lr(u,m){u.F=Date.now(),di(u),u.B=wt(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),hr(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Qn,u.g=Eu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Ut(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ps[0]=L.toString()),L=ps);for(let H=0;H<L.length;H++){const se=lt(b,L[H],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const De=$n(this.g),vt=this.g.ya(),Xe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||De!=4||vt==7||(vt==8||Xe<=0?oi(3):oi(2)),mi(this);var m=this.g.ca();this.X=m;var b=Vh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var H=S;break t}}H=null}if(u=H)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,St(12),yn(this),In(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<b.length;)if(ft=ou(this,b),ft==Lt){De==4&&(this.m=4,St(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==At){this.m=4,St(15),hi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ft,null),pi(this,ft);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,b,"[Invalid Chunked Response]"),yn(this),In(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),jl(se),se.P=!0,St(11))}}else hi(this.i,this.l,b,null),pi(this,b);De==4&&yn(this),this.o&&!this.K&&(De==4?yu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),yn(this),In(this)}}}catch{}finally{}};function Vh(u){if(!lu(u))return u.g.la();const m=Gt(u.g);if(m==="")return"";let b="";const S=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),In(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,b+=u.h.i.decode(m[H],{stream:!(L&&H==S-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var b=u.C,S=m.indexOf(`
`,b);return S==-1?Lt:(b=Number(m.substring(b,S)),isNaN(b)?At:(S+=1,S+b>m.length?Lt:(m=m.slice(S,S+b),u.C=S+b,m)))}Kn.prototype.cancel=function(){this.K=!0,yn(this)};function di(u){u.T=Date.now()+u.H,or(u,u.H)}function or(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(v(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(va(this.i,this.B),this.M!=2&&(oi(),St(17)),yn(this),this.m=2,In(this)):or(this,this.T-u)};function In(u){u.j.I==0||u.K||yu(u.j,u)}function yn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||yi(b.h,u))){if(!u.L&&yi(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)gr(b),As(b);else break e;Ca(b),St(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ci(v(b.Va,b),6e3));gi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Si(b,11)}else if((u.L||b.g==u)&&gr(b),!x(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let Xe=L[m];const ft=Xe[0];if(!(ft<=b.K))if(b.K=ft,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const On=Xe[3];On!=null&&(b.ka=On,b.j.info("VER="+b.ka));const Ai=Xe[4];Ai!=null&&(b.za=Ai,b.j.info("SVER="+b.za));const Zn=Xe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Jn=u.g;if(Jn){const Ia=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var H=S.h;H.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Al(H,H.h),H.h=null))}if(S.G){const yr=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;yr&&(S.wa=yr,Je(S.J,S.G,yr))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var se=u;if(S.na=bu(S,S.L?S.ba:null,S.W),se.L){xl(S.h,se);var De=se,vt=S.O;vt&&(De.H=vt),De.D&&(mi(De),di(De)),S.g=se}else pu(S);b.i.length>0&&Ti(b)}else Xe[0]!="stop"&&Xe[0]!="close"||Si(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Si(b,7):Vl(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}oi(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function Tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Al(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ur(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let L,H=null;S>=0?(L=u[b].substring(0,S),H=u[b].substring(S+1)):L=u[b],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Pt(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,Rl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ys(this,m[4]),this.h=_i(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Sa(m,cr,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Sa(m,cr,!0),"@"),u.push(Pi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Sa(b,b.charAt(0)=="/"?Nl:cu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Sa(b,hu)),u.join("")},_n.prototype.resolve=function(u){const m=wt(this);let b=!!u.j;b?Pt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var S=u.h;if(b)ys(m,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let se=0;se<L.length;){const De=L[se++];De=="."?S&&se==L.length&&H.push(""):De==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&se==L.length&&H.push("")):(H.push(De),S=!0)}S=H.join("/")}else S=L}return b?m.h=S:b=u.i.toString()!=="",b?Rl(m,du(u.i)):b=!!u.m,b&&(m.m=u.m),m};function wt(u){return new _n(u)}function Pt(u,m,b){u.j=b?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,b){m instanceof vs?(u.i=m,fr(u.i,u.l)):(b||(m=Sa(m,_s)),u.i=new vs(m,u.l))}function Je(u,m,b){u.i.set(m,b)}function Ta(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sa(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cr=/[#\/\?@]/g,cu=/[#\?:]/g,Nl=/[#\?]/g,_s=/[#\?@]/g,hu=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&ur(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}a=vs.prototype,a.add=function(u,m){ln(this),this.i=null,u=bs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function fu(u,m){ln(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return ln(u),m=bs(u,m),u.g.has(m)}a.forEach=function(u,m){ln(this),this.g.forEach(function(b,S){b.forEach(function(L){u.call(m,L,S,this)},this)},this)};function Il(u,m){ln(u);let b=[];if(typeof m=="string")Cl(u,m)&&(b=b.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}a.set=function(u,m){return ln(this),this.i=null,u=bs(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function hr(u,m,b){fu(u,m),b.length>0&&(u.i=null,u.g.set(bs(u,m),q(b)),u.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var b=m[S];const L=Pi(b);b=Il(this,b);for(let H=0;H<b.length;H++){let se=L;b[H]!==""&&(se+="="+Pi(b[H])),u.push(se)}}return this.i=u.join("&")};function du(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fr(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(b,S){const L=S.toLowerCase();S!=L&&(fu(this,S),hr(this,L,b))},u)),u.j=m}function Yn(u,m){const b=new Fn;if(d.Image){const S=new Image;S.onload=A(Dn,b,"TestLoadImage: loaded",!0,m,S),S.onerror=A(Dn,b,"TestLoadImage: error",!1,m,S),S.onabort=A(Dn,b,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(Dn,b,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Dl(u,m){const b=new Fn,S=new AbortController,L=setTimeout(()=>{S.abort(),Dn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(L),H.ok?Dn(b,"TestPingServer: ok",!0,m):Dn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(b,"TestPingServer: error",!1,m)})}function Dn(u,m,b,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(b)}catch{}}function Es(){this.g=new eu}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(vi,tu),vi.prototype.g=function(){return new Aa(this.i,this.h)};function Aa(u,m){Ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Aa,Ve),a=Aa.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function dr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ts(this):Xn(this),this.readyState==3&&dr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ts(this))},a.Na=function(u){this.g&&(this.response=u,Ts(this))},a.ga=function(){this.g&&Ts(this)};function Ts(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Ae(u,function(b,S){m+=S,m+=":",m+=b,m+=`\r
`}),m}function xa(u,m,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Mn(b),typeof u=="string"?b!=null&&Pi(b):Je(u,m,b))}function nt(u){Ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,Ve);var bi=/^https?$/i,Ml=["POST","PUT"];a=nt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){wa(this,H);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)b.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())b.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ml,m,void 0)>=0)||S||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of b)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){wa(this,H)}};function wa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),zi(u)}function Ol(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),zi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),nt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},a.Xa=function(){Ra(this)};function Ra(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),$n(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var S;if(S=H===0){let se=String(u.D).match(uu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),S=!bi.test(se?se.toLowerCase():"")}b=S}if(b)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ol(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||tt(u,"ready");try{b.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}a.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ar(m)}};function Gt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var b=ru(u[S]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[L]||[];m[L]=H,H.push(b)}Ie(m,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ss.prototype,a.ka=8,a.I=1,a.connect=function(u,m,b,S){St(0),this.W=u,this.H=m||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=bu(this,null,this.W),Ti(this)};function Vl(u){if(mr(u),u.I==3){var m=u.V++,b=wt(u.J);if(Je(b,"SID",u.M),Je(b,"RID",m),Je(b,"TYPE","terminate"),Na(u,b),m=new Kn(u,u.j,m),m.M=2,m.A=Ta(wt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}vu(u)}function As(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function mr(u){As(u),u.v&&(d.clearTimeout(u.v),u.v=null),gr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Se||T(),_e||(Se(),_e=!0),N.add(m,u),u.D=0}}function pr(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(v(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),b=wt(this.J),Je(b,"RID",u),Je(b,"CVER",22),this.G&&Je(b,"X-HTTP-Session-Id",this.G),Na(this,b),H&&(this.R?m="headers="+Pi(Mn(H))+"&"+m:this.u&&xa(b,this.u,H)),Al(this.h,L),this.Ra&&Je(b,"TYPE","init"),this.S?(Je(b,"$req",m),Je(b,"SID","null"),L.U=!0,fi(L,b,null)):fi(L,b,m),this.I=2}}else this.I==3&&(u?kl(this,u):this.i.length==0||Sl(this.h)||kl(this))};function kl(u,m){var b;m?b=m.l:b=u.V++;const S=wt(u.J);Je(S,"SID",u.M),Je(S,"RID",b),Je(S,"AID",u.K),Na(u,S),u.u&&u.o&&xa(S,u.u,u.o),b=new Kn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Al(u.h,b),fi(b,S,m)}function Na(u,m){u.H&&Ae(u.H,function(b,S){Je(m,S,b)}),u.l&&Ae({},function(b,S){Je(m,S,b)})}function mu(u,m,b){b=Math.min(u.i.length,b);const S=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const vt=["count="+b];De==-1?b>0?(De=L[0].g,vt.push("ofs="+De)):De=0:vt.push("ofs="+De);let Xe=!0;for(let ft=0;ft<b;ft++){var H=L[ft].g;const On=L[ft].map;if(H-=De,H<0)De=Math.max(0,L[ft].g-100),Xe=!1;else try{H="req"+H+"_"||"";try{var se=On instanceof Map?On:Object.entries(On);for(const[Ai,Zn]of se){let Jn=Zn;p(Zn)&&(Jn=Hn(Zn)),vt.push(H+Ai+"="+encodeURIComponent(Jn))}}catch(Ai){throw vt.push(H+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(On)}}if(Xe){se=vt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),m.G=u,se}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Se||T(),_e||(Se(),_e=!0),N.add(m,u),u.A=0}}function Ca(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(v(u.Da,u),_u(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),As(this),gu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=wt(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),Na(u,m),u.u&&u.o&&xa(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ta(wt(m)),b.u=null,b.R=!0,lr(b,u)}a.Va=function(){this.C!=null&&(this.C=null,As(this),Ca(this),St(19))};function gr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var b=null;if(u.g==m){gr(u),jl(u),u.g=null;var S=2}else if(yi(u.h,m))b=m.G,xl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=rr(),tt(S,new ui(S,b)),Ti(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&pr(u,m)||S==2&&Ca(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function _u(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),S=u.Ua;const L=!S;S=new _n(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(S,"https"),Ta(S),L?Yn(S.toString(),b):Dl(S.toString(),b)}else St(2);u.I=0,u.l&&u.l.pa(m),vu(u),mr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,b){var S=b instanceof _n?wt(b):new _n(b);if(S.g!="")m&&(S.g=m+"."+S.g),ys(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new _n(null);S&&Pt(H,S),m&&(H.g=m),L&&ys(H,L),b&&(H.h=b),S=H}return b=u.G,m=u.wa,b&&m&&Je(S,b,m),Je(S,"VER",u.ka),Na(u,S),S}function Eu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new vi({ab:b})):new nt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}a=Tu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Ve.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}w(sn,Ve),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Vl(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Hn(u),u=b);m.i.push(new xt(m.Ya++,u)),m.I==3&&Ti(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,sn.Z.N.call(this)};function Su(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Ht);function Au(){Cn.call(this),this.status=1}w(Au,Cn);function qi(u){this.g=u}w(qi,Tu),qi.prototype.ra=function(){tt(this.g,"a")},qi.prototype.qa=function(u){tt(this.g,new Su(u))},qi.prototype.pa=function(u){tt(this.g,new Au)},qi.prototype.oa=function(){tt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,L1=function(){return new xs},U1=function(){return rr()},j1=_t,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Lc=ba,bl.COMPLETE="complete",k1=bl,nu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,To=nu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,V1=nt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",D0="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let pl="12.3.0";const tr=new Mm("@firebase/firestore");function Qr(){return tr.logLevel}function ce(a,...e){if(tr.logLevel<=ze.DEBUG){const i=e.map(qm);tr.debug(`Firestore (${pl}): ${a}`,...i)}}function us(a,...e){if(tr.logLevel<=ze.ERROR){const i=e.map(qm);tr.error(`Firestore (${pl}): ${a}`,...i)}}function al(a,...e){if(tr.logLevel<=ze.WARN){const i=e.map(qm);tr.warn(`Firestore (${pl}): ${a}`,...i)}}function qm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function be(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,P1(a,s,i)}function P1(a,e,i){let s=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw us(s),new Error(s)}function Ze(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||P1(e,o,s)}function Re(a,e){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $a{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class z1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class Lw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Pw{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new $a;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $a,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $a)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new z1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class zw{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bw{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new zw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const s=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Hw(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Hw(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Be(a,e){return a<e?-1:a>e?1:0}function lm(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),c=e.charAt(s);if(o!==c)return Gd(o)===Gd(c)?Be(o,c):Gd(o)?1:-1}return Be(a.length,e.length)}const Gw=55296,Fw=57343;function Gd(a){const e=a.charCodeAt(0);return e>=Gw&&e<=Fw}function rl(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}const O0="__name__";class Ii{constructor(e,i,s){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&be(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ii.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const s=Ii.isNumericId(e),o=Ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):lm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class ot extends Ii{construct(e,i,s){return new ot(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ii{construct(e,i,s){return new $t(e,i,s)}static isValidIdentifier(e){return Kw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new $t([O0])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(i)}static emptyPath(){return new $t([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}function B1(a,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Qw(a,e,i,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function V0(a){if(!ye.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function k0(a){if(ye.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function q1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function gh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":be(12329,{type:typeof a})}function aa(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(a);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Ot(a,e){const i={typeString:a};return e&&(i.value=e),i}function Qo(a,e){if(!q1(a))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const j0=-62135596800,U0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*U0);return new ht(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j0)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ot("string",ht._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ht(0,0))}static max(){return new xe(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function Yw(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new ht(i+1,0):new ht(i,s));return new oa(o,ye.empty(),e)}function Xw(a){return new oa(a.readTime,a.key,ko)}class oa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new oa(xe.min(),ye.empty(),ko)}static max(){return new oa(xe.max(),ye.empty(),ko)}}function $w(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(a.documentKey,e.documentKey),i!==0?i:Be(a.largestBatchId,e.largestBatchId))}const Zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==Zw)throw a;ce("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,s)=>{i(e)}))}static reject(e){return new W(((i,s)=>{s(e)}))}static waitFor(e){return new W(((i,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>s(_)))})),d=!0,c===o&&i()}))}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next((o=>o?W.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new W(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++p,p===c&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new W(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function Ww(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(a){return a.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Gm=-1;function _h(a){return a==null}function Jc(a){return a===0&&1/a==-1/0}function eR(a){return typeof a=="number"&&Number.isInteger(a)&&!Jc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const H1="";function tR(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=L0(e)),e=nR(a.get(i),e);return L0(e)}function nR(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case H1:i+="";break;default:i+=c}}return i}function L0(a){return a+H1+""}function P0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ma(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function G1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class mt{constructor(e,i){this.comparator=e,this.root=i||Xt.EMPTY}insert(e,i){return new mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Xt(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Xt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let i=new jt($t.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new Zt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Zt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(a){if(Ze(!!a,39018),typeof a=="string"){let e=0;const i=iR.exec(a);if(Ze(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(a.seconds),nanos:Tt(a.nanos)}}function Tt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ca(a){return typeof a=="string"?Zt.fromBase64String(a):Zt.fromUint8Array(a)}const K1="server_timestamp",Q1="__type__",Y1="__previous_value__",X1="__local_write_time__";function Fm(a){return(a?.mapValue?.fields||{})[Q1]?.stringValue===K1}function vh(a){const e=a.mapValue.fields[Y1];return Fm(e)?vh(e):e}function jo(a){const e=ua(a.mapValue.fields[X1].timestampValue);return new ht(e.seconds,e.nanos)}class sR{constructor(e,i,s,o,c,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Wc="(default)";class Uo{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Uo&&e.projectId===this.projectId&&e.database===this.database}}const $1="__type__",aR="__max__",Dc={mapValue:{}},Z1="__vector__",eh="value";function ha(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Fm(a)?4:lR(a)?9007199254740991:rR(a)?10:11:be(28295,{value:a})}function Ui(a,e){if(a===e)return!0;const i=ha(a);if(i!==ha(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return jo(a).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ua(o.timestampValue),p=ua(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return ca(o.bytesValue).isEqual(ca(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Tt(o.doubleValue),p=Tt(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return rl(a.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(P0(d)!==P0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(a,e);default:return be(52216,{left:a})}}function Lo(a,e){return(a.values||[]).find((i=>Ui(i,e)))!==void 0}function ll(a,e){if(a===e)return 0;const i=ha(a),s=ha(e);if(i!==s)return Be(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Tt(c.integerValue||c.doubleValue),_=Tt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,e);case 3:return B0(a.timestampValue,e.timestampValue);case 4:return B0(jo(a),jo(e));case 5:return lm(a.stringValue,e.stringValue);case 6:return(function(c,d){const p=ca(c),_=ca(d);return p.compareTo(_)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Be(p[v],_[v]);if(A!==0)return A}return Be(p.length,_.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(Tt(c.latitude),Tt(d.latitude));return p!==0?p:Be(Tt(c.longitude),Tt(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return q0(a.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[eh]?.arrayValue,A=_[eh]?.arrayValue,w=Be(v?.values?.length||0,A?.values?.length||0);return w!==0?w:q0(v,A)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const C=lm(_[w],A[w]);if(C!==0)return C;const q=ll(p[_[w]],v[A[w]]);if(q!==0)return q}return Be(_.length,A.length)})(a.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function B0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Be(a,e);const i=ua(a),s=ua(e),o=Be(i.seconds,s.seconds);return o!==0?o:Be(i.nanos,s.nanos)}function q0(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=ll(i[o],s[o]);if(c)return c}return Be(i.length,s.length)}function ol(a){return om(a)}function om(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=ua(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ca(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ye.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=om(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${om(i.fields[d])}`;return o+"}"})(a.mapValue):be(61005,{value:a})}function Pc(a){switch(ha(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(a);return e?16+Pc(e):16;case 5:return 2*a.stringValue.length;case 6:return ca(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Pc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return ma(s.fields,((c,d)=>{o+=c.length+Pc(d)})),o})(a.mapValue);default:throw be(13486,{value:a})}}function H0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function um(a){return!!a&&"integerValue"in a}function Km(a){return!!a&&"arrayValue"in a}function G0(a){return!!a&&"nullValue"in a}function F0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function zc(a){return!!a&&"mapValue"in a}function rR(a){return(a?.mapValue?.fields||{})[$1]?.stringValue===Z1}function Co(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return ma(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Co(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Co(a.arrayValue.values[i]);return e}return{...a}}function lR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(i)}setAll(e){let i=$t.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Co(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ma(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new mn(Co(this.value))}}function J1(a){const e=[];return ma(a.fields,((i,s)=>{const o=new $t([i]);if(zc(s)){const c=J1(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new wn(e)}class tn{constructor(e,i,s,o,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,xe.min(),xe.min(),xe.min(),mn.empty(),0)}static newFoundDocument(e,i,s,o){return new tn(e,1,i,xe.min(),s,o,0)}static newNoDocument(e,i){return new tn(e,2,i,xe.min(),xe.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,xe.min(),xe.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function K0(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),i.key):s=ll(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ui(a.position[i],e.position[i]))return!1;return!0}class nh{constructor(e,i="asc"){this.field=e,this.dir=i}}function oR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class W1{}class Mt extends W1{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new cR(e,i,s):i==="array-contains"?new dR(e,s):i==="in"?new mR(e,s):i==="not-in"?new pR(e,s):i==="array-contains-any"?new gR(e,s):new Mt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new hR(e,s):new fR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ll(i,this.value)):i!==null&&ha(this.value)===ha(i)&&this.matchesComparison(ll(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends W1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ai(e,i)}matches(e){return eb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eb(a){return a.op==="and"}function tb(a){return uR(a)&&eb(a)}function uR(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function cm(a){if(a instanceof Mt)return a.field.canonicalString()+a.op.toString()+ol(a.value);if(tb(a))return a.filters.map((e=>cm(e))).join(",");{const e=a.filters.map((i=>cm(i))).join(",");return`${a.op}(${e})`}}function nb(a,e){return a instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(a,e):a instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&nb(d,o.filters[p])),!0):!1})(a,e):void be(19439)}function ib(a){return a instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ol(i.value)}`})(a):a instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(ib).join(" ,")+"}"})(a):"Filter"}class cR extends Mt{constructor(e,i,s){super(e,i,s),this.key=ye.fromName(s.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class hR extends Mt{constructor(e,i){super(e,"in",i),this.keys=sb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class fR extends Mt{constructor(e,i){super(e,"not-in",i),this.keys=sb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function sb(a,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class dR extends Mt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Lo(i.arrayValue,this.value)}}class mR extends Mt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Lo(this.value.arrayValue,i)}}class pR extends Mt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Lo(this.value.arrayValue,i)}}class gR extends Mt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Lo(this.value.arrayValue,s)))}}class yR{constructor(e,i=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Y0(a,e=null,i=[],s=[],o=null,c=null,d=null){return new yR(a,e,i,s,o,c,d)}function Qm(a){const e=Re(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>cm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ol(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ol(s))).join(",")),e.Te=i}return e.Te}function Ym(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!oR(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!nb(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Q0(a.startAt,e.startAt)&&Q0(a.endAt,e.endAt)}function hm(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Yo{constructor(e,i=null,s=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _R(a,e,i,s,o,c,d,p){return new Yo(a,e,i,s,o,c,d,p)}function Xm(a){return new Yo(a)}function X0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ab(a){return a.collectionGroup!==null}function Io(a){const e=Re(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new jt($t.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,s))})),i.has($t.keyField().canonicalString())||e.Ie.push(new nh($t.keyField(),s))}return e.Ie}function Oi(a){const e=Re(a);return e.Ee||(e.Ee=vR(e,Io(a))),e.Ee}function vR(a,e){if(a.limitType==="F")return Y0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=a.endAt?new th(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new th(a.startAt.position,a.startAt.inclusive):null;return Y0(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function fm(a,e){const i=a.filters.concat([e]);return new Yo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function dm(a,e,i){return new Yo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function bh(a,e){return Ym(Oi(a),Oi(e))&&a.limitType===e.limitType}function rb(a){return`${Qm(Oi(a))}|lt:${a.limitType}`}function Yr(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>ib(o))).join(", ")}]`),_h(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ol(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ol(o))).join(",")),`Target(${s})`})(Oi(a))}; limitType=${a.limitType})`}function Eh(a,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,e)&&(function(s,o){for(const c of Io(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,_){const v=K0(d,p,_);return d.inclusive?v<=0:v<0})(s.startAt,Io(s),o)||s.endAt&&!(function(d,p,_){const v=K0(d,p,_);return d.inclusive?v>=0:v>0})(s.endAt,Io(s),o))})(a,e)}function bR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function lb(a){return(e,i)=>{let s=!1;for(const o of Io(a)){const c=ER(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function ER(a,e,i){const s=a.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?ll(_,v):be(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:a.dir})}}class ir{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return G1(this.inner)}size(){return this.innerSize}}const TR=new mt(ye.comparator);function cs(){return TR}const ob=new mt(ye.comparator);function So(...a){let e=ob;for(const i of a)e=e.insert(i.key,i);return e}function ub(a){let e=ob;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Xa(){return Do()}function cb(){return Do()}function Do(){return new ir((a=>a.toString()),((a,e)=>a.isEqual(e)))}const SR=new mt(ye.comparator),AR=new jt(ye.comparator);function qe(...a){let e=AR;for(const i of a)e=e.add(i);return e}const xR=new jt(Be);function wR(){return xR}function $m(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function hb(a){return{integerValue:""+a}}function RR(a,e){return eR(e)?hb(e):$m(a,e)}class Th{constructor(){this._=void 0}}function NR(a,e,i){return a instanceof ih?(function(o,c){const d={fields:{[Q1]:{stringValue:K1},[X1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fm(c)&&(c=vh(c)),c&&(d.fields[Y1]=c),{mapValue:d}})(i,e):a instanceof Po?db(a,e):a instanceof zo?mb(a,e):(function(o,c){const d=fb(o,c),p=$0(d)+$0(o.Ae);return um(d)&&um(o.Ae)?hb(p):$m(o.serializer,p)})(a,e)}function CR(a,e,i){return a instanceof Po?db(a,e):a instanceof zo?mb(a,e):i}function fb(a,e){return a instanceof sh?(function(s){return um(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ih extends Th{}class Po extends Th{constructor(e){super(),this.elements=e}}function db(a,e){const i=pb(e);for(const s of a.elements)i.some((o=>Ui(o,s)))||i.push(s);return{arrayValue:{values:i}}}class zo extends Th{constructor(e){super(),this.elements=e}}function mb(a,e){let i=pb(e);for(const s of a.elements)i=i.filter((o=>!Ui(o,s)));return{arrayValue:{values:i}}}class sh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $0(a){return Tt(a.integerValue||a.doubleValue)}function pb(a){return Km(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function IR(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Po&&o instanceof Po||s instanceof zo&&o instanceof zo?rl(s.elements,o.elements,Ui):s instanceof sh&&o instanceof sh?Ui(s.Ae,o.Ae):s instanceof ih&&o instanceof ih})(a.transform,e.transform)}class DR{constructor(e,i){this.version=e,this.transformResults=i}}class Rn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Sh{}function gb(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Ah(a.key,Rn.none()):new Xo(a.key,a.data,Rn.none());{const i=a.data,s=mn.empty();let o=new jt($t.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new pa(a.key,s,new wn(o.toArray()),Rn.none())}}function MR(a,e,i){a instanceof Xo?(function(o,c,d){const p=o.value.clone(),_=J0(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof pa?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=J0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(yb(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Mo(a,e,i,s){return a instanceof Xo?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const v=c.value.clone(),A=W0(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,s):a instanceof pa?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const v=W0(c.fieldTransforms,_,d),A=d.data;return A.setAll(yb(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(a,e,i,s):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function OR(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=fb(s.transform,o||null);c!=null&&(i===null&&(i=mn.empty()),i.set(s.field,c))}return i||null}function Z0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&rl(s,o,((c,d)=>IR(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Xo extends Sh{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends Sh{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yb(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function J0(a,e,i){const s=new Map;Ze(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,CR(d,p,i[o]))}return s}function W0(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,NR(c,d,e))}return s}class Ah extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Mo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Mo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=cb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=gb(d,p);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((i,s)=>Z0(i,s)))&&rl(this.baseMutations,e.baseMutations,((i,s)=>Z0(i,s)))}}class Zm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return SR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Zm(e,i,s,o)}}class jR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Dt,Ge;function LR(a){switch(a){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:a})}}function _b(a){if(a===void 0)return us("GRPC error has no .code"),J.UNKNOWN;switch(a){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:a})}}(Ge=Dt||(Dt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function PR(){return new TextEncoder}const zR=new sa([4294967295,4294967295],0);function ev(a){const e=PR().encode(a),i=new O1;return i.update(e),new Uint8Array(i.digest())}function tv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new sa([i,s],0),new sa([o,c],0)]}class Jm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ao(`Invalid padding: ${i}`);if(s<0)throw new Ao(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sa.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(sa.fromNumber(s)));return o.compare(zR)===1&&(o=new sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ev(e),[s,o]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=ev(e),[s,o]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new xh(xe.min(),o,new mt(Be),cs(),qe())}}class $o{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new $o(s,i,qe(),qe(),qe())}}class qc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class vb{constructor(e,i){this.targetId=e,this.Ce=i}}class bb{constructor(e,i,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class nv{constructor(){this.ve=0,this.Fe=iv(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),s=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:c})}})),new $o(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=iv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BR{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=Mc(),this.He=Mc(),this.Ye=new mt(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(hm(c))if(s===0){const d=new ye(c.path);this.et(i,d,tn.newNoDocument(d,xe.min()))}else Ze(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=ca(s).toUint8Array()}catch(_){if(_ instanceof F1)return al("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Jm(d,o,c)}catch(_){return al(_ instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const _=new ye(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,tn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=qe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new xh(e,i,this.Ye,this.je,s);return this.je=cs(),this.Je=Mc(),this.He=Mc(),this.Ye=new mt(Be),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new nv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new jt(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new jt(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new mt(ye.comparator)}function iv(){return new mt(ye.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class FR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(a,e){return a.useProto3Json||_h(e)?e:{value:e}}function ah(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function KR(a,e){return ah(a,e.toTimestamp())}function Vi(a){return Ze(!!a,49232),xe.fromTimestamp((function(i){const s=ua(i);return new ht(s.seconds,s.nanos)})(a))}function Wm(a,e){return pm(a,e).canonicalString()}function pm(a,e){const i=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Tb(a){const e=ot.fromString(a);return Ze(Rb(e),10190,{key:e.toString()}),e}function gm(a,e){return Wm(a.databaseId,e.path)}function Fd(a,e){const i=Tb(e);if(i.get(1)!==a.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ye(Ab(i))}function Sb(a,e){return Wm(a.databaseId,e)}function QR(a){const e=Tb(a);return e.length===4?ot.emptyPath():Ab(e)}function ym(a){return new ot(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Ab(a){return Ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function sv(a,e,i){return{name:gm(a,e),fields:i.value.mapValue.fields}}function YR(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:be(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Ze(A===void 0||typeof A=="string",58123),Zt.fromBase64String(A||"")):(Ze(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Zt.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?J.UNKNOWN:_b(v.code);return new ue(A,v.message||"")})(d);i=new bb(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fd(a,s.document.name),c=Vi(s.document.updateTime),d=s.document.createTime?Vi(s.document.createTime):xe.min(),p=new mn({mapValue:{fields:s.document.fields}}),_=tn.newFoundDocument(o,c,d,p),v=s.targetIds||[],A=s.removedTargetIds||[];i=new qc(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fd(a,s.document),c=s.readTime?Vi(s.readTime):xe.min(),d=tn.newNoDocument(o,c),p=s.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fd(a,s.document),c=s.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new UR(o,c),p=s.targetId;i=new vb(p,d)}}return i}function XR(a,e){let i;if(e instanceof Xo)i={update:sv(a,e.key,e.value)};else if(e instanceof Ah)i={delete:gm(a,e.key)};else if(e instanceof pa)i={update:sv(a,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof VR))return be(16599,{Vt:e.type});i={verify:gm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:KR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(a,e.precondition)),i}function $R(a,e){return a&&a.length>0?(Ze(e!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?Vi(o.updateTime):Vi(c);return d.isEqual(xe.min())&&(d=Vi(c)),new DR(d,o.transformResults||[])})(i,e)))):[]}function ZR(a,e){return{documents:[Sb(a,e.path)]}}function JR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Sb(a,o);const c=(function(v){if(v.length!==0)return wb(ai.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(C){return{field:Xr(C.field),direction:tN(C.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function WR(a){let e=QR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const C=xb(w);return C instanceof ai&&tb(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((C=>(function(F){return new nh($r(F.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let C;return C=typeof w=="object"?w.value:w,_h(C)?null:C})(i.limit));let _=null;i.startAt&&(_=(function(w){const C=!!w.before,q=w.values||[];return new th(q,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const C=!w.before,q=w.values||[];return new th(q,C)})(i.endAt)),_R(e,o,d,c,p,"F",_,v)}function eN(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function xb(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=$r(i.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$r(i.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$r(i.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$r(i.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Mt.create($r(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((s=>xb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(a):be(30097,{filter:a})}function tN(a){return qR[a]}function nN(a){return HR[a]}function iN(a){return GR[a]}function Xr(a){return{fieldPath:a.canonicalString()}}function $r(a){return $t.fromServerFormat(a.fieldPath)}function wb(a){return a instanceof Mt?(function(i){if(i.op==="=="){if(F0(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NAN"}};if(G0(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F0(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NOT_NAN"}};if(G0(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(i.field),op:nN(i.op),value:i.value}}})(a):a instanceof ai?(function(i){const s=i.getFilters().map((o=>wb(o)));return s.length===1?s[0]:{compositeFilter:{op:iN(i.op),filters:s}}})(a):be(54877,{filter:a})}function sN(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Rb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ws{constructor(e,i,s,o,c=xe.min(),d=xe.min(),p=Zt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aN{constructor(e){this.yt=e}}function rN(a){const e=WR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?dm(e,e.limit,"L"):e}class lN{constructor(){this.Cn=new oN}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(oa.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class oN{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new jt(ot.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(ot.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Nb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}const rv="LruGarbageCollector",uN=1048576;function lv([a,e],[i,s]){const o=Be(a,i);return o===0?Be(e,s):o}class cN{constructor(e){this.Ir=e,this.buffer=new jt(lv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();lv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hN{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?ce(rv,"Ignoring IndexedDB error during garbage collection: ",i):await gl(i)}await this.Vr(3e5)}))}}class fN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(yh.ce);const s=new cN(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(av)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,p=Date.now(),this.removeTargets(e,s,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(v=Date.now(),Qr()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function dN(a,e){return new fN(a,e)}class mN{constructor(){this.changes=new ir((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class gN{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Mo(s.mutation,o,wn.empty(),ht.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=qe()){const o=Xa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=So();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Xa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,qe())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let c=cs();const d=Do(),p=(function(){return Do()})();return i.forEach(((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof pa)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Mo(A.mutation,v,A.mutation.getFieldMask(),ht.now())):d.set(v.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new pN(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Do();let o=new mt(((d,p)=>d-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||wn.empty();A=p.applyToLocalView(v,A),s.set(_,A);const w=(o.get(p.batchId)||qe()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,w=cb();A.forEach((C=>{if(!c.has(C)){const q=gb(i.get(C),s.get(C));q!==null&&w.set(C,q),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ab(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):W.resolve(Xa());let p=ko,_=c;return d.next((v=>W.forEach(v,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?W.resolve():this.remoteDocumentCache.getEntry(e,A).next((C=>{_=_.insert(A,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,qe()))).next((A=>({batchId:p,changes:ub(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((s=>{let o=So();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=So();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(_=>{const v=(function(w,C){return new Yo(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((A=>{A.forEach(((w,C)=>{d=d.insert(w,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let p=So();return d.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&Mo(A.mutation,v,wn.empty(),ht.now()),Eh(i,v)&&(p=p.insert(_,v))})),p}))}}class yN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),W.resolve()}}class _N{constructor(){this.overlays=new mt(ye.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Xa();return W.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=Xa(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&o.set(_.getKey(),_)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new mt(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Xa(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Xa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=o)););return W.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jR(i,s));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class vN{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class ep{constructor(){this.Qr=new jt(Bt.$r),this.Ur=new jt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Bt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Bt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ye(new ot([])),s=new Bt(i,e),o=new Bt(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new ot([])),s=new Bt(i,e),o=new Bt(i,e+1);let c=qe();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Bt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class bN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Bt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kR(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Bt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Bt(i,0),o=new Bt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new jt(Be);return i.forEach((o=>{const c=new Bt(o,0),d=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const d=new Bt(new ye(c),0);let p=new jt(Be);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(i.mutations,(o=>{const c=new Bt(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Bt(i,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class EN{constructor(e){this.ri=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let s=cs();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=cs();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||$w(Xw(A),s)<=0||(o.has(A.key)||Eh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,o){be(9500)}ii(e,i){return W.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new TN(this)}getSize(e){return W.resolve(this.size)}}class TN extends mN{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class SN{constructor(e){this.persistence=e,this.si=new ir((i=>Qm(i)),Ym),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ul(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class Cb{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new vN,this.referenceDelegate=e(this),this.Pi=new SN(this),this.indexManager=new lN,this.remoteDocumentCache=(function(o){return new EN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new aN(i),this.Ii=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _N,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new bN(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ce("MemoryPersistence","Starting transaction:",e);const o=new AN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class AN extends Jw{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Ri=new ep,this.Vi=null}static mi(e){return new tp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rh{constructor(e,i){this.persistence=e,this.pi=new ir((s=>tR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dN(this,i)}static mi(e,i){return new rh(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?W.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Pc(e.data.value)),i}br(e,i,s){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class np{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new np(e,i.fromCache,s,o)}}class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yA()?8:Ww(nn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xN;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Qr()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Yr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Qr()<=ze.DEBUG&&ce("QueryEngine","Query:",Yr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Qr()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Yr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(i))):W.resolve())}ys(e,i){if(X0(i))return W.resolve(null);let s=Oi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),s=Oi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,s,o){return X0(i)||o.isEqual(xe.min())?W.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?W.resolve(null):(Qr()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yr(i)),this.vs(e,d,i,Yw(o,ko)).next((p=>p)))}))}Ds(e,i){let s=new jt(lb(e));return i.forEach(((o,c)=>{Eh(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Qr()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Yr(i)),this.ps.getDocumentsMatchingQuery(e,i,oa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ip="LocalStore",RN=3e8;class NN{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new mt(Be),this.xs=new ir((c=>Qm(c)),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function CN(a,e,i,s){return new NN(a,e,i,s)}async function Ib(a,e){const i=Re(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=qe();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function IN(a,e){const i=Re(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const w=v.batch,C=w.keys();let q=W.resolve();return C.forEach((F=>{q=q.next((()=>A.getEntry(_,F))).next((ee=>{const Y=v.docVersions.get(F);Ze(Y!==null,48541),ee.version.compareTo(Y)<0&&(w.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),A.addEntry(ee)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=qe();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Db(a){const e=Re(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function DN(a,e){const i=Re(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,w)=>{const C=o.get(w);if(!C)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let q=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(Zt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(w,q),(function(ee,Y,te){return ee.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=RN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(C,q,A)&&p.push(i.Pi.updateTargetData(c,q))}));let _=cs(),v=qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(MN(c,d,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!s.isEqual(xe.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function MN(a,e,i){let s=qe(),o=qe();return i.forEach((c=>s=s.add(c))),e.getEntries(a,s).next((c=>{let d=cs();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ce(ip,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function ON(a,e){const i=Re(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function VN(a,e){const i=Re(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,W.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ws(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function _m(a,e,i){const s=Re(a),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!yl(d))throw d;ce(ip,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ov(a,e,i){const s=Re(a);let o=xe.min(),c=qe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const w=Re(_),C=w.xs.get(A);return C!==void 0?W.resolve(w.Ms.get(C)):w.Pi.getTargetData(v,A)})(s,d,Oi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:qe()))).next((p=>(kN(s,bR(e),p),{documents:p,Qs:c})))))}function kN(a,e,i){let s=a.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(e,s)}class uv{constructor(){this.activeTargetIds=wR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jN{constructor(){this.Mo=new uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UN{Oo(e){}shutdown(){}}const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function vm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Kd="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=vm(),p=this.zo(e,i.toUriEncodedString());ce(Kd,`Sending RPC '${e}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),A=fl(v);return this.Jo(e,p,_,s,A).then((w=>(ce(Kd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw al(Kd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",s),w}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=LN[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class zN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class BN extends PN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=vm();return new Promise(((p,_)=>{const v=new V1;v.setWithCredentials(!0),v.listenOnce(k1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Lc.NO_ERROR:const w=v.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Lc.TIMEOUT:ce(Wt,`RPC '${e}' ${d} timed out`),_(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const C=v.getStatus();if(ce(Wt,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const F=q?.error;if(F&&F.status&&F.message){const ee=(function(te){const pe=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pe)>=0?pe:J.UNKNOWN})(F.status);_(new ue(ee,F.message))}else _(new ue(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ue(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ce(Wt,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=L1(),p=U1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=c.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let C=!1,q=!1;const F=new zN({Yo:Y=>{q?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(C||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),C=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),ee=(Y,te,pe)=>{Y.listen(te,(ie=>{try{pe(ie)}catch(Ne){setTimeout((()=>{throw Ne}),0)}}))};return ee(w,To.EventType.OPEN,(()=>{q||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),ee(w,To.EventType.CLOSE,(()=>{q||(q=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(w))})),ee(w,To.EventType.ERROR,(Y=>{q||(q=!0,al(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),F.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),ee(w,To.EventType.MESSAGE,(Y=>{if(!q){const te=Y.data[0];Ze(!!te,16349);const pe=te,ie=pe?.error||pe[0]?.error;if(ie){ce(Wt,`RPC '${e}' stream ${o} received error:`,ie);const Ne=ie.status;let Se=(function(T){const R=Dt[T];if(R!==void 0)return _b(R)})(Ne),_e=ie.message;Se===void 0&&(Se=J.INTERNAL,_e="Unknown error status: "+Ne+" with message "+ie.message),q=!0,F.a_(new ue(Se,_e)),w.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,te),F.u_(te)}})),ee(p,j1.STAT_EVENT,(Y=>{Y.stat===rm.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===rm.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function wh(a){return new FR(a,!0)}class Mb{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fv="PersistentStream";class Ob{constructor(e,i,s,o,c,d,p,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qN extends Ob{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=YR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Vi(d.readTime):xe.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=hm(_)?{documents:ZR(c,_)}:{query:JR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Eb(c,d.resumeToken);const v=mm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const v=mm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=eN(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class HN extends Ob{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$R(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>XR(this.serializer,s)))};this.q_(i)}}class GN{}class FN extends GN{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pm(i,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nr="RemoteStore";class QN{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{sr(this)&&(ce(nr,"Restarting streams for network reachability change."),await(async function(_){const v=Re(_);v.Ea.add(4),await Zo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Rh(v)})(this))}))})),this.Ra=new KN(s,o)}}async function Rh(a){if(sr(a))for(const e of a.da)await e(!0)}async function Zo(a){for(const e of a.da)await e(!1)}function Vb(a,e){const i=Re(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),lp(i)?rp(i):_l(i).O_()&&ap(i,e))}function sp(a,e){const i=Re(a),s=_l(i);i.Ia.delete(e),s.O_()&&kb(i,e),i.Ia.size===0&&(s.O_()?s.L_():sr(i)&&i.Ra.set("Unknown"))}function ap(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_l(a).Y_(e)}function kb(a,e){a.Va.Ue(e),_l(a).Z_(e)}function rp(a){a.Va=new BR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),_l(a).start(),a.Ra.ua()}function lp(a){return sr(a)&&!_l(a).x_()&&a.Ia.size>0}function sr(a){return Re(a).Ea.size===0}function jb(a){a.Va=void 0}async function YN(a){a.Ra.set("Online")}async function XN(a){a.Ia.forEach(((e,i)=>{ap(a,e)}))}async function $N(a,e){jb(a),lp(a)?(a.Ra.ha(e),rp(a)):a.Ra.set("Unknown")}async function ZN(a,e,i){if(a.Ra.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){ce(nr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lh(a,s)}else if(e instanceof qc?a.Va.Ze(e):e instanceof vb?a.Va.st(e):a.Va.tt(e),!i.isEqual(xe.min()))try{const s=await Db(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Zt.EMPTY_BYTE_STRING,A.snapshotVersion)),kb(c,_);const w=new Ws(A.target,_,v,A.sequenceNumber);ap(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){ce(nr,"Failed to raise snapshot:",s),await lh(a,s)}}async function lh(a,e,i){if(!yl(e))throw e;a.Ea.add(1),await Zo(a),a.Ra.set("Offline"),i||(i=()=>Db(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ce(nr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Rh(a)}))}function Ub(a,e){return e().catch((i=>lh(a,i,e)))}async function Nh(a){const e=Re(a),i=fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;JN(e);)try{const o=await ON(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,WN(e,o)}catch(o){await lh(e,o)}Lb(e)&&Pb(e)}function JN(a){return sr(a)&&a.Ta.length<10}function WN(a,e){a.Ta.push(e);const i=fa(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Lb(a){return sr(a)&&!fa(a).x_()&&a.Ta.length>0}function Pb(a){fa(a).start()}async function eC(a){fa(a).ra()}async function tC(a){const e=fa(a);for(const i of a.Ta)e.ea(i.mutations)}async function nC(a,e,i){const s=a.Ta.shift(),o=Zm.from(s,e,i);await Ub(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Nh(a)}async function iC(a,e){e&&fa(a).X_&&await(async function(s,o){if((function(d){return LR(d)&&d!==J.ABORTED})(o.code)){const c=s.Ta.shift();fa(s).B_(),await Ub(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(s)}})(a,e),Lb(a)&&Pb(a)}async function dv(a,e){const i=Re(a);i.asyncQueue.verifyOperationInProgress(),ce(nr,"RemoteStore received new credentials");const s=sr(i);i.Ea.add(3),await Zo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function sC(a,e){const i=Re(a);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Zo(i),i.Ra.set("Unknown"))}function _l(a){return a.ma||(a.ma=(function(i,s,o){const c=Re(i);return c.sa(),new qN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:YN.bind(null,a),t_:XN.bind(null,a),r_:$N.bind(null,a),H_:ZN.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),lp(a)?rp(a):a.Ra.set("Unknown")):(await a.ma.stop(),jb(a))}))),a.ma}function fa(a){return a.fa||(a.fa=(function(i,s,o){const c=Re(i);return c.sa(),new HN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:eC.bind(null,a),r_:iC.bind(null,a),ta:tC.bind(null,a),na:nC.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Nh(a)):(await a.fa.stop(),a.Ta.length>0&&(ce(nr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class op{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,p=new op(e,i,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(a,e){if(us("AsyncQueue",`${e}: ${a}`),yl(a))return new ue(J.UNAVAILABLE,`${e}: ${a}`);throw a}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ye.comparator(i.key,s.key):(i,s)=>ye.comparator(i.key,s.key),this.keyedMap=So(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class mv{constructor(){this.ga=new mt(ye.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class cl{constructor(e,i,s,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new cl(e,i,tl.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class aC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rC{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Re(i),c=o.queries;o.queries=pv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function pv(){return new ir((a=>rb(a)),bh)}async function lC(a,e){const i=Re(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new aC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=up(d,`Initialization of query '${Yr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cp(i)}async function oC(a,e){const i=Re(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function uC(a,e){const i=Re(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&cp(i)}function cC(a,e,i){const s=Re(a),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function cp(a){a.Ca.forEach((e=>{e.next()}))}var bm,gv;(gv=bm||(bm={})).Ma="default",gv.Cache="cache";class hC{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new cl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class zb{constructor(e){this.key=e}}class Bb{constructor(e){this.key=e}}class fC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=lb(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new mv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,w)=>{const C=o.get(A),q=Eh(this.query,w)?w:null,F=!!C&&this.mutatedKeys.has(C.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Y=!1;C&&q?C.data.isEqual(q.data)?F!==ee&&(s.track({type:3,doc:q}),Y=!0):this.su(C,q)||(s.track({type:2,doc:q}),Y=!0,(_&&this.eu(q,_)>0||v&&this.eu(q,v)<0)&&(p=!0)):!C&&q?(s.track({type:0,doc:q}),Y=!0):C&&!q&&(s.track({type:1,doc:C}),Y=!0,(_||v)&&(p=!0)),Y&&(q?(d=d.add(q),c=ee?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(q,F){const ee=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:Y})}};return ee(q)-ee(F)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new cl(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Bb(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new zb(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hp="SyncEngine";class dC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class mC{constructor(e){this.key=e,this.hu=!1}}class pC{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ir((p=>rb(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ye.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gC(a,e,i=!0){const s=Qb(a);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await qb(s,e,i,!0),o}async function yC(a,e){const i=Qb(a);await qb(i,e,!0,!1)}async function qb(a,e,i,s){const o=await VN(a.localStore,Oi(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await _C(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Vb(a.remoteStore,o),p}async function _C(a,e,i,s,o){a.pu=(w,C,q)=>(async function(ee,Y,te,pe){let ie=Y.view.ru(te);ie.Cs&&(ie=await ov(ee.localStore,Y.query,!1).then((({documents:N})=>Y.view.ru(N,ie))));const Ne=pe&&pe.targetChanges.get(Y.targetId),Se=pe&&pe.targetMismatches.get(Y.targetId)!=null,_e=Y.view.applyChanges(ie,ee.isPrimaryClient,Ne,Se);return _v(ee,Y.targetId,_e.au),_e.snapshot})(a,w,C,q);const c=await ov(a.localStore,e,!0),d=new fC(e,c.Qs),p=d.ru(c.documents),_=$o.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,_);_v(a,i,v.au);const A=new dC(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function vC(a,e,i){const s=Re(a),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&sp(s.remoteStore,o.targetId),Em(s,o.targetId)})).catch(gl)):(Em(s,o.targetId),await _m(s.localStore,o.targetId,!0))}async function bC(a,e){const i=Re(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sp(i.remoteStore,s.targetId))}async function EC(a,e,i){const s=NC(a);try{const o=await(function(d,p){const _=Re(d),v=ht.now(),A=p.reduce(((q,F)=>q.add(F.key)),qe());let w,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let F=cs(),ee=qe();return _.Ns.getEntries(q,A).next((Y=>{F=Y,F.forEach(((te,pe)=>{pe.isValidDocument()||(ee=ee.add(te))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,F))).next((Y=>{w=Y;const te=[];for(const pe of p){const ie=OR(pe,w.get(pe.key).overlayedDocument);ie!=null&&te.push(new pa(pe.key,ie,J1(ie.value.mapValue),Rn.exists(!0)))}return _.mutationQueue.addMutationBatch(q,v,te,p)})).next((Y=>{C=Y;const te=Y.applyToLocalDocumentSet(w,ee);return _.documentOverlayCache.saveOverlays(q,Y.batchId,te)}))})).then((()=>({batchId:C.batchId,changes:ub(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new mt(Be)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(s,o.batchId,i),await Jo(s,o.changes),await Nh(s.remoteStore)}catch(o){const c=up(o,"Failed to persist write");i.reject(c)}}async function Hb(a,e){const i=Re(a);try{const s=await DN(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await Jo(i,s,e)}catch(s){await gl(s)}}function yv(a,e,i){const s=Re(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Re(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,w)=>{for(const C of w.Sa)C.va(p)&&(v=!0)})),v&&cp(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TC(a,e,i){const s=Re(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new mt(ye.comparator);d=d.insert(c,tn.newNoDocument(c,xe.min()));const p=qe().add(c),_=new xh(xe.min(),new Map,new mt(Be),d,p);await Hb(s,_),s.du=s.du.remove(c),s.Au.delete(e),fp(s)}else await _m(s.localStore,e,!1).then((()=>Em(s,e,i))).catch(gl)}async function SC(a,e){const i=Re(a),s=e.batch.batchId;try{const o=await IN(i.localStore,e);Fb(i,s,null),Gb(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Jo(i,o)}catch(o){await gl(o)}}async function AC(a,e,i){const s=Re(a);try{const o=await(function(d,p){const _=Re(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(Ze(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,e);Fb(s,e,i),Gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Jo(s,o)}catch(o){await gl(o)}}function Gb(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Fb(a,e,i){const s=Re(a);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Em(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||Kb(a,s)}))}function Kb(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(sp(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),fp(a))}function _v(a,e,i){for(const s of i)s instanceof zb?(a.Ru.addReference(s.key,e),xC(a,s)):s instanceof Bb?(ce(hp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Kb(a,s.key)):be(19791,{wu:s})}function xC(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ce(hp,"New document in limbo: "+i),a.Eu.add(s),fp(a))}function fp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ye(ot.fromString(e)),s=a.fu.next();a.Au.set(s,new mC(i)),a.du=a.du.insert(i,s),Vb(a.remoteStore,new Ws(Oi(Xm(i.path)),s,"TargetPurposeLimboResolution",yh.ce))}}async function Jo(a,e,i){const s=Re(a),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,e,i).then((v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=np.As(_.targetId,v);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,v){const A=Re(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>W.forEach(v,(C=>W.forEach(C.Es,(q=>A.persistence.referenceDelegate.addReference(w,C.targetId,q))).next((()=>W.forEach(C.ds,(q=>A.persistence.referenceDelegate.removeReference(w,C.targetId,q)))))))))}catch(w){if(!yl(w))throw w;ce(ip,"Failed to update sequence numbers: "+w)}for(const w of v){const C=w.targetId;if(!w.fromCache){const q=A.Ms.get(C),F=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(F);A.Ms=A.Ms.insert(C,ee)}}})(s.localStore,c))}async function wC(a,e){const i=Re(a);if(!i.currentUser.isEqual(e)){ce(hp,"User change. New user:",e.toKey());const s=await Ib(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ue(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jo(i,s.Ls)}}function RC(a,e){const i=Re(a),s=i.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Qb(a){const e=Re(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TC.bind(null,e),e.Pu.H_=uC.bind(null,e.eventManager),e.Pu.yu=cC.bind(null,e.eventManager),e}function NC(a){const e=Re(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CN(this.persistence,new wN,e.initialUser,this.serializer)}Cu(e){return new Cb(tp.mi,this.serializer)}Du(e){return new jN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class CC extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hN(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Cb((s=>rh.mi(s,i)),this.serializer)}}class Tm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await sC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rC})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),s=(function(c){return new BN(c)})(e.databaseInfo);return(function(c,d,p,_){return new FN(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,p){return new QN(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>yv(this.syncEngine,i,0)),(function(){return hv.v()?new hv:new UN})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,A){const w=new pC(o,c,d,p,_,v);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Re(i);ce(nr,"RemoteStore shutting down."),s.Ea.add(5),await Zo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class IC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const da="FirestoreClient";class DC{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ce(da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ce(da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=up(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Yd(a,e){a.asyncQueue.verifyOperationInProgress(),ce(da,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ib(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function vv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await MC(a);ce(da,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>dv(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>dv(e.remoteStore,o))),a._onlineComponents=e}async function MC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ce(da,"Using user provided OfflineComponentProvider");try{await Yd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;al("Error using user provided cache. Falling back to memory cache: "+i),await Yd(a,new oh)}}else ce(da,"Using default OfflineComponentProvider"),await Yd(a,new CC(void 0));return a._offlineComponents}async function Yb(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ce(da,"Using user provided OnlineComponentProvider"),await vv(a,a._uninitializedComponentsProvider._online)):(ce(da,"Using default OnlineComponentProvider"),await vv(a,new Tm))),a._onlineComponents}function OC(a){return Yb(a).then((e=>e.syncEngine))}async function bv(a){const e=await Yb(a),i=e.eventManager;return i.onListen=gC.bind(null,e.syncEngine),i.onUnlisten=vC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bC.bind(null,e.syncEngine),i}function Xb(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const Ev=new Map;const $b="firestore.googleapis.com",Tv=!0;class Sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$b,this.ssl=Tv}else this.host=e.host,this.ssl=e.ssl??Tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uN)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Uw;switch(s.type){case"firstParty":return new Bw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Ev.get(i);s&&(ce("ComponentProvider","Removing Datastore"),Ev.delete(i),s.terminate())})(this),Promise.resolve()}}function VC(a,e,i,s={}){a=aa(a,Ch);const o=fl(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(Qv(`https://${p}`),Yv("Firestore",!0)),c.host!==$b&&c.host!==p&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:s};if(!Ja(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=en.MOCK_USER;else{v=oA(s.mockUserToken,a._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new en(w)}a._authCredentials=new Lw(new z1(v,A))}}class vl{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Vt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Qo(i,Vt._jsonSchema))return new Vt(e,s||null,new ye(ot.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Ot("string",Vt._jsonSchemaVersion),referencePath:Ot("string")};class ra extends vl{constructor(e,i,s){super(e,i,Xm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ye(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function kC(a,e,...i){if(a=qt(a),B1("collection","path",e),a instanceof Ch){const s=ot.fromString(e,...i);return k0(s),new ra(a,null,s)}{if(!(a instanceof Vt||a instanceof ra))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ot.fromString(e,...i));return k0(s),new ra(a.firestore,null,s)}}function ni(a,e,...i){if(a=qt(a),arguments.length===1&&(e=Hm.newId()),B1("doc","path",e),a instanceof Ch){const s=ot.fromString(e,...i);return V0(s),new Vt(a,null,new ye(s))}{if(!(a instanceof Vt||a instanceof ra))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ot.fromString(e,...i));return V0(s),new Vt(a.firestore,a instanceof ra?a.converter:null,new ye(s))}}const Av="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mb(this,"async_queue_retry"),this._c=()=>{const s=Qd();s&&ce(Av,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ce(Av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",wv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=op.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function wv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function Rv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class hl extends Ch{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function jC(a,e){const i=typeof a=="object"?a:Jv(),s=typeof a=="string"?a:Wc,o=Vm(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=rA("firestore");c&&VC(o,...c)}return o}function dp(a){if(a._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||UC(a),a._firestoreClient}function UC(a){const e=a._freezeSettings(),i=(function(o,c,d,p){return new sR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Xb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new DC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Zt.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new qn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ot("string",qn._jsonSchemaVersion),bytes:Ot("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ot("string",ki._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ji{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ji(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Ot("string",ji._jsonSchemaVersion),vectorValues:Ot("object")};const LC=/^__.*__$/;class PC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xo(e,this.data,i,this.fieldTransforms)}}class Zb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new pa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Jb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:a})}}class pp{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jb(this.Ac)&&LC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||wh(e)}Cc(e,i,s,o=!1){return new pp({Ac:e,methodName:i,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(a){const e=a._freezeSettings(),i=wh(a._databaseId);return new zC(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Wb(a,e,i,s,o,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,e,i,o);yp("Data must be an object, but it was:",d,s);const p=eE(s,d);let _,v;if(c.merge)_=new wn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const C=Sm(e,w,i);if(!d.contains(C))throw new ue(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);nE(A,C)||A.push(C)}_=new wn(A),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new PC(new mn(p),_,v)}class Dh extends mp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function BC(a,e,i,s){const o=a.Cc(1,e,i);yp("Data must be an object, but it was:",o,s);const c=[],d=mn.empty();ma(s,((_,v)=>{const A=_p(e,_,i);v=qt(v);const w=o.yc(A);if(v instanceof Dh)c.push(A);else{const C=Wo(v,w);C!=null&&(c.push(A),d.set(A,C))}}));const p=new wn(c);return new Zb(d,p,o.fieldTransforms)}function qC(a,e,i,s,o,c){const d=a.Cc(1,e,i),p=[Sm(e,s,i)],_=[o];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)p.push(Sm(e,c[C])),_.push(c[C+1]);const v=[],A=mn.empty();for(let C=p.length-1;C>=0;--C)if(!nE(v,p[C])){const q=p[C];let F=_[C];F=qt(F);const ee=d.yc(q);if(F instanceof Dh)v.push(q);else{const Y=Wo(F,ee);Y!=null&&(v.push(q),A.set(q,Y))}}const w=new wn(v);return new Zb(A,w,d.fieldTransforms)}function HC(a,e,i,s=!1){return Wo(i,a.Cc(s?4:3,e))}function Wo(a,e){if(tE(a=qt(a)))return yp("Unsupported field value:",e,a),eE(a,e);if(a instanceof mp)return(function(s,o){if(!Jb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let _=Wo(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,e)}return(function(s,o){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ht.fromDate(s);return{timestampValue:ah(o.serializer,c)}}if(s instanceof ht){const c=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Eb(o.serializer,s._byteString)};if(s instanceof Vt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(d,p){return{mapValue:{fields:{[$1]:{stringValue:Z1},[eh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return $m(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${gh(s)}`)})(a,e)}function eE(a,e){const i={};return G1(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(a,((s,o)=>{const c=Wo(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function tE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ht||a instanceof ki||a instanceof qn||a instanceof Vt||a instanceof mp||a instanceof ji)}function yp(a,e,i){if(!tE(i)||!q1(i)){const s=gh(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Sm(a,e,i){if((e=qt(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return _p(a,e);throw uh("Field path arguments must be of type string or ",a,!1,void 0,i)}const GC=new RegExp("[~\\*/\\[\\]]");function _p(a,e,i){if(e.search(GC)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function uh(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ue(J.INVALID_ARGUMENT,p+a+_)}function nE(a,e){return a.some((i=>i.isEqual(e)))}class iE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(sE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FC extends iE{data(){return super.data()}}function sE(a,e){return typeof e=="string"?_p(a,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function KC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class QC extends vp{}function YC(a,e,...i){let s=[];e instanceof vp&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Ep)).length,p=c.filter((_=>_ instanceof bp)).length;if(d>1||d>0&&p>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class bp extends QC{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new bp(e,i,s)}_apply(e){const i=this._parse(e);return aE(e._query,i),new vl(e.firestore,e.converter,fm(e._query,i))}_parse(e){const i=gp(e.firestore);return(function(c,d,p,_,v,A,w){let C;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Cv(w,A);const F=[];for(const ee of w)F.push(Nv(_,c,ee));C={arrayValue:{values:F}}}else C=Nv(_,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Cv(w,A),C=HC(p,d,w,A==="in"||A==="not-in");return Mt.create(v,A,C)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ep extends vp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ep(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)aE(d,_),d=fm(d,_)})(e._query,i),new vl(e.firestore,e.converter,fm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Nv(a,e,i){if(typeof(i=qt(i))=="string"){if(i==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ab(e)&&i.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ot.fromString(i));if(!ye.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return H0(a,new ye(s))}if(i instanceof Vt)return H0(a,i._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function Cv(a,e){if(!Array.isArray(a)||a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aE(a,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class XC{convertValue(e,i="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ma(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new ji(i)}convertGeoPoint(e){return new ki(Tt(e.latitude),Tt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=vh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const i=ua(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ot.fromString(e);Ze(Rb(s),9688,{name:e});const o=new Uo(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return o.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function rE(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends iE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(sE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Za._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Ot("string",Za._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Hc extends Za{data(e={}){return super.data(e)}}class nl{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Hc(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:$C(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $C(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:a})}}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:Ot("string",nl._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class lE extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}function Iv(a,e,i){a=aa(a,Vt);const s=aa(a.firestore,hl),o=rE(a.converter,e,i);return Tp(s,[Wb(gp(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Rn.none())])}function ZC(a){return Tp(aa(a.firestore,hl),[new Ah(a._key,Rn.none())])}function Dv(a,...e){a=qt(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Rv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Rv(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let c,d,p;if(a instanceof Vt)d=aa(a.firestore,hl),p=Xm(a._key.path),c={next:_=>{e[s]&&e[s](JC(d,a,_))},error:e[s+1],complete:e[s+2]};else{const _=aa(a,vl);d=aa(_.firestore,hl),p=_._query;const v=new lE(d);c={next:A=>{e[s]&&e[s](new nl(d,v,_,A))},error:e[s+1],complete:e[s+2]},KC(a._query)}return(function(v,A,w,C){const q=new IC(C),F=new hC(A,q,w);return v.asyncQueue.enqueueAndForget((async()=>lC(await bv(v),F))),()=>{q.Nu(),v.asyncQueue.enqueueAndForget((async()=>oC(await bv(v),F)))}})(dp(d),p,o,c)}function Tp(a,e){return(function(s,o){const c=new $a;return s.asyncQueue.enqueueAndForget((async()=>EC(await OC(s),o,c))),c.promise})(dp(a),e)}function JC(a,e,i){const s=i.docs.get(e._key),o=new lE(a);return new Za(a,o,e._key,s,new xo(i.hasPendingWrites,i.fromCache),e.converter)}class WC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=gp(e)}set(e,i,s){this._verifyNotCommitted();const o=Xd(e,this._firestore),c=rE(o.converter,i,s),d=Wb(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,Rn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const c=Xd(e,this._firestore);let d;return d=typeof(i=qt(i))=="string"||i instanceof Ih?qC(this._dataReader,"WriteBatch.update",c._key,i,s,o):BC(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Xd(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(i._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(a,e){if((a=qt(a)).firestore!==e)throw new ue(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function Ka(a){return dp(a=aa(a,hl)),new WC(a,(e=>Tp(a,e)))}(function(e,i=!0){(function(o){pl=o})(dl),sl(new Wa("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new hl(new Pw(s.getProvider("auth-internal")),new qw(d,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(v.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),na(I0,D0,e),na(I0,D0,"esm2020")})();const eI={apiKey:"AIzaSyA_MM6ZbRYLcn6YbRaQ0ejHPlTLUBaK9Ps",authDomain:"sistemanugerah.firebaseapp.com",projectId:"sistemanugerah",storageBucket:"sistemanugerah.firebasestorage.app",messagingSenderId:"918590870628",appId:"1:918590870628:web:86b2b88a7dd2828a417b71",measurementId:"G-CBPJDV5LYF"},oE=Zv(eI),Mv=kw(oE),Ci=jC(oE),tI="XBA3115",nI="xba3115",iI="2025",Ov=1800*1e3,sI=[],Ya={title:"Majlis Penyampaian Anugerah Kecemerlangan",subTitle:"SK Pekan Lahad Datu 2025",date:"30 November 2025",time:"07:30 Pagi",venue:"Dewan Perdana, SK Pekan Lahad Datu",officiator:"Yang Berbahagia Tuan Pegawai Pendidikan Daerah",logo:null},Am=["Tahun 1","Tahun 2","Tahun 3","Tahun 4","Tahun 5","Tahun 6"],xm=["Ideal","Intelek","Inovatif","Iltizam","Ikram","Ikhwan","Ilham","Ikhlas"],Bo=({src:a,size:e="md",className:i=""})=>{const s={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-16 h-16",xl:"w-32 h-32",xxl:"w-48 h-48"};return a&&typeof a=="string"&&a.length>50?y.jsx("img",{src:a,alt:"Avatar",className:`${s[e]} rounded-full object-cover border-2 border-white shadow-sm bg-white ${i}`,onError:o=>o.target.style.display="none"}):y.jsx("div",{className:`${s[e]} rounded-full bg-slate-100 flex items-center justify-center text-slate-400 border-2 border-white shadow-sm ${i}`,children:y.jsx(YS,{})})},uE=(a,e,i)=>{const s=window.open("","","height=800,width=1000");if(!s)return alert("Sila benarkan 'Pop-up' untuk mencetak.");const o=new Date().toLocaleDateString("ms-MY",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=new Date().toLocaleTimeString("ms-MY"),d=a.map((p,_)=>`
        <tr>
            <td style="text-align:center">${_+1}</td>
            <td style="font-family:monospace; text-align:center">${p.queueNo||"-"}</td>
            <td><strong>${p.name}</strong><br/><span style="font-size:10px; color:#666">${p.id}</span></td>
            <td>${p.year} - ${p.class}</td>
            <td>
                <div style="font-weight:bold; font-size:11px">${p.category}</div>
                <div>${p.award}</div>
            </td>
            <td style="text-align:center">${p.seatNo||"-"}</td>
            <td style="text-align:center">
                <span class="badge ${["present","on-stage","finished"].includes(p.status)?"present":"absent"}">
                    ${p.status==="present"?"HADIR":p.status==="absent"?"TIDAK HADIR":p.status==="finished"?"SELESAI":p.status.toUpperCase()}
                </span>
            </td>
        </tr>
    `).join("");s.document.write(`
        <html>
            <head>
                <title>${e}</title>
                <style>
                    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; font-size: 12px; color: #333; }
                    .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
                    .header h1 { margin: 0; font-size: 20px; text-transform: uppercase; color: #1e293b; }
                    .header h2 { margin: 5px 0; font-size: 14px; font-weight: normal; color: #64748b; }
                    .meta { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 10px; color: #94a3b8; }
                    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
                    th, td { border: 1px solid #e2e8f0; padding: 8px 10px; text-align: left; vertical-align: middle; }
                    th { background-color: #f8fafc; color: #475569; font-weight: bold; text-transform: uppercase; font-size: 10px; }
                    tr:nth-child(even) { background-color: #fcfcfc; }
                    .badge { padding: 3px 6px; border-radius: 4px; font-size: 9px; font-weight: bold; display: inline-block; min-width: 60px; }
                    .present { background-color: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
                    .absent { background-color: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
                    .footer { margin-top: 30px; text-align: center; font-size: 10px; color: #cbd5e1; }
                    @media print {
                        body { -webkit-print-color-adjust: exact; }
                        .no-print { display: none; }
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>${i||"Sistem Anugerah Sekolah"}</h1>
                    <h2>${e}</h2>
                </div>
                <div class="meta">
                    <span>Dicetak oleh: Admin</span>
                    <span>Tarikh: ${o} (${c})</span>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th width="5%">No.</th>
                            <th width="10%">No. Giliran</th>
                            <th width="25%">Nama Pelajar</th>
                            <th width="15%">Kelas</th>
                            <th width="25%">Anugerah</th>
                            <th width="10%">Tempat Duduk</th>
                            <th width="10%">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${d}
                    </tbody>
                </table>
                <div class="footer">
                    &copy; ${new Date().getFullYear()} Sistem Anugerah Sekolah | Dijana Secara Automatik
                </div>
                <script>
                    window.onload = function() { window.print(); }
                <\/script>
            </body>
        </html>
    `),s.document.close()},il=a=>{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const i=new e,s=i.createOscillator(),o=i.createGain();s.connect(o),o.connect(i.destination),a==="success"?(s.type="sine",s.frequency.setValueAtTime(880,i.currentTime),s.frequency.exponentialRampToValueAtTime(1760,i.currentTime+.1),o.gain.setValueAtTime(.1,i.currentTime),o.gain.exponentialRampToValueAtTime(.01,i.currentTime+.5),s.start(),s.stop(i.currentTime+.5)):(s.type="sawtooth",s.frequency.setValueAtTime(150,i.currentTime),o.gain.setValueAtTime(.1,i.currentTime),o.gain.linearRampToValueAtTime(.01,i.currentTime+.3),s.start(),s.stop(i.currentTime+.3))},aI=()=>y.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap');
    body { font-family: 'Outfit', sans-serif; background-color: #f8fafc; }
    .glass-panel { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.6); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.05); }
    .glass-gold { background: linear-gradient(135deg, #fff 0%, #fff8e1 100%); border: 1px solid rgba(234, 179, 8, 0.2); box-shadow: 0 10px 25px -5px rgba(234, 179, 8, 0.15); }
    .text-gold { color: #D4AF37; }
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    
    /* Scanner Overlay Styling */
    .scan-overlay {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.4);
        pointer-events: none;
    }
    .scan-box {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 250px; height: 250px;
        border: 2px solid rgba(255, 255, 255, 0.8);
        border-radius: 20px;
        box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
    }
    .scan-line {
        position: absolute; top: 10px; left: 10px; right: 10px; height: 2px;
        background: #3b82f6;
        box-shadow: 0 0 4px #3b82f6;
        animation: scanMove 2s infinite linear;
    }
    @keyframes scanMove {
        0% { top: 10px; opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { top: 240px; opacity: 0; }
    }
  `}),cE=({onScan:a,onClose:e})=>{const i=de.useRef(null),[s,o]=de.useState(!0);return de.useEffect(()=>{let c;return(async()=>{if(!window.Html5Qrcode){const p=document.createElement("script");p.src="https://unpkg.com/html5-qrcode",p.async=!0,document.body.appendChild(p),await new Promise(_=>p.onload=_)}try{c=new window.Html5Qrcode("reader"),i.current=c;const p={fps:10,qrbox:{width:250,height:250},aspectRatio:1,videoConstraints:{facingMode:"environment",focusMode:"continuous"}};await c.start({facingMode:"environment"},p,_=>{a(_),c.stop().then(()=>{c.clear()}).catch(v=>console.log(v))},_=>{}),o(!1)}catch(p){console.error(p),o(!1),alert("Gagal memulakan kamera. Sila pastikan kebenaran diberi."),e()}})(),()=>{c&&c.isScanning&&c.stop().then(()=>c.clear()).catch(p=>console.log(p))}},[]),y.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center",children:[y.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center z-20",children:[y.jsxs("div",{className:"bg-black/50 px-4 py-2 rounded-full text-white font-bold text-sm backdrop-blur-sm flex items-center gap-2",children:[y.jsx(Rm,{size:16})," Mod Barcode & QR"]}),y.jsx("button",{onClick:e,className:"p-3 bg-white/20 text-white rounded-full hover:bg-white/30 backdrop-blur-sm transition",children:y.jsx(jv,{size:24})})]}),y.jsxs("div",{className:"w-full h-full relative flex items-center justify-center overflow-hidden bg-black",children:[s&&y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white z-10",children:[y.jsx(Uv,{className:"animate-spin mb-4",size:48}),y.jsx("p",{className:"font-bold animate-pulse",children:"Memulakan Kamera..."})]}),y.jsx("div",{id:"reader",className:"w-full h-full"}),!s&&y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"scan-box",children:y.jsx("div",{className:"scan-line"})}),y.jsx("p",{className:"absolute bottom-20 w-full text-center text-white/80 text-sm font-medium px-4",children:"Halakan kamera pada Barcode / QR"})]})]})]})},rI=({onEnter:a,eventConfig:e})=>{const[i,s]=de.useState(""),[o,c]=de.useState(!1),d=p=>{p.preventDefault(),i===iI?a():(c(!0),setTimeout(()=>c(!1),500))};return y.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-slate-50 relative overflow-hidden p-6",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-yellow-200 rounded-full blur-[120px] opacity-30"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-[120px] opacity-40"})]}),y.jsxs("div",{className:"glass-card-gold p-8 md:p-12 rounded-[3rem] shadow-2xl max-w-2xl w-full text-center relative z-10 border border-white/60",children:[y.jsx("div",{className:"mb-6 inline-flex p-4 bg-yellow-100 text-yellow-600 rounded-3xl shadow-inner animate-bounce justify-center items-center",children:e.logo?y.jsx("img",{src:e.logo,alt:"Logo Sekolah",className:"w-16 h-16 md:w-20 md:h-20 object-contain drop-shadow-sm"}):y.jsx(ch,{size:48})}),y.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-slate-800 mb-2 tracking-tight",children:e.title||Ya.title}),y.jsx("p",{className:"text-slate-500 font-bold text-lg mb-8",children:e.subTitle||Ya.subTitle}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[y.jsxs("div",{className:"bg-white/60 p-4 rounded-2xl border border-white shadow-sm",children:[y.jsx(aS,{className:"mx-auto text-blue-500 mb-2",size:24}),y.jsx("p",{className:"text-sm font-bold text-slate-700",children:e.date||Ya.date})]}),y.jsxs("div",{className:"bg-white/60 p-4 rounded-2xl border border-white shadow-sm",children:[y.jsx(fS,{className:"mx-auto text-green-500 mb-2",size:24}),y.jsx("p",{className:"text-sm font-bold text-slate-700",children:e.time||Ya.time})]}),y.jsxs("div",{className:"bg-white/60 p-4 rounded-2xl border border-white shadow-sm",children:[y.jsx(xS,{className:"mx-auto text-red-500 mb-2",size:24}),y.jsx("p",{className:"text-sm font-bold text-slate-700",children:e.venue||Ya.venue})]})]}),y.jsxs("form",{onSubmit:d,className:"space-y-4 max-w-sm mx-auto",children:[y.jsx("div",{className:"relative",children:y.jsx("input",{type:"password",className:`w-full px-4 py-3.5 bg-white border-2 rounded-2xl outline-none text-center text-lg font-bold tracking-widest transition-all ${o?"border-red-400 ring-4 ring-red-100 animate-pulse":"border-slate-200 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100"}`,placeholder:"KOD AKSES",value:i,onChange:p=>s(p.target.value)})}),y.jsxs("button",{className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-bold text-lg shadow-xl hover:bg-slate-800 flex items-center justify-center gap-2",children:["MASUK SISTEM ",y.jsx(iS,{size:20})]})]})]}),y.jsx("div",{className:"mt-8 text-center text-slate-400 text-xs font-medium",children:" 2025 - Mansau Ansau Tech"})]})},lI=({onLogin:a})=>{const[e,i]=de.useState(""),[s,o]=de.useState("");return y.jsx("div",{className:"flex items-center justify-center h-full p-6 animate-in fade-in zoom-in duration-300",children:y.jsxs("div",{className:"glass-gold p-8 rounded-[2rem] shadow-2xl max-w-sm w-full border-t-4 border-yellow-500",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"bg-yellow-100 w-14 h-14 rounded-2xl flex items-center justify-center mx-auto mb-3 text-yellow-600",children:y.jsx(Dm,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Admin Panel"})]}),y.jsxs("form",{onSubmit:c=>{c.preventDefault(),a(e,s)},className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 uppercase",children:"Username"}),y.jsx("input",{autoFocus:!0,className:"w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-yellow-400 bg-white",value:e,onChange:c=>i(c.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 uppercase",children:"Password"}),y.jsx("input",{type:"password",className:"w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-yellow-400 bg-white",value:s,onChange:c=>o(c.target.value)})]}),y.jsx("button",{className:"w-full bg-slate-900 text-white p-3 rounded-xl font-bold hover:bg-slate-800 shadow-lg",children:"Verifikasi"})]})]})})},oI=({recipients:a,onUpdate:e,showNotify:i})=>{const[s,o]=de.useState(""),[c,d]=de.useState(null),[p,_]=de.useState(!1),v=de.useRef(null);de.useEffect(()=>{p||v.current?.focus()},[p]);const A=q=>{const F=a.filter(te=>String(te.id)===q);if(F.length===0){il("error"),i(`ID ${q} tidak ditemui!`,"error"),o("");return}if(F.every(te=>te.status!=="absent")){il("error"),i(`Pelajar ${F[0].name} SUDAH mendaftar!`,"error"),d(F[0]),o("");return}const Y=F.filter(te=>te.status==="absent").map(te=>({...te,status:"present"}));e(Y),il("success"),d(F[0]),i(`Pendaftaran Berjaya: ${F[0].name} (${Y.length} Anugerah)`),o("")},w=q=>{q.preventDefault(),A(s.trim())},C=q=>{_(!1),o(q),A(q)};return y.jsxs("div",{className:"p-6 max-w-6xl mx-auto h-full flex flex-col justify-center",children:[p&&y.jsx(cE,{onScan:C,onClose:()=>_(!1)}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-stretch",children:[y.jsxs("div",{className:"glass-panel p-10 rounded-3xl shadow-lg flex flex-col justify-center",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[y.jsx($d,{className:"text-blue-600"})," Pendaftaran Masuk"]}),y.jsxs("form",{onSubmit:w,className:"space-y-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{ref:v,value:s,onChange:q=>o(q.target.value),className:"w-full text-4xl p-5 pr-16 border-2 rounded-2xl text-center tracking-widest focus:border-blue-500 outline-none",placeholder:"SCAN ID...",autoFocus:!0}),y.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-slate-100 rounded-xl text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition",children:y.jsx(Rm,{size:24})})]}),y.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-blue-700 shadow-lg",children:"SAHKAN KEHADIRAN"}),y.jsx("p",{className:"text-center text-slate-400 text-sm",children:"Gunakan pengimbas USB atau tekan ikon kamera"})]})]}),y.jsx("div",{className:"glass-gold p-1 rounded-3xl shadow-xl relative overflow-hidden flex flex-col",children:c?y.jsxs("div",{className:"flex-1 bg-white/80 p-6 flex flex-col items-center justify-center text-center animate-in zoom-in",children:[y.jsxs("div",{className:"relative mb-4",children:[y.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 blur-xl rounded-full"}),y.jsx(Bo,{src:c.image,size:"xl",className:"relative z-10 border-4 border-white shadow-xl"})]}),y.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-1",children:c.name}),y.jsxs("div",{className:"flex gap-2 mb-6",children:[y.jsx("span",{className:"px-3 py-1 bg-white border rounded-full text-sm font-bold",children:c.year}),y.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-bold",children:c.class})]}),y.jsxs("div",{className:"bg-green-50 p-4 rounded-2xl border border-green-100 mb-4 w-full",children:[y.jsx("p",{className:"text-green-700 font-bold text-sm",children:"Kehadiran Direkodkan"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Semua anugerah pelajar ini kini sedia untuk dipanggil ke pentas."})]})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-10",children:[y.jsx($d,{size:64,className:"opacity-20 mb-4"}),y.jsx("p",{className:"font-medium",children:"Menunggu imbasan..."})]})})]})]})},uI=({recipients:a,onUpdate:e,onResetAll:i,eventTitle:s})=>{const[o,c]=de.useState(""),[d,p]=de.useState("all"),[_,v]=de.useState("all"),[A,w]=de.useState("all"),[C,q]=de.useState("all"),[F,ee]=de.useState([]),Y=[...new Set(a.map(T=>T.category))],te=a.filter(T=>{const R=T.name.toLowerCase().includes(o.toLowerCase())||String(T.id).includes(o)||String(T.queueNo).includes(o),V=A==="all"||T.year===A,D=C==="all"||T.class===C,k=d==="all"||T.category===d,x=_==="all"||T.status===_;return R&&V&&D&&k&&x}),pe=T=>{if(confirm(`Padam kehadiran untuk ${T.name} (Anugerah: ${T.award})?`)){const R={...T,status:"absent"};e([R])}},ie=()=>{const R="data:text/csv;charset=utf-8,"+["No. Giliran","ID","Nama","Tahun","Kelas","Kategori","Anugerah","Tempat","Status"].join(",")+`
`+te.map(k=>`"${k.queueNo}","${k.id}","${k.name}","${k.year}","${k.class}","${k.category}","${k.award}","${k.seatNo}","${k.status}"`).join(`
`),V=encodeURI(R),D=document.createElement("a");D.setAttribute("href",V),D.setAttribute("download",`Kehadiran_Anugerah_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},Ne=T=>{const R={absent:"bg-red-100 text-red-600",present:"bg-green-100 text-green-600",queue:"bg-yellow-100 text-yellow-600","on-stage":"bg-blue-100 text-blue-600",finished:"bg-gray-100 text-gray-500"},V={absent:"TIDAK HADIR",present:"HADIR",queue:"MENUNGGU","on-stage":"PENTAS",finished:"SELESAI"};return y.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${R[T]}`,children:V[T]||T})},Se=T=>{T.target.checked?ee(te.map(R=>R.uid)):ee([])},_e=T=>{F.includes(T)?ee(R=>R.filter(V=>V!==T)):ee(R=>[...R,T])},N=T=>{if(confirm(`Kemaskini status kepada '${T.toUpperCase()}' untuk ${F.length} item?`)){const R=F.map(V=>({uid:V,status:T}));e(R),ee([])}};return y.jsxs("div",{className:"p-6 h-full overflow-hidden flex flex-col container mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-3",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-700 flex items-center gap-2",children:[y.jsx(zv,{size:18})," Statistik Kehadiran"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>uE(te,"Senarai Kehadiran Anugerah",s),className:"bg-slate-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold border border-slate-700 hover:bg-slate-800 flex items-center gap-1 shadow-sm",children:[y.jsx(Pv,{size:14})," CETAK / PDF"]}),y.jsxs("button",{onClick:ie,className:"bg-green-50 text-green-600 px-3 py-1.5 rounded-lg text-xs font-bold border border-green-100 hover:bg-green-100 flex items-center gap-1",children:[y.jsx(gS,{size:14})," EXPORT CSV"]}),y.jsxs("button",{onClick:i,className:"bg-red-50 text-red-600 px-3 py-1.5 rounded-lg text-xs font-bold border border-red-100 hover:bg-red-100 flex items-center gap-1",children:[y.jsx(Im,{size:14})," RESET SEMUA"]})]})]}),F.length>0&&y.jsxs("div",{className:"bg-blue-600 text-white p-3 rounded-xl mb-4 flex items-center justify-between shadow-lg animate-in slide-in-from-top-2",children:[y.jsxs("span",{className:"font-bold text-sm pl-2",children:[F.length," item dipilih"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>N("present"),className:"bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2",children:[y.jsx(kv,{size:14})," SAHKAN HADIR"]}),y.jsxs("button",{onClick:()=>N("absent"),className:"bg-red-500/80 hover:bg-red-500 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2",children:[y.jsx(Zd,{size:14})," RESET KEHADIRAN"]}),y.jsx("button",{onClick:()=>ee([]),className:"text-white/70 hover:text-white px-2 text-xs",children:"Batal"})]})]}),y.jsxs("div",{className:"glass-panel p-4 rounded-2xl mb-4 grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[y.jsxs("div",{className:"md:col-span-1 relative",children:[y.jsx(LS,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),y.jsx("input",{className:"w-full pl-9 p-2 bg-white border rounded-xl text-sm outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Cari Nama / ID / Giliran...",value:o,onChange:T=>c(T.target.value)})]}),y.jsx("div",{children:y.jsxs("select",{className:"w-full p-2 bg-white border rounded-xl text-sm",value:A,onChange:T=>w(T.target.value),children:[y.jsx("option",{value:"all",children:"Semua Tahun"}),Am.map(T=>y.jsx("option",{children:T},T))]})}),y.jsx("div",{children:y.jsxs("select",{className:"w-full p-2 bg-white border rounded-xl text-sm",value:C,onChange:T=>q(T.target.value),children:[y.jsx("option",{value:"all",children:"Semua Kelas"}),xm.map(T=>y.jsx("option",{children:T},T))]})}),y.jsx("div",{children:y.jsxs("select",{className:"w-full p-2 bg-white border rounded-xl text-sm",value:d,onChange:T=>p(T.target.value),children:[y.jsx("option",{value:"all",children:"Semua Kategori"}),Y.map(T=>y.jsx("option",{children:T},T))]})}),y.jsx("div",{children:y.jsxs("select",{className:"w-full p-2 bg-white border rounded-xl text-sm",value:_,onChange:T=>v(T.target.value),children:[y.jsx("option",{value:"all",children:"Semua Status"}),y.jsx("option",{value:"present",children:"Hadir"}),y.jsx("option",{value:"absent",children:"Tidak Hadir"}),y.jsx("option",{value:"finished",children:"Selesai"})]})})]}),y.jsxs("div",{className:"glass-panel flex-1 overflow-hidden rounded-2xl border border-slate-200 flex flex-col",children:[y.jsx("div",{className:"overflow-auto flex-1",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-slate-50 sticky top-0 z-10 text-xs font-bold text-slate-500 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3 w-10 text-center",children:y.jsx("input",{type:"checkbox",onChange:Se,checked:F.length===te.length&&te.length>0,className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 w-4 h-4"})}),y.jsx("th",{className:"p-3",children:"Foto"}),y.jsx("th",{className:"p-3",children:"ID"}),y.jsx("th",{className:"p-3",children:"Nama"}),y.jsx("th",{className:"p-3",children:"Tahun"}),y.jsx("th",{className:"p-3",children:"Kelas"}),y.jsx("th",{className:"p-3",children:"Anugerah"}),y.jsx("th",{className:"p-3 text-center",children:"Tempat"}),y.jsx("th",{className:"p-3 text-center",children:"Giliran"}),y.jsx("th",{className:"p-3 text-center",children:"Status"}),y.jsx("th",{className:"p-3 text-center",children:"Tindakan"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(T=>y.jsxs("tr",{className:`hover:bg-yellow-50/50 ${F.includes(T.uid)?"bg-blue-50/50":""}`,children:[y.jsx("td",{className:"p-3 text-center",children:y.jsx("input",{type:"checkbox",checked:F.includes(T.uid),onChange:()=>_e(T.uid),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 w-4 h-4"})}),y.jsx("td",{className:"p-3",children:y.jsx(Bo,{src:T.image,size:"sm"})}),y.jsx("td",{className:"p-3 font-mono text-slate-400 text-xs",children:T.id}),y.jsx("td",{className:"p-3 font-bold text-slate-700",children:T.name}),y.jsx("td",{className:"p-3 text-xs",children:T.year}),y.jsx("td",{className:"p-3 text-xs",children:T.class}),y.jsxs("td",{className:"p-3 text-xs text-slate-600",children:[y.jsx("span",{className:"font-bold block",children:T.category}),T.award]}),y.jsx("td",{className:"p-3 text-center font-mono text-slate-700",children:T.seatNo||"-"}),y.jsx("td",{className:"p-3 text-center font-mono text-blue-600 font-bold bg-blue-50 rounded-lg",children:T.queueNo||"-"}),y.jsx("td",{className:"p-3 text-center",children:Ne(T.status)}),y.jsx("td",{className:"p-3 text-center",children:T.status!=="absent"&&y.jsx("button",{onClick:()=>pe(T),className:"text-red-500 bg-red-50 hover:bg-red-100 p-2 rounded-full transition",title:"Padam Kehadiran",children:y.jsx(Zd,{size:16})})})]},T.uid))})]})}),y.jsxs("div",{className:"p-3 bg-slate-50 border-t text-right text-xs font-bold text-slate-500",children:["Jumlah: ",te.length," penerima"]})]})]})},cI=({recipients:a,onUpdate:e,showNotify:i})=>{const[s,o]=de.useState(""),[c,d]=de.useState(null),[p,_]=de.useState(!1),v=de.useRef(null),A=a.filter(te=>["present","queue"].includes(te.status)),w=a.filter(te=>te.status==="on-stage"),C=te=>{const pe=a.filter(Se=>String(Se.id)===te);if(pe.length===0){il("error"),i(`ID ${te} tidak ditemui!`,"error"),o("");return}const ie=pe.filter(Se=>Se.status==="present").sort((Se,_e)=>{const N=parseInt(Se.queueNo),T=parseInt(_e.queueNo);return!isNaN(N)&&!isNaN(T)?N-T:Se.queueNo.localeCompare(_e.queueNo)})[0];if(!ie){const Se=pe.some(N=>N.status==="absent"),_e=pe.some(N=>N.status==="queue");il("error"),i(Se?"Pelajar belum daftar masuk (Check-in)!":_e?"Pelajar sudah ada dalam barisan!":"Semua anugerah pelajar ini telah selesai.","error"),o("");return}il("success");const Ne={...ie,status:"queue"};e([Ne]),d(Ne),i(`Masuk Barisan: ${ie.name} - ${ie.award}`),o("")},q=te=>{te.preventDefault(),C(s.trim())},F=te=>{_(!1),o(te),C(te)},ee=()=>{if(c){const te={...c,status:"present"};e([te]),d(null),i("Undo Berjaya")}},Y=te=>{if(confirm("Keluarkan dari barisan? Status akan kembali ke 'Hadir'.")){const pe=a.find(ie=>ie.uid===te);pe&&e([{...pe,status:"present"}])}};return y.jsxs("div",{className:"p-6 h-full flex flex-col container mx-auto",children:[p&&y.jsx(cE,{onScan:F,onClose:()=>_(!1)}),y.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 h-full",children:[y.jsxs("div",{className:"glass-panel p-6 rounded-3xl shadow-xl h-fit border border-purple-100",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",children:[y.jsx(Cm,{className:"text-purple-600"})," Daftar Pentas"]}),y.jsxs("form",{onSubmit:q,className:"mb-4",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 mb-1 block uppercase",children:"Imbas ID Pelajar"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{ref:v,value:s,onChange:te=>o(te.target.value),className:"w-full p-4 pr-12 border-2 border-purple-200 rounded-xl text-center text-2xl font-black tracking-widest focus:border-purple-500 outline-none",placeholder:"Contoh: 1001",autoFocus:!0}),y.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-slate-100 rounded-lg text-slate-500 hover:bg-purple-100 hover:text-purple-600 transition",children:y.jsx(Rm,{size:20})})]})]}),c&&y.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-xl flex justify-between items-center animate-in fade-in slide-in-from-top-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Terakhir"}),y.jsx("p",{className:"font-bold text-slate-800",children:c.name}),y.jsx("p",{className:"text-xs text-slate-500",children:c.award})]}),y.jsxs("button",{onClick:ee,className:"bg-white border text-red-500 px-3 py-1 rounded-lg text-xs font-bold hover:bg-red-50 flex items-center gap-1",children:[y.jsx(Im,{size:14})," UNDO"]})]}),y.jsxs("div",{className:"p-4 bg-blue-600 rounded-xl text-white text-center shadow-lg",children:[y.jsx("h4",{className:"text-xs font-bold opacity-80 uppercase mb-1",children:"Sedang Di Pentas"}),w.length>0?y.jsx("div",{className:"text-lg font-extrabold",children:w[0].name}):y.jsx("span",{className:"opacity-50 italic",children:"Kosong"})]})]}),y.jsxs("div",{className:"col-span-2 glass-panel rounded-3xl shadow-xl flex flex-col h-[calc(100vh-150px)] border border-slate-100 overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b bg-yellow-50/50",children:y.jsxs("h3",{className:"font-bold text-yellow-700 flex gap-2",children:[y.jsx(Nm,{size:20})," Senarai Menunggu (",A.filter(te=>te.status==="queue").length,")"]})}),y.jsx("div",{className:"overflow-auto flex-1",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-slate-50 sticky top-0 font-bold text-slate-500 text-xs uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Giliran"}),y.jsx("th",{className:"p-3",children:"Nama"}),y.jsx("th",{className:"p-3",children:"Anugerah"}),y.jsx("th",{className:"p-3 text-center",children:"Status"}),y.jsx("th",{className:"p-3 text-center",children:"Tindakan"})]})}),y.jsx("tbody",{className:"divide-y",children:A.map(te=>y.jsxs("tr",{className:`hover:bg-yellow-50 ${te.status==="queue"?"bg-yellow-50/50":""}`,children:[y.jsx("td",{className:"p-3 font-mono text-lg font-black text-blue-600",children:te.queueNo}),y.jsx("td",{className:"p-3 font-bold text-slate-700",children:te.name}),y.jsx("td",{className:"p-3 text-xs text-slate-500",children:te.award}),y.jsx("td",{className:"p-3 text-center",children:te.status==="queue"?y.jsx("span",{className:"bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-[10px] font-bold animate-pulse",children:"READY"}):y.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-[10px]",children:"CHECK-IN"})}),y.jsx("td",{className:"p-3 text-center",children:te.status==="queue"&&y.jsxs("button",{onClick:()=>Y(te.uid),className:"bg-red-50 text-red-600 border border-red-200 px-3 py-1 rounded-lg text-xs font-bold hover:bg-red-100 flex items-center justify-center gap-1 mx-auto",children:[y.jsx(jv,{size:14})," Keluarkan"]})})]},te.uid))})]})})]})]})]})},hI=({recipients:a})=>{const i=a.filter(s=>["queue","present"].includes(s.status)).reduce((s,o)=>((s[o.category]=s[o.category]||[]).push(o),s),{});return y.jsxs("div",{className:"p-6 h-full overflow-hidden container mx-auto flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Nm,{size:24})," Sedia Pentas (Giliran)"]}),y.jsxs("div",{className:"px-4 py-2 bg-green-100 text-green-800 rounded-lg text-xs font-bold flex items-center gap-2",children:[y.jsx(ZS,{size:14})," REAL-TIME MODE AKTIF"]})]}),y.jsx("div",{className:"overflow-auto flex-1",children:y.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:Object.keys(i).map(s=>y.jsxs("div",{className:"glass-panel rounded-3xl shadow-lg border-t-8 border-t-blue-500 overflow-hidden",children:[y.jsxs("div",{className:"bg-slate-50 p-4 border-b font-bold text-lg text-slate-800 flex justify-between",children:[y.jsx("span",{children:s}),y.jsx("span",{className:"bg-slate-200 px-2 rounded text-sm",children:i[s].length})]}),y.jsx("ul",{className:"divide-y max-h-[300px] overflow-auto",children:i[s].map(o=>y.jsxs("li",{className:`p-3 flex items-center gap-3 ${o.status==="queue"?"bg-yellow-50":"hover:bg-slate-50"}`,children:[y.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${o.status==="queue"?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.8)] animate-pulse":"bg-slate-300"}`}),y.jsxs("div",{className:`${o.status==="queue"?"animate-pulse":""}`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-xs font-mono bg-white border px-1.5 rounded font-bold text-blue-600",children:["#",o.queueNo||"-"]}),y.jsx("p",{className:`font-bold text-sm ${o.status==="queue"?"text-slate-900 text-base":"text-slate-500"}`,children:o.name})]}),y.jsx("div",{className:"flex gap-2 text-[10px] text-slate-500 ml-8",children:y.jsx("span",{children:o.award})})]})]},o.uid))})]},s))})})]})},fI=({recipients:a,onUpdate:e,onExit:i})=>{const s=a.find(Y=>Y.status==="on-stage"),o=a.find(Y=>Y.status==="queue"),[c,d]=de.useState(""),[p,_]=de.useState(!1),[v,A]=de.useState(!1);de.useEffect(()=>d(""),[s?.uid]);const w=async()=>{if(s){_(!0);try{const te=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Skrip MC ringkas (Bahasa Melayu Formal): ${s.name}, ${s.award}, ${s.category}. Info tambahan: ${s.notes}. Buat dalam 30 patah perkataan.`}]}]})})).json();d(te.candidates?.[0]?.content?.parts?.[0]?.text||"Ralat")}catch{d("Ralat")}_(!1)}},C=async()=>{if(c){A(!0);try{const pe=(await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}],generationConfig:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Aoede"}}}}})})).json()).candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;if(pe){const ie=new(window.AudioContext||window.webkitAudioContext),Ne=atob(pe),Se=new Uint8Array(Ne.length);for(let T=0;T<Ne.length;T++)Se[T]=Ne.charCodeAt(T);const _e=await ie.decodeAudioData(Se.buffer),N=ie.createBufferSource();N.buffer=_e,N.connect(ie.destination),N.start(0)}}catch{alert("Gagal")}A(!1)}},q=()=>{let Y=[];if(s&&Y.push({...s,status:"finished"}),o)Y.push({...o,status:"on-stage"});else if(!s)return alert("Tiada giliran!");e(Y)},F=()=>{},ee=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(()=>{})};return y.jsxs("div",{className:"h-full flex flex-col bg-slate-50 relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-yellow-100/50 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-50/50 rounded-full blur-[120px]"})]}),y.jsxs("div",{className:"glass-panel border-b p-4 flex justify-between items-center z-10",children:[y.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[y.jsx(Lv,{}),y.jsx("span",{className:"font-bold tracking-widest text-sm",children:"MC CONSOLE"})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:ee,className:"p-2 hover:bg-slate-200 rounded-full transition",children:y.jsx(RS,{size:20})}),y.jsxs("button",{onClick:i,className:"bg-red-50 text-red-600 border border-red-200 px-4 py-2 rounded-full text-sm font-bold hover:bg-red-100 flex items-center gap-2",children:[y.jsx(wo,{size:16})," KELUAR"]})]})]}),y.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-8 p-8 overflow-y-auto z-10 relative",children:[y.jsx("div",{className:"lg:col-span-2 flex flex-col",children:y.jsx("div",{className:"flex-1 glass-panel rounded-[3rem] shadow-2xl flex flex-col items-center justify-center p-10 border border-white/60 relative overflow-hidden",children:s?y.jsxs("div",{className:"text-center w-full animate-in zoom-in",children:[s.image&&y.jsxs("div",{className:"mb-6 inline-block relative",children:[y.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-2xl opacity-30 rounded-full"}),y.jsx(Bo,{src:s.image,size:"xxl",className:"relative z-10 border-4 border-white shadow-xl"})]}),y.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-sm mb-2",children:s.category}),y.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mb-6",children:s.award}),s.notes&&y.jsx("div",{className:"bg-yellow-50 border border-yellow-100 px-6 py-3 rounded-xl inline-block mb-8",children:y.jsxs("p",{className:"text-slate-600 italic text-lg",children:['"',s.notes,'"']})}),y.jsx("h2",{className:"text-6xl md:text-7xl font-black text-slate-900 drop-shadow-sm mb-8",children:s.name}),y.jsxs("div",{className:"inline-flex gap-4 bg-white border px-6 py-2 rounded-full shadow-sm",children:[y.jsx("span",{className:"text-2xl font-bold text-slate-800",children:s.year}),y.jsx("span",{className:"text-slate-300",children:"|"}),y.jsx("span",{className:"text-2xl text-slate-500",children:s.class})]}),y.jsxs("div",{className:"mt-8 bg-white/80 rounded-2xl p-4 border max-w-xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("span",{className:"text-[10px] font-bold text-purple-600 uppercase flex gap-1",children:[y.jsx(ch,{size:12})," AI Script"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:w,disabled:p,className:"text-xs bg-purple-100 text-purple-700 px-3 py-1 rounded font-bold",children:p?"...":"Jana"}),c&&y.jsx("button",{onClick:C,disabled:v,className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded font-bold",children:v?"...":"Baca"})]})]}),c&&y.jsxs("p",{className:"text-slate-600 text-sm italic text-left",children:['"',c,'"']})]})]}):y.jsxs("div",{className:"text-center opacity-30",children:[y.jsx(Cm,{size:80,className:"mx-auto mb-4 text-slate-400"}),y.jsx("h1",{className:"text-4xl font-bold uppercase tracking-widest text-slate-400",children:"Pentas Kosong"})]})})}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"glass-panel bg-white border-l-4 border-l-yellow-500 p-8 rounded-3xl shadow-lg relative",children:[y.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-widest mb-4",children:"Akan Datang"}),o?y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Bo,{src:o.image,size:"lg"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 leading-none mb-1",children:o.name}),y.jsx("p",{className:"text-sm text-slate-500",children:o.award}),y.jsxs("div",{className:"inline-block mt-2 bg-yellow-100 text-yellow-800 text-[10px] font-bold px-2 py-0.5 rounded",children:["GILIRAN #",o.queueNo]})]})]}):y.jsx("p",{className:"text-slate-400 italic text-center py-8",children:"Tiada giliran."})]}),y.jsxs("div",{className:"mt-auto grid grid-rows-2 gap-4",children:[y.jsxs("button",{onClick:q,className:"h-24 w-full bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl shadow-xl text-white text-3xl font-black tracking-wide hover:scale-[1.02] transition transform active:scale-95 border-b-4 border-green-700 flex items-center justify-center gap-2",children:["SETERUSNYA ",y.jsx(oS,{size:32})]}),y.jsxs("button",{onClick:F,className:"h-16 w-full bg-white border-2 border-slate-200 rounded-2xl text-slate-500 font-bold hover:bg-slate-50 flex items-center justify-center gap-2 shadow-sm",children:[y.jsx(Im,{size:18})," Batalkan (Undo)"]})]})]})]})]})},dI=({recipients:a,onAdd:e,onUpdate:i,onDelete:s,onBulk:o,onClearAll:c,onResetStage:d,onResetAttendance:p,eventConfig:_,onUpdateConfig:v,onLogout:A,onBulkDelete:w})=>{const[C,q]=de.useState({uid:"",id:"",name:"",year:"",class:"",category:"",award:"",notes:"",queueNo:"",seatNo:"",image:null}),[F,ee]=de.useState(_),[Y,te]=de.useState(!1),[pe,ie]=de.useState(null),[Ne,Se]=de.useState(""),[_e,N]=de.useState(""),[T,R]=de.useState(!1),V=de.useRef(null),D=de.useRef(null),k=de.useRef(null),[x,re]=de.useState("all"),[le,U]=de.useState("all"),[ne,fe]=de.useState("all"),[Ae,Ie]=de.useState("all"),[M,Q]=de.useState([]),ae=[...new Set(a.map($=>$.category))];de.useEffect(()=>{_&&ee(_)},[_]);const oe=()=>{q({uid:"",id:"",name:"",year:"",class:"",category:"",award:"",notes:"",queueNo:"",seatNo:"",image:null}),te(!1),ie(null),V.current&&(V.current.value="")},Ee=$=>{$.preventDefault(),Y?(i([C]),alert("Data dikemaskini")):(e([{...C,status:"absent"}]),alert("Data ditambah")),oe()},Ce=()=>{if(!Ne.trim())return alert("Sila masukkan data CSV");try{const $=Ne.split(`
`),Ye=[];$.forEach(Ve=>{if(!Ve.trim())return;const tt=Ve.split(",");if(tt.length>=2){const[gn,ms,ya,Ut,li,ps,gs,Hn,ar]=tt;gn&&ms&&Ye.push({id:gn.trim(),name:ms.trim(),year:ya?ya.trim():"",class:Ut?Ut.trim():"",category:li?li.trim():"",award:ps?ps.trim():"",notes:gs?gs.trim():"",queueNo:Hn?Hn.trim():"",seatNo:ar?ar.trim():"",status:"absent",image:null})}}),Ye.length>0?confirm(`Anda pasti mahu memuat naik ${Ye.length} rekod?`)&&(o(Ye),Se("")):alert("Tiada data sah ditemui.")}catch{alert("Ralat CSV")}},Ue=$=>{const Ye=$.target.files[0];if(Ye){if(Ye.size>5*1024*1024)return alert("Max 5MB");const Ve=new FileReader;Ve.onloadend=()=>q(tt=>({...tt,image:Ve.result})),Ve.readAsDataURL(Ye)}},yt=()=>{const $=document.createElement("a");$.href=encodeURI(`data:text/csv;charset=utf-8,ID,Nama,Tahun,Kelas,Kategori,Anugerah,Catatan,NoGiliran,Seat
1001,Ali,Tahun 6,Inovatif,Akademik,Terbaik,,001,A-1`),$.download="template.csv",document.body.appendChild($),$.click(),document.body.removeChild($)},lt=$=>{const Ye=$.target.files[0];if(!Ye)return;const Ve=new FileReader;Ve.onload=tt=>{Se(tt.target.result)},Ve.readAsText(Ye)},Li=$=>{const Ye=$.target.files[0];if(Ye){if(Ye.size>500*1024)return alert("Saiz logo terlalu besar (Max 500KB)");const Ve=new FileReader;Ve.onloadend=()=>ee({...F,logo:Ve.result}),Ve.readAsDataURL(Ye)}},fs=$=>{switch($){case"finished":return"SELESAI";case"absent":return"TIDAK HADIR";case"present":return"HADIR";case"queue":return"MENUNGGU";case"on-stage":return"PENTAS";default:return $}},pn=a.filter($=>{const Ye=$.name.toLowerCase().includes(_e.toLowerCase())||String($.id).includes(_e)||String($.queueNo).includes(_e),Ve=x==="all"||$.year===x,tt=le==="all"||$.class===le,gn=ne==="all"||$.category===ne,ms=Ae==="all"||$.status===Ae;return Ye&&Ve&&tt&&gn&&ms}),ds=$=>{$.target.checked?Q(pn.map(Ye=>Ye.uid)):Q([])},Nn=$=>{M.includes($)?Q(Ye=>Ye.filter(Ve=>Ve!==$)):Q(Ye=>[...Ye,$])},ga=()=>{w&&(w(M),Q([]))},ri=$=>{if(confirm(`Kemaskini status kepada '${$.toUpperCase()}' untuk ${M.length} item?`)){const Ye=M.map(Ve=>({uid:Ve,status:$}));i(Ye),Q([]),alert("Status pukal dikemaskini.")}};return y.jsxs("div",{className:"p-6 h-full overflow-y-auto container mx-auto pb-20",children:[y.jsxs("div",{ref:k,className:"flex justify-between mb-6 items-center",children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Dm,{className:"text-blue-600"})," Admin Panel"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>R(!T),className:"bg-blue-50 text-blue-600 px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 border border-blue-100",children:[y.jsx(e0,{size:14})," Tetapan Majlis"]}),y.jsxs("button",{onClick:A,className:"text-red-600 bg-red-50 px-4 py-2 rounded-xl font-bold text-xs flex items-center gap-2",children:[y.jsx(wo,{size:14})," LOGOUT"]})]})]}),T&&y.jsxs("div",{className:"glass-panel p-6 rounded-3xl mb-8 border border-blue-200 bg-blue-50/50 animate-in slide-in-from-top-5",children:[y.jsxs("h3",{className:"font-bold text-blue-800 mb-4 flex items-center gap-2",children:[y.jsx(ch,{size:18})," Tetapan Maklumat Majlis"]}),y.jsxs("div",{className:"mb-6 p-4 bg-white/60 rounded-xl border border-blue-100",children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide",children:"Logo Rasmi Majlis / Sekolah"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"relative w-20 h-20 bg-slate-100 rounded-xl border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden",children:F.logo?y.jsx("img",{src:F.logo,className:"w-full h-full object-contain p-1",alt:"Preview"}):y.jsx(_S,{className:"text-slate-300"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex gap-2 mb-1",children:[y.jsxs("label",{className:"cursor-pointer bg-blue-100 text-blue-700 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-200 flex items-center gap-2",children:[y.jsx(jd,{size:14})," Muat Naik Logo",y.jsx("input",{type:"file",accept:"image/*",onChange:Li,className:"hidden"})]}),F.logo&&y.jsxs("button",{onClick:()=>ee({...F,logo:null}),className:"bg-red-100 text-red-700 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-200 flex items-center gap-2",children:[y.jsx(kd,{size:14})," Padam"]})]}),y.jsx("p",{className:"text-[10px] text-slate-400",children:"Disyorkan: Format PNG (Transparent). Max saiz: 500KB."})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Nama Majlis"}),y.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Nama Majlis",value:F.title,onChange:$=>ee({...F,title:$.target.value})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Sub Tajuk"}),y.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Sub Tajuk",value:F.subTitle,onChange:$=>ee({...F,subTitle:$.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Tarikh"}),y.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Tarikh",value:F.date,onChange:$=>ee({...F,date:$.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Masa"}),y.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Masa",value:F.time,onChange:$=>ee({...F,time:$.target.value})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Lokasi"}),y.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Lokasi",value:F.venue,onChange:$=>ee({...F,venue:$.target.value})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Perasmi"}),y.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Perasmi",value:F.officiator,onChange:$=>ee({...F,officiator:$.target.value})})]})]}),y.jsxs("button",{onClick:()=>{v(F),R(!1)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold text-sm flex items-center gap-2",children:[y.jsx(jS,{size:16})," SIMPAN PERUBAHAN"]})]}),y.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[y.jsxs("div",{className:`glass-panel p-6 rounded-3xl border ${Y?"border-yellow-400 bg-yellow-50/50":"border-slate-200"}`,children:[y.jsxs("h3",{className:"font-bold text-slate-700 mb-4 border-b pb-2 flex justify-between",children:[Y?"Edit Penerima":"Daftar Baru",Y&&y.jsx("button",{onClick:oe,className:"text-red-500 text-xs",children:"BATAL"})]}),y.jsxs("form",{onSubmit:Ee,className:"space-y-3",children:[y.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[y.jsxs("div",{className:"col-span-1",children:[y.jsx("label",{className:"text-xs font-bold",children:"ID (Rujukan)"}),y.jsx("input",{required:!0,className:"w-full p-2 border rounded",value:C.id,onChange:$=>q({...C,id:$.target.value}),disabled:Y})]}),y.jsxs("div",{className:"col-span-3",children:[y.jsx("label",{className:"text-xs font-bold",children:"Nama"}),y.jsx("input",{required:!0,className:"w-full p-2 border rounded",value:C.name,onChange:$=>q({...C,name:$.target.value})})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("select",{className:"w-1/2 p-2 border rounded",value:C.year,onChange:$=>q({...C,year:$.target.value}),children:[y.jsx("option",{value:"",children:"Tahun"}),Am.map($=>y.jsx("option",{children:$},$))]}),y.jsxs("select",{className:"w-1/2 p-2 border rounded",value:C.class,onChange:$=>q({...C,class:$.target.value}),children:[y.jsx("option",{value:"",children:"Kelas"}),xm.map($=>y.jsx("option",{children:$},$))]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("input",{placeholder:"Kategori",className:"p-2 border rounded",value:C.category,onChange:$=>q({...C,category:$.target.value})}),y.jsx("input",{placeholder:"Anugerah",className:"p-2 border rounded",value:C.award,onChange:$=>q({...C,award:$.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-blue-600",children:"NO. GILIRAN (WAJIB UNIK)"}),y.jsx("input",{placeholder:"Contoh: 001",className:"w-full p-2 border border-blue-200 bg-blue-50 rounded",value:C.queueNo,onChange:$=>q({...C,queueNo:$.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-400",children:"NO. TEMPAT DUDUK"}),y.jsx("input",{placeholder:"Seat (A-01)",className:"w-full p-2 border rounded",value:C.seatNo,onChange:$=>q({...C,seatNo:$.target.value})})]})]}),y.jsx("input",{type:"file",ref:V,onChange:Ue,className:"text-xs"}),C.image&&y.jsx("img",{src:C.image,className:"h-10 w-10 object-cover rounded"}),y.jsx("button",{className:"w-full bg-slate-800 text-white py-3 rounded-xl font-bold hover:bg-slate-900",children:Y?"KEMASKINI":"SIMPAN"})]})]}),y.jsxs("div",{className:"glass-panel p-6 rounded-3xl border border-slate-200",children:[y.jsxs("h3",{className:"font-bold text-slate-700 mb-4 flex gap-2",children:[y.jsx(jd,{size:18})," Bulk Upload (CSV)"]}),y.jsxs("div",{className:"flex gap-2 mb-2",children:[y.jsxs("button",{onClick:()=>D.current.click(),className:"bg-blue-50 text-blue-600 px-3 py-2 rounded-lg text-xs font-bold border border-blue-100 flex-1 flex items-center justify-center gap-2 hover:bg-blue-100",children:[y.jsx(jd,{size:14})," Pilih File CSV"]}),y.jsxs("button",{onClick:yt,className:"bg-slate-50 text-slate-600 px-3 py-2 rounded-lg text-xs font-bold border border-slate-200 flex-1 flex items-center justify-center gap-2 hover:bg-slate-100",children:[y.jsx(mS,{size:14})," Template"]}),y.jsx("input",{type:"file",ref:D,onChange:lt,accept:".csv",className:"hidden"})]}),y.jsx("textarea",{className:"w-full h-32 p-2 border rounded text-xs font-mono mb-2",placeholder:"ID,Nama,...",value:Ne,onChange:$=>Se($.target.value)}),y.jsx("button",{onClick:Ce,className:"w-full bg-green-600 text-white py-2 rounded-lg font-bold",children:"PROSES CSV"})]})]}),y.jsxs("div",{className:"glass-panel p-6 rounded-3xl shadow-lg border border-slate-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[y.jsxs("h3",{className:"font-bold text-slate-700",children:["Senarai Data (",pn.length,")"]}),y.jsxs("div",{className:"flex gap-2",children:[a.length>0&&y.jsxs("button",{onClick:d,className:"bg-orange-100 text-orange-600 px-3 py-1 rounded text-xs font-bold flex items-center gap-1",children:[y.jsx(ES,{size:12})," RESET PENTAS"]}),a.length>0&&y.jsxs("button",{onClick:p,className:"bg-yellow-100 text-yellow-600 px-3 py-1 rounded text-xs font-bold flex items-center gap-1",children:[y.jsx(Zd,{size:12})," RESET KEHADIRAN"]}),a.length>0&&y.jsxs("button",{onClick:c,className:"bg-red-100 text-red-600 px-3 py-1 rounded text-xs font-bold flex items-center gap-1",children:[y.jsx(GS,{size:12})," PADAM SEMUA"]})]})]}),M.length>0&&y.jsxs("div",{className:"bg-slate-800 text-white p-3 rounded-xl mb-4 flex items-center justify-between shadow-lg animate-in slide-in-from-top-2 border border-slate-600",children:[y.jsxs("span",{className:"font-bold text-sm pl-2",children:[M.length," dipilih"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>ri("present"),className:"bg-green-600 hover:bg-green-700 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2",children:"SET 'HADIR'"}),y.jsx("button",{onClick:()=>ri("absent"),className:"bg-yellow-600 hover:bg-yellow-700 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2",children:"SET 'TIDAK HADIR'"}),y.jsxs("button",{onClick:ga,className:"bg-red-600 hover:bg-red-700 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2",children:[y.jsx(kd,{size:14})," PADAM"]}),y.jsx("button",{onClick:()=>Q([]),className:"text-white/70 hover:text-white px-2 text-xs",children:"Batal"})]})]}),y.jsx("div",{className:"flex justify-end mb-2",children:y.jsxs("button",{onClick:()=>uE(pn,"Laporan Pentadbir Sistem Anugerah",_.title),className:"bg-slate-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold border border-slate-700 hover:bg-slate-800 flex items-center gap-1 shadow-sm",children:[y.jsx(Pv,{size:14})," CETAK SENARAI"]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[y.jsx("input",{placeholder:"Cari...",className:"border p-2 rounded text-sm col-span-1",value:_e,onChange:$=>N($.target.value)}),y.jsxs("select",{className:"border p-2 rounded text-sm",value:x,onChange:$=>re($.target.value),children:[y.jsx("option",{value:"all",children:"Semua Tahun"}),Am.map($=>y.jsx("option",{children:$},$))]}),y.jsxs("select",{className:"border p-2 rounded text-sm",value:le,onChange:$=>U($.target.value),children:[y.jsx("option",{value:"all",children:"Semua Kelas"}),xm.map($=>y.jsx("option",{children:$},$))]}),y.jsxs("select",{className:"border p-2 rounded text-sm",value:ne,onChange:$=>fe($.target.value),children:[y.jsx("option",{value:"all",children:"Semua Kategori"}),ae.map($=>y.jsx("option",{children:$},$))]}),y.jsxs("select",{className:"border p-2 rounded text-sm",value:Ae,onChange:$=>Ie($.target.value),children:[y.jsx("option",{value:"all",children:"Semua Status"}),y.jsx("option",{value:"present",children:"Hadir"}),y.jsx("option",{value:"absent",children:"Tidak Hadir"}),y.jsx("option",{value:"finished",children:"Selesai"})]})]}),y.jsx("div",{className:"overflow-auto max-h-[500px]",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-slate-50 sticky top-0 z-10 font-bold text-slate-500 text-xs uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3 w-10 text-center",children:y.jsx("input",{type:"checkbox",onChange:ds,checked:M.length===pn.length&&pn.length>0,className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 w-4 h-4"})}),y.jsx("th",{className:"p-3",children:"Foto"}),y.jsx("th",{className:"p-3",children:"Giliran"}),y.jsx("th",{className:"p-3",children:"ID"}),y.jsx("th",{className:"p-3",children:"Nama"}),y.jsx("th",{className:"p-3",children:"Tahun"}),y.jsx("th",{className:"p-3",children:"Kelas"}),y.jsx("th",{className:"p-3",children:"Kategori"}),y.jsx("th",{className:"p-3",children:"Anugerah"}),y.jsx("th",{className:"p-3",children:"Seat"}),y.jsx("th",{className:"p-3",children:"Status"}),y.jsx("th",{className:"p-3 text-center",children:"Tindakan"})]})}),y.jsx("tbody",{className:"divide-y",children:pn.map($=>y.jsxs("tr",{className:`hover:bg-yellow-50 ${M.includes($.uid)?"bg-blue-50/50":""}`,children:[y.jsx("td",{className:"p-3 text-center",children:y.jsx("input",{type:"checkbox",checked:M.includes($.uid),onChange:()=>Nn($.uid),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 w-4 h-4"})}),y.jsx("td",{className:"p-3",children:y.jsx(Bo,{src:$.image,size:"sm"})}),y.jsx("td",{className:"p-3 font-mono text-xs font-bold text-blue-600",children:$.queueNo}),y.jsx("td",{className:"p-3 font-mono text-xs",children:$.id}),y.jsx("td",{className:"p-3 font-bold",children:$.name}),y.jsx("td",{className:"p-3 text-xs",children:$.year}),y.jsx("td",{className:"p-3 text-xs",children:$.class}),y.jsx("td",{className:"p-3 text-xs",children:$.category}),y.jsx("td",{className:"p-3 text-xs",children:$.award}),y.jsx("td",{className:"p-3 font-mono text-xs",children:$.seatNo}),y.jsx("td",{className:"p-3",children:y.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-slate-100 uppercase font-bold",children:fs($.status)})}),y.jsxs("td",{className:"p-3 flex justify-center gap-2",children:[y.jsx("button",{onClick:()=>{q($),te(!0),ie($.id),k.current?.scrollIntoView({behavior:"smooth"})},className:"text-blue-500 bg-blue-50 p-1 rounded",title:"Edit",children:y.jsx(e0,{size:14})}),y.jsx("button",{onClick:()=>s($.uid,$.name),className:"text-red-500 bg-red-50 p-1 rounded",title:"Padam",children:y.jsx(kd,{size:14})})]})]},$.uid))})]})})]})]})};function mI(){const[a,e]=de.useState(sI),[i,s]=de.useState(Ya),[o,c]=de.useState("landing"),[d,p]=de.useState(!1),[_,v]=de.useState(null),[A,w]=de.useState(!1),[C,q]=de.useState(null),[F,ee]=de.useState(!1),Y=kC(Ci,"recipients");de.useEffect(()=>{i&&i.title?document.title=i.title:document.title="Sistem Anugerah Sekolah"},[i]),de.useEffect(()=>{const x=ni(Ci,"settings","event_details"),re=Dv(x,le=>{le.exists()?s(le.data()):Iv(x,Ya).catch(U=>console.error("Err saving defaults",U))},le=>console.log("Config listener err:",le));return()=>re()},[]);const te=async x=>{ee(!0);try{await Iv(ni(Ci,"settings","event_details"),x),ie("Tetapan majlis dikemaskini dan disiarkan!")}catch(re){console.error(re),ie("Gagal menyimpan tetapan","error")}finally{ee(!1)}},pe=()=>{localStorage.removeItem("app_session"),p(!1),c("landing"),ie("Berjaya Log Keluar")};de.useEffect(()=>{const x=localStorage.getItem("app_session");if(x)try{const{view:re,isAdmin:le,timestamp:U}=JSON.parse(x);Date.now()-U<Ov?(c(re),p(le)):localStorage.removeItem("app_session")}catch(re){console.error("Session parse error",re),localStorage.removeItem("app_session")}},[]),de.useEffect(()=>{if(o!=="landing"){const x={view:o,isAdmin:d,timestamp:Date.now()};localStorage.setItem("app_session",JSON.stringify(x))}},[o,d]),de.useEffect(()=>{if(o==="landing")return;const x=()=>{const U=localStorage.getItem("app_session");if(U){const ne=JSON.parse(U);ne.timestamp=Date.now(),localStorage.setItem("app_session",JSON.stringify(ne))}},re=["mousedown","keydown","touchstart","scroll"];re.forEach(U=>window.addEventListener(U,x));const le=setInterval(()=>{const U=localStorage.getItem("app_session");if(U){const{timestamp:ne}=JSON.parse(U);Date.now()-ne>Ov&&(localStorage.removeItem("app_session"),p(!1),c("landing"),alert("Sesi tamat tempoh. Sila login semula."))}},6e4);return()=>{re.forEach(U=>window.removeEventListener(U,x)),clearInterval(le)}},[o]),de.useEffect(()=>{(async()=>{try{await _2(Mv)}catch(le){console.error("Auth Error:",le),ie("Ralat Authentication","error")}})();const re=A2(Mv,q);return()=>re()},[]),de.useEffect(()=>{if(!C)return;const x=YC(Y),re=Dv(x,le=>{const U=le.docs.map(ne=>({...ne.data(),uid:ne.id}));U.sort((ne,fe)=>{const Ae=parseInt(ne.queueNo),Ie=parseInt(fe.queueNo);return!isNaN(Ae)&&!isNaN(Ie)?Ae-Ie:String(ne.queueNo||"").localeCompare(String(fe.queueNo||""))}),e(U)},le=>{console.error("Firestore Error:",le),ie("Gagal sambung database","error")});return()=>re()},[C]);const ie=(x,re="success")=>{v({msg:String(x),type:re}),setTimeout(()=>v(null),3e3)},Ne=async x=>{if(C)try{const re=Ka(Ci);x.forEach(le=>{const U=ni(Y);re.set(U,{...le,uid:U.id})}),await re.commit(),ie(`Berjaya tambah ${x.length} data.`)}catch{ie("Gagal menambah data","error")}},Se=async x=>{if(!C)return;ee(!0);const re=450,le=[];for(let U=0;U<x.length;U+=re)le.push(x.slice(U,U+re));try{let U=0;for(const ne of le){const fe=Ka(Ci);ne.forEach(Ae=>{const Ie=ni(Y);fe.set(Ie,{...Ae,uid:Ie.id})}),await fe.commit(),U+=ne.length}ie(`Berjaya muat naik ${x.length} data!`)}catch{ie("Ralat semasa muat naik pukal.","error")}finally{ee(!1)}},_e=async x=>{if(C)try{const re=Ka(Ci);x.forEach(le=>{if(le.uid){const U=ni(Y,le.uid);re.update(U,le);const ne=a.find(Ae=>Ae.uid===le.uid),fe=ne&&le.image!==ne.image;le.id&&le.image&&fe&&a.filter(Ie=>Ie.id===le.id&&Ie.uid!==le.uid).forEach(Ie=>{const M=ni(Y,Ie.uid);re.update(M,{image:le.image})})}}),await re.commit()}catch{ie("Gagal kemaskini","error")}},N=async x=>{if(C&&confirm(`ADAKAH ANDA PASTI? ${x.length} data akan dipadam selama-lamanya.`)){ee(!0);try{const re=Ka(Ci);x.forEach(le=>{const U=ni(Y,le);re.delete(U)}),await re.commit(),ie(`${x.length} data berjaya dipadam.`)}catch{ie("Gagal memadam data","error")}finally{ee(!1)}}},T=async(x,re)=>{if(C&&confirm(`Padam ${re}?`))try{await ZC(ni(Y,x)),ie("Data dipadam.")}catch{ie("Gagal padam","error")}},R=async()=>{if(C&&confirm("PADAM SEMUA DATA?")){ee(!0);try{const re=[];for(let le=0;le<a.length;le+=450)re.push(a.slice(le,le+450));for(const le of re){const U=Ka(Ci);le.forEach(ne=>{U.delete(ni(Y,ne.uid))}),await U.commit()}ie("Database dikosongkan.")}catch{ie("Gagal kosongkan DB","error")}finally{ee(!1)}}},V=async()=>{if(C&&confirm("Reset SEMUA kehadiran ke TIDAK HADIR?")){ee(!0);try{const re=[];for(let le=0;le<a.length;le+=450)re.push(a.slice(le,le+450));for(const le of re){const U=Ka(Ci);le.forEach(ne=>{U.update(ni(Y,ne.uid),{status:"absent"})}),await U.commit()}ie("Kehadiran di-reset.")}catch{ie("Ralat reset","error")}finally{ee(!1)}}},D=async()=>{if(C&&confirm("Kosongkan giliran pentas?")){const x=Ka(Ci);a.forEach(re=>{["queue","on-stage","finished"].includes(re.status)&&x.update(ni(Y,re.uid),{status:"present"})}),await x.commit(),ie("Pentas dikosongkan.")}},k=({view:x,icon:re,label:le})=>y.jsxs("button",{onClick:()=>c(x),className:`flex items-center px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition ${o===x?"bg-slate-800 text-white shadow-lg":"text-slate-500 hover:bg-white hover:text-yellow-600 bg-slate-100/50 border border-transparent hover:border-yellow-200"}`,children:[y.jsx(re,{className:"w-3 h-3 mr-2"})," ",le]});return o==="landing"?y.jsx(rI,{onEnter:()=>c("scan-attendance"),eventConfig:i}):y.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 font-sans text-slate-900 overflow-hidden selection:bg-yellow-200 selection:text-yellow-900",children:[y.jsx(aI,{}),o!=="mc"&&y.jsxs("div",{className:"glass-panel sticky top-0 z-50 px-6 py-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-extrabold flex gap-2 text-slate-800",children:[y.jsx(ch,{className:"text-yellow-500"})," SISTEM ",y.jsx("span",{className:"text-gold",children:"ANUGERAH"})]}),y.jsxs("div",{className:"mt-1",children:[y.jsx("p",{className:"text-[10px] md:text-xs font-medium text-slate-500 tracking-wide leading-tight",children:i.title}),y.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-600 tracking-wide leading-tight",children:i.subTitle})]})]}),y.jsxs("div",{className:"flex gap-2 items-center",children:[F&&y.jsxs("div",{className:"text-blue-600 text-xs font-bold animate-pulse flex items-center gap-1 bg-blue-100 px-3 py-1 rounded-full",children:[y.jsx(Uv,{size:12,className:"animate-spin"})," MEMPROSES..."]}),y.jsxs("button",{onClick:()=>{c(d?"admin":"login")},className:"hidden md:flex items-center px-4 py-1.5 rounded-full text-xs font-bold bg-yellow-500 text-white hover:bg-yellow-600 transition shadow-md ml-4",children:[y.jsx(Dm,{className:"w-3 h-3 mr-2"})," ADMIN"]}),y.jsxs("button",{onClick:pe,className:"hidden md:flex items-center px-4 py-1.5 rounded-full text-xs font-bold bg-red-50 text-red-600 hover:bg-red-100 transition shadow-sm ml-2",title:"Keluar Sistem",children:[y.jsx(wo,{className:"w-3 h-3 mr-2"})," KELUAR"]}),y.jsx("button",{className:"md:hidden",onClick:()=>w(!A),children:y.jsx(CS,{})})]})]}),y.jsxs("div",{className:"hidden md:flex gap-2 overflow-x-auto pb-1",children:[y.jsx(k,{view:"scan-attendance",icon:$d,label:"Pendaftaran"}),y.jsx(k,{view:"dashboard",icon:zv,label:"Dashboard Anugerah"}),y.jsx(k,{view:"scan-stage",icon:Cm,label:"Daftar Pentas"}),y.jsx(k,{view:"stage-ready",icon:Nm,label:"Sedia Pentas"}),y.jsx(k,{view:"mc",icon:Lv,label:"Paparan MC"})]})]}),A&&y.jsxs("div",{className:"md:hidden absolute top-24 left-0 w-full bg-white z-50 shadow-xl p-4 flex flex-col gap-2 border-b animate-in slide-in-from-top-5",children:[y.jsx("button",{onClick:()=>{c("scan-attendance"),w(!1)},className:"p-3 bg-slate-50 rounded-xl font-bold text-sm text-slate-600",children:"Pendaftaran"}),y.jsx("button",{onClick:()=>{c("dashboard"),w(!1)},className:"p-3 bg-slate-50 rounded-xl font-bold text-sm text-slate-600",children:"Dashboard Anugerah"}),y.jsx("button",{onClick:()=>{c("scan-stage"),w(!1)},className:"p-3 bg-slate-50 rounded-xl font-bold text-sm text-slate-600",children:"Daftar Pentas"}),y.jsx("button",{onClick:()=>{c("stage-ready"),w(!1)},className:"p-3 bg-slate-50 rounded-xl font-bold text-sm text-slate-600",children:"Sedia Pentas"}),y.jsx("button",{onClick:()=>{c("mc"),w(!1)},className:"p-3 bg-slate-50 rounded-xl font-bold text-sm text-slate-600",children:"Paparan MC"}),y.jsx("button",{onClick:()=>{c(d?"admin":"login"),w(!1)},className:"p-3 bg-yellow-100 text-yellow-700 rounded-xl font-bold text-sm",children:"ADMIN PANEL"}),y.jsxs("button",{onClick:()=>{pe(),w(!1)},className:"p-3 bg-red-50 text-red-600 rounded-xl font-bold text-sm flex items-center gap-2",children:[y.jsx(wo,{size:16})," KELUAR SISTEM"]})]}),y.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[_&&y.jsxs("div",{className:`fixed top-24 right-6 z-[100] px-6 py-4 rounded-2xl shadow-2xl text-white font-bold animate-bounce flex items-center gap-3 border backdrop-blur-md ${_.type==="error"?"bg-red-500/90 border-red-400":"bg-green-500/90 border-green-400"}`,children:[_.type==="error"?y.jsx(wo,{size:24}):y.jsx(kv,{size:24}),y.jsx("div",{children:_.msg})]}),o==="login"&&y.jsx(lI,{onLogin:(x,re)=>{x===tI&&re===nI?(p(!0),c("admin")):alert("Salah!")}}),o==="scan-attendance"&&y.jsx(oI,{recipients:a,onUpdate:_e,showNotify:ie}),o==="dashboard"&&y.jsx(uI,{recipients:a,onUpdate:_e,onResetAll:V,eventTitle:i.title}),o==="scan-stage"&&y.jsx(cI,{recipients:a,onUpdate:_e,showNotify:ie}),o==="stage-ready"&&y.jsx(hI,{recipients:a}),o==="mc"&&y.jsx(fI,{recipients:a,onUpdate:_e,onExit:()=>c("dashboard")}),o==="admin"&&y.jsx(dI,{recipients:a,onAdd:Ne,onUpdate:_e,onDelete:T,onBulk:Se,onClearAll:R,onResetStage:D,onResetAttendance:V,eventConfig:i,onUpdateConfig:te,onLogout:pe,onBulkDelete:N})]}),o!=="mc"&&y.jsx("footer",{className:"bg-white border-t border-slate-200 py-2 text-center text-[10px] text-slate-400 z-10 font-medium tracking-wide",children:y.jsx("span",{children:" 2025 - Mansau Ansau Tech @ Cikgu Khairul Tech"})})]})}$T.createRoot(document.getElementById("root")).render(y.jsx(de.StrictMode,{children:y.jsx(mI,{})}));
